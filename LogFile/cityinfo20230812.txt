2023-08-12 11:06:50.449 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-12 11:06:50.648 +03:00 [DBG] Hosting starting
2023-08-12 11:06:50.977 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-12 11:06:51.034 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-12 11:06:51.048 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-12 11:06:51.049 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-12 11:06:51.173 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-12 11:06:51.183 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-12 11:06:51.189 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-12 11:06:51.193 +03:00 [INF] Hosting environment: Development
2023-08-12 11:06:51.220 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-12 11:06:51.221 +03:00 [DBG] Hosting started
2023-08-12 11:06:51.417 +03:00 [DBG] Connection id "0HMSR1CAR8G8C" accepted.
2023-08-12 11:06:51.420 +03:00 [DBG] Connection id "0HMSR1CAR8G8C" started.
2023-08-12 11:06:51.429 +03:00 [DBG] Connection id "0HMSR1CAR8G8D" received FIN.
2023-08-12 11:06:51.433 +03:00 [DBG] Connection id "0HMSR1CAR8G8C" received FIN.
2023-08-12 11:06:51.435 +03:00 [DBG] Connection id "0HMSR1CAR8G8D" accepted.
2023-08-12 11:06:51.437 +03:00 [DBG] Connection id "0HMSR1CAR8G8D" started.
2023-08-12 11:06:51.503 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 11:06:51.493 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 11:06:51.588 +03:00 [DBG] Connection id "0HMSR1CAR8G8D" stopped.
2023-08-12 11:06:51.588 +03:00 [DBG] Connection id "0HMSR1CAR8G8C" stopped.
2023-08-12 11:06:51.598 +03:00 [DBG] Connection id "0HMSR1CAR8G8D" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 11:06:51.598 +03:00 [DBG] Connection id "0HMSR1CAR8G8C" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 11:06:55.841 +03:00 [DBG] Connection id "0HMSR1CAR8G8E" accepted.
2023-08-12 11:06:56.639 +03:00 [DBG] Connection id "0HMSR1CAR8G8E" started.
2023-08-12 11:06:57.613 +03:00 [DBG] Connection 0HMSR1CAR8G8E established using the following protocol: "Tls12"
2023-08-12 11:06:58.551 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-12 11:06:59.509 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-12 11:07:00.353 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-12 11:07:01.566 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-12 11:07:01.570 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-12 11:07:01.581 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 3071.0737ms
2023-08-12 11:07:01.583 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 12.8451ms
2023-08-12 11:07:01.678 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-12 11:07:02.033 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 355.7230ms
2023-08-12 11:07:02.260 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-12 11:07:02.907 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 646.9393ms
2023-08-12 11:07:04.665 +03:00 [DBG] Connection id "0HMSR1CAR8G8E" received FIN.
2023-08-12 11:07:04.679 +03:00 [DBG] Connection id "0HMSR1CAR8G8E" is closed. The last processed stream ID was 7.
2023-08-12 11:07:04.683 +03:00 [DBG] Connection id "0HMSR1CAR8G8E" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 11:07:04.690 +03:00 [DBG] Connection id "0HMSR1CAR8G8E" stopped.
2023-08-12 11:08:13.236 +03:00 [DBG] Connection id "0HMSR1CAR8G8F" accepted.
2023-08-12 11:08:13.245 +03:00 [DBG] Connection id "0HMSR1CAR8G8F" started.
2023-08-12 11:08:13.264 +03:00 [DBG] Connection 0HMSR1CAR8G8F established using the following protocol: "Tls12"
2023-08-12 11:08:13.269 +03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7109/api/Cities/1001 application/json-patch+json 82
2023-08-12 11:08:13.274 +03:00 [DBG] PATCH requests are not supported
2023-08-12 11:08:13.312 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/1001'
2023-08-12 11:08:13.323 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.UpdatePatchCity (CityInfo)' with route pattern 'api/Cities/{id?}' is valid for the request path '/api/Cities/1001'
2023-08-12 11:08:13.325 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.UpdatePatchCity (CityInfo)'
2023-08-12 11:08:13.329 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.UpdatePatchCity (CityInfo)'
2023-08-12 11:08:13.395 +03:00 [INF] Route matched with {action = "UpdatePatchCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePatchCity(System.Nullable`1[System.Int32], Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 11:08:13.400 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 11:08:13.402 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 11:08:13.404 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 11:08:13.407 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 11:08:13.409 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 11:08:13.412 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 11:08:14.358 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-12 11:08:14.746 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 11:08:14.755 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 11:08:14.759 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' using the name 'id' in request data ...
2023-08-12 11:08:14.762 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 11:08:14.764 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 11:08:14.766 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 11:08:14.775 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 11:08:14.779 +03:00 [DBG] Attempting to bind parameter 'patchcity' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]' ...
2023-08-12 11:08:14.783 +03:00 [DBG] Attempting to bind parameter 'patchcity' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]' using the name '' in request data ...
2023-08-12 11:08:14.787 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-08-12 11:08:14.936 +03:00 [DBG] Connection id "0HMSR1CAR8G8F", Request id "0HMSR1CAR8G8F:00000001": started reading request body.
2023-08-12 11:08:14.945 +03:00 [DBG] Connection id "0HMSR1CAR8G8F", Request id "0HMSR1CAR8G8F:00000001": done reading request body.
2023-08-12 11:08:15.364 +03:00 [DBG] Done attempting to bind parameter 'patchcity' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]'.
2023-08-12 11:08:15.366 +03:00 [DBG] Done attempting to bind parameter 'patchcity' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]'.
2023-08-12 11:08:15.368 +03:00 [DBG] Attempting to validate the bound parameter 'patchcity' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]' ...
2023-08-12 11:08:15.376 +03:00 [DBG] Done attempting to validate the bound parameter 'patchcity' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]'.
2023-08-12 11:08:16.919 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 11:08:17.105 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(u => (int?)u.Id == __id_0)'
2023-08-12 11:08:17.513 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM cities AS c
            WHERE c.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-12 11:08:17.609 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 11:08:17.677 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (68ms).
2023-08-12 11:08:17.781 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 11:08:18.525 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 11:08:18.553 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 11:08:18.673 +03:00 [INF] Executed DbCommand (132ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 11:08:18.751 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:18.816 +03:00 [DBG] A data reader was disposed.
2023-08-12 11:08:18.839 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 11:08:18.868 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 11:08:18.892 +03:00 [DBG] SaveChanges starting for 'ApplicationDb'.
2023-08-12 11:08:18.903 +03:00 [DBG] DetectChanges starting for 'ApplicationDb'.
2023-08-12 11:08:18.952 +03:00 [DBG] DetectChanges completed for 'ApplicationDb'.
2023-08-12 11:08:18.975 +03:00 [DBG] SaveChanges completed for 'ApplicationDb' with 0 entities written to the database.
2023-08-12 11:08:19.024 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 11:08:19.043 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 11:08:19.046 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 11:08:19.052 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 11:08:19.057 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-12 11:08:19.063 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Entities.City'.
2023-08-12 11:08:19.236 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.UpdatePatchCity (CityInfo) in 5797.9529ms
2023-08-12 11:08:19.250 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.UpdatePatchCity (CityInfo)'
2023-08-12 11:08:19.273 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 11:08:19.289 +03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7109/api/Cities/1001 application/json-patch+json 82 - 200 92 application/json;+charset=utf-8 6019.5586ms
2023-08-12 11:08:28.868 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities - -
2023-08-12 11:08:28.878 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 11:08:28.880 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-08-12 11:08:28.882 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/Cities' is valid for the request path '/api/Cities'
2023-08-12 11:08:28.884 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 11:08:28.886 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 11:08:28.893 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities() on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 11:08:28.897 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 11:08:28.898 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 11:08:28.900 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 11:08:28.902 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 11:08:28.904 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 11:08:28.906 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 11:08:28.918 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 11:08:28.923 +03:00 [INF] the all city reads
2023-08-12 11:08:28.928 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 11:08:28.947 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(i => i.pointOfInterests)'
2023-08-12 11:08:28.974 +03:00 [DBG] Including navigation: 'City.pointOfInterests'.
2023-08-12 11:08:29.108 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.Description (string) Required, 4], [Property: PointOfInterest.Name (string) Required, 5], [Property: PointOfInterest.cityid (int) Required FK Index, 6] }
            3 -> 3
        SELECT c.Id, c.Description, c.Name, p.Id, p.Description, p.Name, p.cityid
        FROM cities AS c
        LEFT JOIN pointOfInterests AS p ON c.Id == p.cityid
        ORDER BY c.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.DBContexts.ApplicationDb, 
    False, 
    False, 
    True
)'
2023-08-12 11:08:29.115 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 11:08:29.118 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-08-12 11:08:29.119 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 11:08:29.123 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 11:08:29.126 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 11:08:29.137 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 11:08:29.146 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.159 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.181 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.186 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.191 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.195 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.198 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.200 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.202 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.203 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.205 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.208 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.210 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.212 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.213 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.215 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.216 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.218 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.219 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.223 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.225 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.227 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.231 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.233 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.235 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.236 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.239 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.241 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.242 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.244 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:29.245 +03:00 [DBG] A data reader was disposed.
2023-08-12 11:08:29.246 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 11:08:29.248 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 11:08:29.265 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 11:08:29.271 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-08-12 11:08:29.273 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 11:08:29.274 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 11:08:29.276 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 369.5918ms
2023-08-12 11:08:29.278 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 11:08:29.279 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 11:08:29.280 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities - - - 200 - text/plain;+charset=utf-8 412.3273ms
2023-08-12 11:08:54.379 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities/withPointsOfInterest/1001 - -
2023-08-12 11:08:54.402 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 11:08:54.403 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/withPointsOfInterest/1001'
2023-08-12 11:08:54.404 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)' with route pattern 'api/Cities/withPointsOfInterest/{id}' is valid for the request path '/api/Cities/withPointsOfInterest/1001'
2023-08-12 11:08:54.406 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 11:08:54.408 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 11:08:54.413 +03:00 [INF] Route matched with {action = "Getcity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Getcity(Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 11:08:54.416 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 11:08:54.418 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 11:08:54.420 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 11:08:54.423 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 11:08:54.426 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 11:08:54.428 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 11:08:54.433 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 11:08:54.434 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-08-12 11:08:54.436 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-08-12 11:08:54.438 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-08-12 11:08:54.439 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-08-12 11:08:54.442 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-08-12 11:08:54.443 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-08-12 11:08:54.503 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 11:08:54.510 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.pointOfInterests)
    .FirstOrDefault(c => c.Id == __cityId_0)'
2023-08-12 11:08:54.513 +03:00 [DBG] Including navigation: 'City.pointOfInterests'.
2023-08-12 11:08:54.551 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.Description (string) Required, 4], [Property: PointOfInterest.Name (string) Required, 5], [Property: PointOfInterest.cityid (int) Required FK Index, 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.Description, p.Name, p.cityid
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN pointOfInterests AS p ON t.Id == p.cityid
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-12 11:08:54.556 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 11:08:54.559 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-08-12 11:08:54.560 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 11:08:54.562 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 11:08:54.563 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Id]
2023-08-12 11:08:54.571 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Id]
2023-08-12 11:08:54.575 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:54.577 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:08:54.579 +03:00 [DBG] A data reader was disposed.
2023-08-12 11:08:54.580 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 11:08:54.584 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 11:08:54.588 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 11:08:54.594 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 11:08:54.595 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 11:08:54.596 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 11:08:54.597 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 11:08:54.599 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 11:08:54.601 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcity (CityInfo) in 172.4527ms
2023-08-12 11:08:54.606 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 11:08:54.609 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 11:08:54.611 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities/withPointsOfInterest/1001 - - - 200 - text/plain;+charset=utf-8 232.1522ms
2023-08-12 11:13:08.328 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-12 11:13:08.524 +03:00 [DBG] Hosting starting
2023-08-12 11:13:09.146 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-12 11:13:09.189 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-12 11:13:09.192 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-12 11:13:09.193 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-12 11:13:09.195 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-12 11:13:09.197 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-12 11:13:09.199 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-12 11:13:09.201 +03:00 [INF] Hosting environment: Development
2023-08-12 11:13:09.203 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-12 11:13:09.205 +03:00 [DBG] Hosting started
2023-08-12 11:13:09.341 +03:00 [DBG] Connection id "0HMSR1FRFEM0L" received FIN.
2023-08-12 11:13:09.341 +03:00 [DBG] Connection id "0HMSR1FRFEM0M" received FIN.
2023-08-12 11:13:09.392 +03:00 [DBG] Connection id "0HMSR1FRFEM0M" accepted.
2023-08-12 11:13:09.392 +03:00 [DBG] Connection id "0HMSR1FRFEM0L" accepted.
2023-08-12 11:13:09.403 +03:00 [DBG] Connection id "0HMSR1FRFEM0L" started.
2023-08-12 11:13:09.403 +03:00 [DBG] Connection id "0HMSR1FRFEM0M" started.
2023-08-12 11:13:09.447 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 11:13:09.447 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 11:13:09.579 +03:00 [DBG] Connection id "0HMSR1FRFEM0L" stopped.
2023-08-12 11:13:09.579 +03:00 [DBG] Connection id "0HMSR1FRFEM0M" stopped.
2023-08-12 11:13:09.584 +03:00 [DBG] Connection id "0HMSR1FRFEM0L" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 11:13:09.584 +03:00 [DBG] Connection id "0HMSR1FRFEM0M" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 11:13:10.605 +03:00 [DBG] Connection id "0HMSR1FRFEM0N" accepted.
2023-08-12 11:13:11.062 +03:00 [DBG] Connection id "0HMSR1FRFEM0N" started.
2023-08-12 11:13:11.181 +03:00 [DBG] Connection 0HMSR1FRFEM0N established using the following protocol: "Tls12"
2023-08-12 11:13:11.324 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-12 11:13:11.397 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-12 11:13:11.900 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-12 11:13:12.451 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-12 11:13:12.454 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-12 11:13:12.466 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 1157.6240ms
2023-08-12 11:13:12.470 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 18.3796ms
2023-08-12 11:13:12.491 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-12 11:13:12.680 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 189.7323ms
2023-08-12 11:13:12.802 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-12 11:13:13.340 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 537.3226ms
2023-08-12 11:13:14.093 +03:00 [DBG] Connection id "0HMSR1FRFEM0N" received FIN.
2023-08-12 11:13:14.107 +03:00 [DBG] Connection id "0HMSR1FRFEM0N" is closed. The last processed stream ID was 7.
2023-08-12 11:13:14.110 +03:00 [DBG] Connection id "0HMSR1FRFEM0N" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 11:13:14.122 +03:00 [DBG] Connection id "0HMSR1FRFEM0N" stopped.
2023-08-12 11:14:11.859 +03:00 [DBG] Connection id "0HMSR1FRFEM0O" accepted.
2023-08-12 11:14:11.869 +03:00 [DBG] Connection id "0HMSR1FRFEM0O" started.
2023-08-12 11:14:11.887 +03:00 [DBG] Connection 0HMSR1FRFEM0O established using the following protocol: "Tls12"
2023-08-12 11:14:11.891 +03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7109/api/Cities/1001 application/json-patch+json 86
2023-08-12 11:14:11.910 +03:00 [DBG] PATCH requests are not supported
2023-08-12 11:14:11.945 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/1001'
2023-08-12 11:14:11.955 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.UpdatePatchCity (CityInfo)' with route pattern 'api/Cities/{id?}' is valid for the request path '/api/Cities/1001'
2023-08-12 11:14:11.959 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.UpdatePatchCity (CityInfo)'
2023-08-12 11:14:11.963 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.UpdatePatchCity (CityInfo)'
2023-08-12 11:14:12.008 +03:00 [INF] Route matched with {action = "UpdatePatchCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePatchCity(System.Nullable`1[System.Int32], Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 11:14:12.013 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 11:14:12.014 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 11:14:12.016 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 11:14:12.018 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 11:14:12.020 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 11:14:12.021 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 11:14:12.855 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-12 11:14:13.160 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 11:14:13.170 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 11:14:13.175 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' using the name 'id' in request data ...
2023-08-12 11:14:13.179 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 11:14:13.180 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 11:14:13.182 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 11:14:13.184 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 11:14:13.188 +03:00 [DBG] Attempting to bind parameter 'patchcity' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]' ...
2023-08-12 11:14:13.192 +03:00 [DBG] Attempting to bind parameter 'patchcity' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]' using the name '' in request data ...
2023-08-12 11:14:13.196 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-08-12 11:14:13.210 +03:00 [DBG] Connection id "0HMSR1FRFEM0O", Request id "0HMSR1FRFEM0O:00000001": started reading request body.
2023-08-12 11:14:13.212 +03:00 [DBG] Connection id "0HMSR1FRFEM0O", Request id "0HMSR1FRFEM0O:00000001": done reading request body.
2023-08-12 11:14:13.465 +03:00 [DBG] Done attempting to bind parameter 'patchcity' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]'.
2023-08-12 11:14:13.468 +03:00 [DBG] Done attempting to bind parameter 'patchcity' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]'.
2023-08-12 11:14:13.469 +03:00 [DBG] Attempting to validate the bound parameter 'patchcity' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]' ...
2023-08-12 11:14:13.478 +03:00 [DBG] Done attempting to validate the bound parameter 'patchcity' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Models.Upsertcity]'.
2023-08-12 11:14:22.704 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 11:14:23.066 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(u => (int?)u.Id == __id_0)'
2023-08-12 11:14:23.526 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM cities AS c
            WHERE c.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-12 11:14:23.616 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 11:14:23.739 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (123ms).
2023-08-12 11:14:23.773 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 11:14:24.912 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 11:14:24.938 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 11:14:25.053 +03:00 [INF] Executed DbCommand (124ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 11:14:25.118 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:14:25.169 +03:00 [DBG] A data reader was disposed.
2023-08-12 11:14:25.179 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 11:14:25.194 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 11:14:40.193 +03:00 [DBG] SaveChanges starting for 'ApplicationDb'.
2023-08-12 11:14:40.198 +03:00 [DBG] DetectChanges starting for 'ApplicationDb'.
2023-08-12 11:14:40.221 +03:00 [DBG] DetectChanges completed for 'ApplicationDb'.
2023-08-12 11:14:40.230 +03:00 [DBG] SaveChanges completed for 'ApplicationDb' with 0 entities written to the database.
2023-08-12 11:15:03.684 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 11:15:03.686 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-08-12 11:15:03.688 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 11:15:03.691 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 11:15:03.693 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 11:15:03.725 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 11:15:03.729 +03:00 [DBG] A data reader was disposed.
2023-08-12 11:15:03.730 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 11:15:03.732 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 11:15:07.932 +03:00 [DBG] SaveChanges starting for 'ApplicationDb'.
2023-08-12 11:15:07.934 +03:00 [DBG] DetectChanges starting for 'ApplicationDb'.
2023-08-12 11:15:07.938 +03:00 [DBG] The unchanged property 'City.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-08-12 11:15:07.953 +03:00 [DBG] An entity of type 'City' tracked by 'ApplicationDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:07.955 +03:00 [DBG] DetectChanges completed for 'ApplicationDb'.
2023-08-12 11:15:08.051 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 11:15:08.055 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 11:15:08.064 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-12 11:15:08.105 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-08-12 11:15:08.313 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 11:15:08.317 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-08-12 11:15:08.327 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [cities] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2023-08-12 11:15:08.341 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [cities] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2023-08-12 11:15:08.397 +03:00 [DBG] A data reader was disposed.
2023-08-12 11:15:08.406 +03:00 [DBG] Committing transaction.
2023-08-12 11:15:08.414 +03:00 [DBG] Committed transaction.
2023-08-12 11:15:08.421 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 11:15:08.422 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 11:15:08.429 +03:00 [DBG] Disposing transaction.
2023-08-12 11:15:08.442 +03:00 [DBG] An entity of type 'City' tracked by 'ApplicationDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:08.448 +03:00 [DBG] SaveChanges completed for 'ApplicationDb' with 1 entities written to the database.
2023-08-12 11:15:16.256 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 11:15:16.263 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 11:15:16.264 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 11:15:16.265 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 11:15:16.267 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-12 11:15:16.269 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Entities.City'.
2023-08-12 11:15:16.537 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.UpdatePatchCity (CityInfo) in 64508.7583ms
2023-08-12 11:15:16.542 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.UpdatePatchCity (CityInfo)'
2023-08-12 11:15:16.554 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 11:15:16.563 +03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7109/api/Cities/1001 application/json-patch+json 86 - 200 96 application/json;+charset=utf-8 64672.3116ms
2023-08-12 11:15:26.660 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities - -
2023-08-12 11:15:26.670 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 11:15:26.674 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-08-12 11:15:26.675 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/Cities' is valid for the request path '/api/Cities'
2023-08-12 11:15:26.677 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 11:15:26.679 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 11:15:26.688 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities() on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 11:15:26.692 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 11:15:26.694 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 11:15:26.696 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 11:15:26.699 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 11:15:26.701 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 11:15:26.703 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 11:15:35.266 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 11:15:35.275 +03:00 [INF] the all city reads
2023-08-12 11:15:35.282 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 11:15:35.304 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(i => i.pointOfInterests)'
2023-08-12 11:15:35.334 +03:00 [DBG] Including navigation: 'City.pointOfInterests'.
2023-08-12 11:15:35.466 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.Description (string) Required, 4], [Property: PointOfInterest.Name (string) Required, 5], [Property: PointOfInterest.cityid (int) Required FK Index, 6] }
            3 -> 3
        SELECT c.Id, c.Description, c.Name, p.Id, p.Description, p.Name, p.cityid
        FROM cities AS c
        LEFT JOIN pointOfInterests AS p ON c.Id == p.cityid
        ORDER BY c.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.DBContexts.ApplicationDb, 
    False, 
    False, 
    True
)'
2023-08-12 11:15:35.473 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 11:15:35.475 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-08-12 11:15:35.476 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 11:15:35.478 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 11:15:35.479 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 11:15:35.491 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 11:15:35.500 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.514 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.542 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.549 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.553 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.557 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.559 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.562 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.564 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.565 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.567 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.568 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.570 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.571 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.573 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.574 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.576 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.577 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.579 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.581 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.583 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.586 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.587 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.589 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.590 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.592 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.594 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.595 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.597 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.598 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:15:35.600 +03:00 [DBG] A data reader was disposed.
2023-08-12 11:15:35.601 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 11:15:35.602 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 11:15:35.621 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 11:15:35.627 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-08-12 11:15:35.629 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 11:15:35.632 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 11:15:35.633 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 8930.1272ms
2023-08-12 11:15:35.635 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 11:15:35.637 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 11:15:35.639 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities - - - 200 - text/plain;+charset=utf-8 8978.3761ms
2023-08-12 11:16:08.584 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities/withPointsOfInterest/1001 - -
2023-08-12 11:16:08.597 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 11:16:08.602 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/withPointsOfInterest/1001'
2023-08-12 11:16:08.603 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)' with route pattern 'api/Cities/withPointsOfInterest/{id}' is valid for the request path '/api/Cities/withPointsOfInterest/1001'
2023-08-12 11:16:08.605 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 11:16:08.606 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 11:16:08.611 +03:00 [INF] Route matched with {action = "Getcity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Getcity(Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 11:16:08.615 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 11:16:08.616 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 11:16:08.618 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 11:16:08.620 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 11:16:08.621 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 11:16:08.624 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 11:16:08.628 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 11:16:08.631 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-08-12 11:16:08.632 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-08-12 11:16:08.634 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-08-12 11:16:08.635 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-08-12 11:16:08.636 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-08-12 11:16:08.638 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-08-12 11:16:08.694 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 11:16:08.699 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.pointOfInterests)
    .FirstOrDefault(c => c.Id == __cityId_0)'
2023-08-12 11:16:08.701 +03:00 [DBG] Including navigation: 'City.pointOfInterests'.
2023-08-12 11:16:08.735 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.Description (string) Required, 4], [Property: PointOfInterest.Name (string) Required, 5], [Property: PointOfInterest.cityid (int) Required FK Index, 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.Description, p.Name, p.cityid
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN pointOfInterests AS p ON t.Id == p.cityid
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-12 11:16:08.742 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 11:16:08.743 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-08-12 11:16:08.745 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 11:16:08.746 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 11:16:08.747 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Id]
2023-08-12 11:16:08.752 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Id]
2023-08-12 11:16:08.759 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:16:08.761 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 11:16:08.762 +03:00 [DBG] A data reader was disposed.
2023-08-12 11:16:08.763 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 11:16:08.764 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 11:16:08.767 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 11:16:08.771 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 11:16:08.772 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 11:16:08.774 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 11:16:08.775 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 11:16:08.777 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 11:16:08.778 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcity (CityInfo) in 154.6502ms
2023-08-12 11:16:08.783 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 11:16:08.790 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 11:16:08.792 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities/withPointsOfInterest/1001 - - - 200 - text/plain;+charset=utf-8 207.6346ms
2023-08-12 14:38:03.904 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-12 14:38:04.086 +03:00 [DBG] Hosting starting
2023-08-12 14:38:04.585 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-12 14:38:04.625 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-12 14:38:04.627 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-12 14:38:04.628 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-12 14:38:04.629 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-12 14:38:04.630 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-12 14:38:04.632 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-12 14:38:04.634 +03:00 [INF] Hosting environment: Development
2023-08-12 14:38:04.636 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-12 14:38:04.637 +03:00 [DBG] Hosting started
2023-08-12 14:38:04.801 +03:00 [DBG] Connection id "0HMSR52BPUCCK" accepted.
2023-08-12 14:38:04.801 +03:00 [DBG] Connection id "0HMSR52BPUCCL" accepted.
2023-08-12 14:38:04.813 +03:00 [DBG] Connection id "0HMSR52BPUCCK" started.
2023-08-12 14:38:04.813 +03:00 [DBG] Connection id "0HMSR52BPUCCL" started.
2023-08-12 14:38:06.938 +03:00 [DBG] Connection id "0HMSR52BPUCCM" accepted.
2023-08-12 14:38:07.192 +03:00 [DBG] Connection id "0HMSR52BPUCCM" started.
2023-08-12 14:38:07.545 +03:00 [DBG] Connection 0HMSR52BPUCCM established using the following protocol: "Tls12"
2023-08-12 14:38:07.676 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-12 14:38:07.749 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-12 14:38:08.284 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-12 14:38:08.865 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-12 14:38:08.909 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-12 14:38:08.927 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 1256.8504ms
2023-08-12 14:38:08.943 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 34.2051ms
2023-08-12 14:38:08.966 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-12 14:38:09.133 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 167.2523ms
2023-08-12 14:38:09.251 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-12 14:38:09.954 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 702.9010ms
2023-08-12 14:38:10.894 +03:00 [DBG] Connection id "0HMSR52BPUCCM" received FIN.
2023-08-12 14:38:10.914 +03:00 [DBG] Connection id "0HMSR52BPUCCM" is closed. The last processed stream ID was 7.
2023-08-12 14:38:10.929 +03:00 [DBG] Connection id "0HMSR52BPUCCM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:38:10.954 +03:00 [DBG] Connection id "0HMSR52BPUCCM" stopped.
2023-08-12 14:38:14.865 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2023-08-12 14:38:14.865 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2023-08-12 14:38:14.870 +03:00 [DBG] Connection id "0HMSR52BPUCCK" stopped.
2023-08-12 14:38:14.867 +03:00 [DBG] Connection id "0HMSR52BPUCCL" stopped.
2023-08-12 14:38:14.872 +03:00 [DBG] Connection id "0HMSR52BPUCCK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:38:14.875 +03:00 [DBG] Connection id "0HMSR52BPUCCL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:41:13.472 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-12 14:41:13.597 +03:00 [DBG] Hosting starting
2023-08-12 14:41:13.751 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-12 14:41:13.795 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-12 14:41:13.797 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-12 14:41:13.798 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-12 14:41:13.799 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-12 14:41:13.801 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-12 14:41:13.802 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-12 14:41:13.804 +03:00 [INF] Hosting environment: Development
2023-08-12 14:41:13.806 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-12 14:41:13.807 +03:00 [DBG] Hosting started
2023-08-12 14:41:14.222 +03:00 [DBG] Connection id "0HMSR5448HST3" received FIN.
2023-08-12 14:41:14.222 +03:00 [DBG] Connection id "0HMSR5448HST2" received FIN.
2023-08-12 14:41:14.230 +03:00 [DBG] Connection id "0HMSR5448HST2" accepted.
2023-08-12 14:41:14.234 +03:00 [DBG] Connection id "0HMSR5448HST3" accepted.
2023-08-12 14:41:14.242 +03:00 [DBG] Connection id "0HMSR5448HST2" started.
2023-08-12 14:41:14.242 +03:00 [DBG] Connection id "0HMSR5448HST3" started.
2023-08-12 14:41:14.276 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 14:41:14.274 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 14:41:14.519 +03:00 [DBG] Connection id "0HMSR5448HST2" stopped.
2023-08-12 14:41:14.519 +03:00 [DBG] Connection id "0HMSR5448HST3" stopped.
2023-08-12 14:41:14.524 +03:00 [DBG] Connection id "0HMSR5448HST2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:41:14.524 +03:00 [DBG] Connection id "0HMSR5448HST3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:41:15.737 +03:00 [DBG] Connection id "0HMSR5448HST4" accepted.
2023-08-12 14:41:15.784 +03:00 [DBG] Connection id "0HMSR5448HST4" started.
2023-08-12 14:41:15.947 +03:00 [DBG] Connection 0HMSR5448HST4 established using the following protocol: "Tls12"
2023-08-12 14:41:16.041 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-12 14:41:16.122 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-12 14:41:16.641 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-12 14:41:16.916 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-12 14:41:16.937 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-12 14:41:16.946 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 9.1103ms
2023-08-12 14:41:16.949 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 915.5842ms
2023-08-12 14:41:16.951 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-12 14:41:17.086 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 135.5811ms
2023-08-12 14:41:17.204 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-12 14:41:17.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 532.0158ms
2023-08-12 14:41:18.119 +03:00 [DBG] Connection id "0HMSR5448HST4" received FIN.
2023-08-12 14:41:18.134 +03:00 [DBG] Connection id "0HMSR5448HST4" is closed. The last processed stream ID was 7.
2023-08-12 14:41:18.138 +03:00 [DBG] Connection id "0HMSR5448HST4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:41:18.152 +03:00 [DBG] Connection id "0HMSR5448HST4" stopped.
2023-08-12 14:41:33.189 +03:00 [DBG] Connection id "0HMSR5448HST5" accepted.
2023-08-12 14:41:33.191 +03:00 [DBG] Connection id "0HMSR5448HST5" started.
2023-08-12 14:41:33.199 +03:00 [DBG] Connection 0HMSR5448HST5 established using the following protocol: "Tls12"
2023-08-12 14:41:33.202 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - -
2023-08-12 14:41:33.207 +03:00 [DBG] DELETE requests are not supported
2023-08-12 14:41:33.244 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/1001'
2023-08-12 14:41:33.253 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/Cities/1001'
2023-08-12 14:41:33.256 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:41:33.261 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:41:33.309 +03:00 [INF] Route matched with {action = "Deletecity", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Deletecity(System.Nullable`1[System.Int32]) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:41:33.313 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:41:33.314 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:41:33.316 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:41:33.318 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:41:33.320 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:41:33.324 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:41:34.344 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-12 14:41:34.743 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:41:34.753 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:41:34.759 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' using the name 'id' in request data ...
2023-08-12 14:41:34.764 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:41:34.765 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:41:34.767 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:41:34.773 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:41:36.213 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:41:36.573 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(f => (int?)f.Id == __id_0)'
2023-08-12 14:41:37.087 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM cities AS c
            WHERE c.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-12 14:41:37.191 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:41:37.309 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (121ms).
2023-08-12 14:41:37.338 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:41:37.442 +03:00 [INF] the City that have id 1001 is Deleted
2023-08-12 14:41:37.448 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:41:37.459 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 14:41:37.461 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 14:41:37.462 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 14:41:37.464 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:41:37.466 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:41:37.479 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Deletecity (CityInfo) in 4146.8669ms
2023-08-12 14:41:37.482 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:41:37.493 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:41:37.710 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - - - 200 - text/plain;+charset=utf-8 4507.7449ms
2023-08-12 14:41:37.716 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-12 14:41:37.761 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-12 14:41:43.647 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities - -
2023-08-12 14:41:43.648 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 14:41:43.652 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-08-12 14:41:43.653 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/Cities' is valid for the request path '/api/Cities'
2023-08-12 14:41:43.656 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:41:43.658 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:41:43.666 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities() on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:41:43.669 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:41:43.671 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:41:43.673 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:41:43.675 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:41:43.677 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:41:43.678 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:41:43.690 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:41:43.699 +03:00 [INF] the all city reads
2023-08-12 14:41:43.705 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:41:43.878 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(i => i.pointOfInterests)'
2023-08-12 14:41:43.913 +03:00 [DBG] Including navigation: 'City.pointOfInterests'.
2023-08-12 14:41:44.096 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.Description (string) Required, 4], [Property: PointOfInterest.Name (string) Required, 5], [Property: PointOfInterest.cityid (int) Required FK Index, 6] }
            3 -> 3
        SELECT c.Id, c.Description, c.Name, p.Id, p.Description, p.Name, p.cityid
        FROM cities AS c
        LEFT JOIN pointOfInterests AS p ON c.Id == p.cityid
        ORDER BY c.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.DBContexts.ApplicationDb, 
    False, 
    False, 
    True
)'
2023-08-12 14:41:44.104 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:41:44.106 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-08-12 14:41:44.107 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:41:44.114 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:41:44.129 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 14:41:44.217 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 14:41:44.292 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.342 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.367 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.373 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.377 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.381 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.384 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.386 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.387 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.389 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.391 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.392 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.394 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.395 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.397 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.399 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.401 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.402 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.404 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.405 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.408 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.410 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.412 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.415 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.417 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.418 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.420 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.422 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.423 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.425 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:44.439 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:41:44.464 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:41:44.477 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:41:44.785 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:41:44.789 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-08-12 14:41:44.791 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:41:44.792 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:41:44.795 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 1116.8761ms
2023-08-12 14:41:44.799 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:41:44.802 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:41:44.804 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities - - - 200 - text/plain;+charset=utf-8 1157.1391ms
2023-08-12 14:41:52.222 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities - -
2023-08-12 14:41:52.223 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 14:41:52.224 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-08-12 14:41:52.226 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/Cities' is valid for the request path '/api/Cities'
2023-08-12 14:41:52.230 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:41:52.233 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:41:52.234 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities() on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:41:52.236 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:41:52.238 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:41:52.240 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:41:52.243 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:41:52.245 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:41:52.248 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:41:52.254 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:41:52.256 +03:00 [INF] the all city reads
2023-08-12 14:41:52.317 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:41:52.324 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:41:52.326 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-08-12 14:41:52.328 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:41:52.329 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:41:52.332 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 14:41:52.342 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 14:41:52.348 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.351 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.353 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.355 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.356 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.358 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.359 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.363 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.364 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.366 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.367 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.369 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.370 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.372 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.373 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.375 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.378 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.381 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.383 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.384 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.386 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.388 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.390 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.392 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.395 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.397 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.399 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.400 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.402 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.404 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:41:52.406 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:41:52.407 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:41:52.409 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:41:52.413 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:41:52.416 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-08-12 14:41:52.418 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:41:52.419 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:41:52.421 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 173.0564ms
2023-08-12 14:41:52.426 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:41:52.428 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:41:52.430 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities - - - 200 - text/plain;+charset=utf-8 208.0570ms
2023-08-12 14:42:34.544 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-12 14:42:34.678 +03:00 [DBG] Hosting starting
2023-08-12 14:42:34.828 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-12 14:42:34.865 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-12 14:42:34.867 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-12 14:42:34.868 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-12 14:42:34.869 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-12 14:42:34.871 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-12 14:42:34.873 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-12 14:42:34.875 +03:00 [INF] Hosting environment: Development
2023-08-12 14:42:34.876 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-12 14:42:34.877 +03:00 [DBG] Hosting started
2023-08-12 14:42:35.167 +03:00 [DBG] Connection id "0HMSR54SCG393" received FIN.
2023-08-12 14:42:35.171 +03:00 [DBG] Connection id "0HMSR54SCG392" received FIN.
2023-08-12 14:42:35.185 +03:00 [DBG] Connection id "0HMSR54SCG391" accepted.
2023-08-12 14:42:35.185 +03:00 [DBG] Connection id "0HMSR54SCG393" accepted.
2023-08-12 14:42:35.193 +03:00 [DBG] Connection id "0HMSR54SCG392" started.
2023-08-12 14:42:35.206 +03:00 [DBG] Connection id "0HMSR54SCG393" started.
2023-08-12 14:42:35.249 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 14:42:35.249 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 14:42:35.298 +03:00 [DBG] Connection id "0HMSR54SCG393" stopped.
2023-08-12 14:42:35.298 +03:00 [DBG] Connection id "0HMSR54SCG392" stopped.
2023-08-12 14:42:35.303 +03:00 [DBG] Connection id "0HMSR54SCG392" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:42:35.303 +03:00 [DBG] Connection id "0HMSR54SCG393" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:42:36.293 +03:00 [DBG] Connection id "0HMSR54SCG394" accepted.
2023-08-12 14:42:36.655 +03:00 [DBG] Connection id "0HMSR54SCG394" started.
2023-08-12 14:42:36.805 +03:00 [DBG] Connection 0HMSR54SCG394 established using the following protocol: "Tls12"
2023-08-12 14:42:36.902 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-12 14:42:36.969 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-12 14:42:37.488 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-12 14:42:37.722 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-12 14:42:37.745 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-12 14:42:37.758 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-12 14:42:37.762 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 868.8044ms
2023-08-12 14:42:37.766 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 21.7193ms
2023-08-12 14:42:37.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 91.9560ms
2023-08-12 14:42:38.031 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-12 14:42:38.544 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 512.8015ms
2023-08-12 14:42:38.744 +03:00 [DBG] Connection id "0HMSR54SCG394" received FIN.
2023-08-12 14:42:38.773 +03:00 [DBG] Connection id "0HMSR54SCG394" is closed. The last processed stream ID was 7.
2023-08-12 14:42:38.777 +03:00 [DBG] Connection id "0HMSR54SCG394" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:42:38.797 +03:00 [DBG] Connection id "0HMSR54SCG394" stopped.
2023-08-12 14:42:48.238 +03:00 [DBG] Connection id "0HMSR54SCG395" accepted.
2023-08-12 14:42:48.245 +03:00 [DBG] Connection id "0HMSR54SCG395" started.
2023-08-12 14:42:48.250 +03:00 [DBG] Connection 0HMSR54SCG395 established using the following protocol: "Tls12"
2023-08-12 14:42:48.253 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - -
2023-08-12 14:42:48.257 +03:00 [DBG] DELETE requests are not supported
2023-08-12 14:42:48.290 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/1001'
2023-08-12 14:42:48.302 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/Cities/1001'
2023-08-12 14:42:48.305 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:42:48.309 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:42:48.347 +03:00 [INF] Route matched with {action = "Deletecity", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Deletecity(System.Nullable`1[System.Int32]) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:42:48.351 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:42:48.352 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:42:48.354 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:42:48.356 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:42:48.358 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:42:48.359 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:42:48.545 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-12 14:42:48.793 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:42:48.799 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:42:48.803 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' using the name 'id' in request data ...
2023-08-12 14:42:48.805 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:42:48.806 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:42:48.808 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:42:48.811 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:42:49.925 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:42:50.035 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(f => (int?)f.Id == __id_0)'
2023-08-12 14:42:50.445 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM cities AS c
            WHERE c.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-12 14:42:50.532 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:42:50.583 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (53ms).
2023-08-12 14:42:50.609 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:42:50.670 +03:00 [INF] the City that have id 1001 is Deleted
2023-08-12 14:42:50.783 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-12 14:42:51.044 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:42:51.086 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 14:42:51.088 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 14:42:51.091 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 14:42:51.096 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:42:51.100 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:42:51.118 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Deletecity (CityInfo) in 2747.5767ms
2023-08-12 14:42:51.123 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:42:51.136 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:42:51.165 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - - - 200 - text/plain;+charset=utf-8 2911.1718ms
2023-08-12 14:42:51.170 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-12 14:42:51.189 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-12 14:42:57.671 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities - -
2023-08-12 14:42:57.673 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 14:42:57.676 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-08-12 14:42:57.679 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/Cities' is valid for the request path '/api/Cities'
2023-08-12 14:42:57.681 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:42:57.682 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:42:57.690 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities() on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:42:57.694 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:42:57.695 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:42:57.697 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:42:57.700 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:42:57.701 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:42:57.704 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:42:57.716 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:42:57.719 +03:00 [INF] the all city reads
2023-08-12 14:42:57.725 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:42:57.741 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(i => i.pointOfInterests)'
2023-08-12 14:42:57.781 +03:00 [DBG] Including navigation: 'City.pointOfInterests'.
2023-08-12 14:42:57.926 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.Description (string) Required, 4], [Property: PointOfInterest.Name (string) Required, 5], [Property: PointOfInterest.cityid (int) Required FK Index, 6] }
            3 -> 3
        SELECT c.Id, c.Description, c.Name, p.Id, p.Description, p.Name, p.cityid
        FROM cities AS c
        LEFT JOIN pointOfInterests AS p ON c.Id == p.cityid
        ORDER BY c.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.DBContexts.ApplicationDb, 
    False, 
    False, 
    True
)'
2023-08-12 14:42:57.933 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:42:57.935 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-08-12 14:42:57.937 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:42:57.945 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:42:57.961 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 14:42:58.062 +03:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 14:42:58.133 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.176 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.209 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.214 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.216 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.222 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.224 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.226 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.228 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.230 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.231 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.233 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.234 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.236 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.237 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.239 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.241 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.243 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.245 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.246 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.248 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.250 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.251 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.252 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.254 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.256 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.258 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.259 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.261 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.262 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:42:58.276 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:42:58.286 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:42:58.294 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:42:58.459 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:42:58.465 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-08-12 14:42:58.466 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:42:58.468 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:42:58.471 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 767.3513ms
2023-08-12 14:42:58.475 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:42:58.478 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:42:58.480 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities - - - 200 - text/plain;+charset=utf-8 808.6493ms
2023-08-12 14:43:11.299 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities - -
2023-08-12 14:43:11.301 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 14:43:11.302 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-08-12 14:43:11.304 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/Cities' is valid for the request path '/api/Cities'
2023-08-12 14:43:11.306 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:43:11.308 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:43:11.309 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities() on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:43:11.314 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:43:11.316 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:43:11.318 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:43:11.322 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:43:11.324 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:43:11.326 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:43:11.333 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:43:11.335 +03:00 [INF] the all city reads
2023-08-12 14:43:11.425 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:43:11.429 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:43:11.432 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-08-12 14:43:11.434 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:43:11.436 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:43:11.437 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 14:43:11.458 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 14:43:11.461 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.463 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.467 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.468 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.470 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.472 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.474 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.476 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.478 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.480 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.483 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.484 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.486 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.488 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.490 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.491 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.493 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.494 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.496 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.499 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.500 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.501 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.503 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.505 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.506 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.508 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.509 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.511 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.512 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.514 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:11.516 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:43:11.517 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:43:11.518 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:43:11.520 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:43:11.523 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-08-12 14:43:11.524 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:43:11.525 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:43:11.527 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 201.1213ms
2023-08-12 14:43:11.529 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:43:11.532 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:43:11.533 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities - - - 200 - text/plain;+charset=utf-8 234.7468ms
2023-08-12 14:43:22.005 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities/withPointsOfInterest/1001 - -
2023-08-12 14:43:22.006 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 14:43:22.008 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/withPointsOfInterest/1001'
2023-08-12 14:43:22.011 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)' with route pattern 'api/Cities/withPointsOfInterest/{id}' is valid for the request path '/api/Cities/withPointsOfInterest/1001'
2023-08-12 14:43:22.014 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 14:43:22.015 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 14:43:22.019 +03:00 [INF] Route matched with {action = "Getcity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Getcity(Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:43:22.023 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:43:22.024 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:43:22.026 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:43:22.030 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:43:22.032 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:43:22.033 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:43:22.035 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:43:22.037 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-08-12 14:43:22.038 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-08-12 14:43:22.039 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-08-12 14:43:22.041 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-08-12 14:43:22.043 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-08-12 14:43:22.045 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-08-12 14:43:22.050 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:43:22.054 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.pointOfInterests)
    .FirstOrDefault(c => c.Id == __cityId_0)'
2023-08-12 14:43:22.055 +03:00 [DBG] Including navigation: 'City.pointOfInterests'.
2023-08-12 14:43:22.091 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.Description (string) Required, 4], [Property: PointOfInterest.Name (string) Required, 5], [Property: PointOfInterest.cityid (int) Required FK Index, 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.Description, p.Name, p.cityid
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN pointOfInterests AS p ON t.Id == p.cityid
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-12 14:43:22.097 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:43:22.098 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-12 14:43:22.100 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:43:22.101 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:43:22.114 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Id]
2023-08-12 14:43:22.214 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Id]
2023-08-12 14:43:22.218 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:22.219 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:22.223 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:43:22.224 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:43:22.228 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:43:22.231 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:43:22.234 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 14:43:22.235 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 14:43:22.236 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 14:43:22.237 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:43:22.239 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:43:22.240 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcity (CityInfo) in 207.0437ms
2023-08-12 14:43:22.243 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 14:43:22.245 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:43:22.246 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities/withPointsOfInterest/1001 - - - 200 - text/plain;+charset=utf-8 241.6207ms
2023-08-12 14:43:34.930 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - -
2023-08-12 14:43:34.931 +03:00 [DBG] DELETE requests are not supported
2023-08-12 14:43:34.932 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/1001'
2023-08-12 14:43:34.936 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/Cities/1001'
2023-08-12 14:43:34.939 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:43:34.941 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:43:34.942 +03:00 [INF] Route matched with {action = "Deletecity", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Deletecity(System.Nullable`1[System.Int32]) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:43:34.944 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:43:34.946 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:43:34.948 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:43:34.950 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:43:34.952 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:43:34.956 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:43:34.958 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:43:34.960 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:43:34.961 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' using the name 'id' in request data ...
2023-08-12 14:43:34.963 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:43:34.964 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:43:34.965 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:43:34.967 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:43:34.969 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:43:34.972 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:43:34.974 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-08-12 14:43:34.977 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:43:34.979 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:43:34.980 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 14:43:34.986 +03:00 [INF] the City that have id 1001 is Deleted
2023-08-12 14:43:34.987 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 14:43:34.989 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-12 14:43:34.992 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:43:35.030 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:43:35.033 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:43:35.037 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 14:43:35.038 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:43:35.039 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 14:43:35.041 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:43:35.042 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 14:43:35.045 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:43:35.046 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:43:35.048 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Deletecity (CityInfo) in 92.1387ms
2023-08-12 14:43:35.050 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:43:35.053 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:43:35.054 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - - - 200 - text/plain;+charset=utf-8 123.9871ms
2023-08-12 14:43:35.077 +03:00 [DBG] An entity of type 'City' tracked by 'ApplicationDb' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:44:40.969 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-12 14:44:41.091 +03:00 [DBG] Hosting starting
2023-08-12 14:44:41.241 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-12 14:44:41.292 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-12 14:44:41.295 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-12 14:44:41.299 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-12 14:44:41.301 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-12 14:44:41.304 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-12 14:44:41.307 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-12 14:44:41.312 +03:00 [INF] Hosting environment: Development
2023-08-12 14:44:41.315 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-12 14:44:41.318 +03:00 [DBG] Hosting started
2023-08-12 14:44:41.588 +03:00 [DBG] Connection id "0HMSR562253UT" received FIN.
2023-08-12 14:44:41.623 +03:00 [DBG] Connection id "0HMSR562253UT" accepted.
2023-08-12 14:44:41.662 +03:00 [DBG] Connection id "0HMSR562253UT" started.
2023-08-12 14:44:41.696 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 14:44:41.766 +03:00 [DBG] Connection id "0HMSR562253UT" stopped.
2023-08-12 14:44:41.773 +03:00 [DBG] Connection id "0HMSR562253UT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:44:42.587 +03:00 [DBG] Connection id "0HMSR562253UU" accepted.
2023-08-12 14:44:43.024 +03:00 [DBG] Connection id "0HMSR562253UU" started.
2023-08-12 14:44:43.117 +03:00 [DBG] Connection 0HMSR562253UU established using the following protocol: "Tls12"
2023-08-12 14:44:43.227 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-12 14:44:43.289 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-12 14:44:43.837 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-12 14:44:44.102 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-12 14:44:44.110 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-12 14:44:44.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 898.5971ms
2023-08-12 14:44:44.126 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 16.0119ms
2023-08-12 14:44:44.140 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-12 14:44:44.289 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 148.4720ms
2023-08-12 14:44:44.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-12 14:44:44.833 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 445.7950ms
2023-08-12 14:44:45.306 +03:00 [DBG] Connection id "0HMSR562253UU" received FIN.
2023-08-12 14:44:45.319 +03:00 [DBG] Connection id "0HMSR562253UU" is closed. The last processed stream ID was 7.
2023-08-12 14:44:45.327 +03:00 [DBG] Connection id "0HMSR562253UU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:44:45.342 +03:00 [DBG] Connection id "0HMSR562253UU" stopped.
2023-08-12 14:44:58.497 +03:00 [DBG] Connection id "0HMSR562253UV" accepted.
2023-08-12 14:44:58.499 +03:00 [DBG] Connection id "0HMSR562253UV" started.
2023-08-12 14:44:58.506 +03:00 [DBG] Connection 0HMSR562253UV established using the following protocol: "Tls12"
2023-08-12 14:44:58.510 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - -
2023-08-12 14:44:58.513 +03:00 [DBG] DELETE requests are not supported
2023-08-12 14:44:58.546 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/1001'
2023-08-12 14:44:58.557 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/Cities/1001'
2023-08-12 14:44:58.560 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:44:58.563 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:44:58.598 +03:00 [INF] Route matched with {action = "Deletecity", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Deletecity(System.Nullable`1[System.Int32]) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:44:58.603 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:44:58.605 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:44:58.607 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:44:58.609 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:44:58.611 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:44:58.613 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:44:58.799 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-12 14:44:59.114 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:44:59.124 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:44:59.128 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' using the name 'id' in request data ...
2023-08-12 14:44:59.130 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:44:59.131 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:44:59.133 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:44:59.138 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:45:00.269 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:45:00.373 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(f => (int?)f.Id == __id_0)'
2023-08-12 14:45:00.757 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM cities AS c
            WHERE c.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-12 14:45:00.852 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:45:00.901 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (50ms).
2023-08-12 14:45:00.925 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:45:00.978 +03:00 [INF] the City that have id 1001 is Deleted
2023-08-12 14:45:00.995 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-12 14:45:01.075 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:45:01.082 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 14:45:01.083 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 14:45:01.084 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 14:45:01.086 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:45:01.088 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:45:01.113 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Deletecity (CityInfo) in 2478.3943ms
2023-08-12 14:45:01.116 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:45:01.125 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:45:01.141 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - - - 200 - text/plain;+charset=utf-8 2630.9120ms
2023-08-12 14:45:01.147 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-12 14:45:01.163 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-12 14:45:07.567 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities - -
2023-08-12 14:45:07.569 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 14:45:07.573 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-08-12 14:45:07.574 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/Cities' is valid for the request path '/api/Cities'
2023-08-12 14:45:07.577 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:45:07.579 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:45:07.585 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities() on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:45:07.591 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:45:07.593 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:45:07.594 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:45:07.596 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:45:07.598 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:45:07.602 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:45:07.611 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:45:07.617 +03:00 [INF] the all city reads
2023-08-12 14:45:07.622 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:45:07.638 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(i => i.pointOfInterests)'
2023-08-12 14:45:07.686 +03:00 [DBG] Including navigation: 'City.pointOfInterests'.
2023-08-12 14:45:07.817 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.Description (string) Required, 4], [Property: PointOfInterest.Name (string) Required, 5], [Property: PointOfInterest.cityid (int) Required FK Index, 6] }
            3 -> 3
        SELECT c.Id, c.Description, c.Name, p.Id, p.Description, p.Name, p.cityid
        FROM cities AS c
        LEFT JOIN pointOfInterests AS p ON c.Id == p.cityid
        ORDER BY c.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.DBContexts.ApplicationDb, 
    False, 
    False, 
    True
)'
2023-08-12 14:45:07.823 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:45:07.825 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-08-12 14:45:07.826 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:45:07.835 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:45:07.851 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 14:45:07.949 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 14:45:08.016 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.055 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.092 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.099 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.102 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.105 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.107 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.110 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.111 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.112 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.116 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.117 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.119 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.120 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.122 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.123 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.125 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.126 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.128 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.131 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.134 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.135 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.137 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.138 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.140 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.141 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.142 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.144 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.146 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.148 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:45:08.161 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:45:08.172 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:45:08.179 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:45:08.353 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:45:08.358 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-08-12 14:45:08.360 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:45:08.362 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:45:08.366 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 764.298ms
2023-08-12 14:45:08.369 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:45:08.371 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:45:08.373 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities - - - 200 - text/plain;+charset=utf-8 805.1886ms
2023-08-12 14:47:52.417 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-12 14:47:52.450 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-12 14:47:52.459 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-12 14:47:52.462 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 44.7625ms
2023-08-12 14:47:52.490 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-12 14:47:52.490 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-12 14:47:52.494 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 5.4539ms
2023-08-12 14:47:52.595 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 105.6557ms
2023-08-12 14:47:52.765 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-12 14:47:52.780 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 15.7967ms
2023-08-12 14:47:59.243 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-12 14:47:59.376 +03:00 [DBG] Hosting starting
2023-08-12 14:47:59.541 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-12 14:47:59.577 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-12 14:47:59.578 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-12 14:47:59.580 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-12 14:47:59.581 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-12 14:47:59.583 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-12 14:47:59.584 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-12 14:47:59.588 +03:00 [INF] Hosting environment: Development
2023-08-12 14:47:59.589 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-12 14:47:59.590 +03:00 [DBG] Hosting started
2023-08-12 14:47:59.871 +03:00 [DBG] Connection id "0HMSR57T549LK" received FIN.
2023-08-12 14:47:59.907 +03:00 [DBG] Connection id "0HMSR57T549LK" accepted.
2023-08-12 14:47:59.916 +03:00 [DBG] Connection id "0HMSR57T549LK" started.
2023-08-12 14:48:00.013 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 14:48:00.082 +03:00 [DBG] Connection id "0HMSR57T549LK" stopped.
2023-08-12 14:48:00.091 +03:00 [DBG] Connection id "0HMSR57T549LK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:48:00.948 +03:00 [DBG] Connection id "0HMSR57T549LL" accepted.
2023-08-12 14:48:01.352 +03:00 [DBG] Connection id "0HMSR57T549LL" started.
2023-08-12 14:48:01.468 +03:00 [DBG] Connection 0HMSR57T549LL established using the following protocol: "Tls12"
2023-08-12 14:48:01.568 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-12 14:48:01.640 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-12 14:48:02.189 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-12 14:48:02.446 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-12 14:48:02.451 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-12 14:48:02.469 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 21.6204ms
2023-08-12 14:48:02.471 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 916.9614ms
2023-08-12 14:48:02.483 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-12 14:48:02.584 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 100.4668ms
2023-08-12 14:48:02.776 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-12 14:48:03.239 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 462.9959ms
2023-08-12 14:48:03.737 +03:00 [DBG] Connection id "0HMSR57T549LL" received FIN.
2023-08-12 14:48:03.755 +03:00 [DBG] Connection id "0HMSR57T549LL" is closed. The last processed stream ID was 7.
2023-08-12 14:48:03.759 +03:00 [DBG] Connection id "0HMSR57T549LL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:48:03.766 +03:00 [DBG] Connection id "0HMSR57T549LL" stopped.
2023-08-12 14:48:21.082 +03:00 [DBG] Connection id "0HMSR57T549LM" accepted.
2023-08-12 14:48:21.084 +03:00 [DBG] Connection id "0HMSR57T549LM" started.
2023-08-12 14:48:21.089 +03:00 [DBG] Connection 0HMSR57T549LM established using the following protocol: "Tls12"
2023-08-12 14:48:21.095 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - -
2023-08-12 14:48:21.102 +03:00 [DBG] DELETE requests are not supported
2023-08-12 14:48:21.138 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/1001'
2023-08-12 14:48:21.148 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/Cities/1001'
2023-08-12 14:48:21.151 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:48:21.156 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:48:21.195 +03:00 [INF] Route matched with {action = "Deletecity", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Deletecity(System.Nullable`1[System.Int32]) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:48:21.198 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:48:21.200 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:48:21.203 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:48:21.206 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:48:21.207 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:48:21.210 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:48:21.410 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-12 14:48:21.734 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:48:21.743 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:48:21.746 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' using the name 'id' in request data ...
2023-08-12 14:48:21.749 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:48:21.750 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:48:21.752 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:48:21.756 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:48:23.083 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:48:23.210 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(f => (int?)f.Id == __id_0)'
2023-08-12 14:48:23.646 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM cities AS c
            WHERE c.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-12 14:48:23.756 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:48:23.827 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (72ms).
2023-08-12 14:48:23.856 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:48:23.911 +03:00 [INF] the City that have id 1001 is Deleted
2023-08-12 14:48:23.923 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-12 14:48:24.006 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:48:24.013 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 14:48:24.014 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 14:48:24.015 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 14:48:24.018 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:48:24.021 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:48:24.054 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Deletecity (CityInfo) in 2814.0715ms
2023-08-12 14:48:24.057 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:48:24.066 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:48:24.090 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - - - 200 - text/plain;+charset=utf-8 2994.7979ms
2023-08-12 14:48:24.097 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-12 14:48:24.118 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-12 14:50:59.994 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-12 14:51:00.125 +03:00 [DBG] Hosting starting
2023-08-12 14:51:00.285 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-12 14:51:00.320 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-12 14:51:00.322 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-12 14:51:00.323 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-12 14:51:00.324 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-12 14:51:00.326 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-12 14:51:00.328 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-12 14:51:00.330 +03:00 [INF] Hosting environment: Development
2023-08-12 14:51:00.331 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-12 14:51:00.332 +03:00 [DBG] Hosting started
2023-08-12 14:51:00.371 +03:00 [DBG] Connection id "0HMSR59IUFOLJ" accepted.
2023-08-12 14:51:00.376 +03:00 [DBG] Connection id "0HMSR59IUFOLJ" started.
2023-08-12 14:51:00.395 +03:00 [DBG] Connection id "0HMSR59IUFOLJ" received FIN.
2023-08-12 14:51:00.456 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 14:51:00.617 +03:00 [DBG] Connection id "0HMSR59IUFOLJ" stopped.
2023-08-12 14:51:00.622 +03:00 [DBG] Connection id "0HMSR59IUFOLJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:51:01.583 +03:00 [DBG] Connection id "0HMSR59IUFOLK" accepted.
2023-08-12 14:51:01.895 +03:00 [DBG] Connection id "0HMSR59IUFOLK" started.
2023-08-12 14:51:01.968 +03:00 [DBG] Connection 0HMSR59IUFOLK established using the following protocol: "Tls12"
2023-08-12 14:51:02.075 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-12 14:51:02.137 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-12 14:51:02.677 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-12 14:51:02.921 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-12 14:51:02.949 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-12 14:51:02.950 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 884.9236ms
2023-08-12 14:51:02.967 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 18.3101ms
2023-08-12 14:51:02.972 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-12 14:51:03.046 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 73.8219ms
2023-08-12 14:51:03.225 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-12 14:51:03.651 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 426.8898ms
2023-08-12 14:51:04.091 +03:00 [DBG] Connection id "0HMSR59IUFOLK" received FIN.
2023-08-12 14:51:04.107 +03:00 [DBG] Connection id "0HMSR59IUFOLK" is closed. The last processed stream ID was 7.
2023-08-12 14:51:04.115 +03:00 [DBG] Connection id "0HMSR59IUFOLK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:51:04.127 +03:00 [DBG] Connection id "0HMSR59IUFOLK" stopped.
2023-08-12 14:51:15.540 +03:00 [DBG] Connection id "0HMSR59IUFOLL" accepted.
2023-08-12 14:51:15.542 +03:00 [DBG] Connection id "0HMSR59IUFOLL" started.
2023-08-12 14:51:15.547 +03:00 [DBG] Connection 0HMSR59IUFOLL established using the following protocol: "Tls12"
2023-08-12 14:51:15.551 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7109/api/Cities/10011 - -
2023-08-12 14:51:15.557 +03:00 [DBG] DELETE requests are not supported
2023-08-12 14:51:15.590 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/10011'
2023-08-12 14:51:15.599 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/Cities/10011'
2023-08-12 14:51:15.604 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:51:15.608 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:51:15.643 +03:00 [INF] Route matched with {action = "Deletecity", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Deletecity(System.Nullable`1[System.Int32]) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:51:15.647 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:51:15.649 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:51:15.650 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:51:15.653 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:51:15.655 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:51:15.657 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:51:15.840 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-12 14:51:16.098 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:51:16.105 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:51:16.109 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' using the name 'id' in request data ...
2023-08-12 14:51:16.111 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:51:16.113 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:51:16.115 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:51:16.118 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:51:22.903 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:51:23.046 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(f => (int?)f.Id == __id_0)'
2023-08-12 14:51:23.557 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM cities AS c
            WHERE c.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-12 14:51:23.667 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:51:23.718 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (53ms).
2023-08-12 14:51:23.743 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:51:24.039 +03:00 [INF] the City that have id 10011 is Deleted
2023-08-12 14:51:26.939 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-12 14:51:32.285 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:51:32.293 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 14:51:32.300 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 14:51:32.308 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 14:51:32.310 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:51:32.312 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:51:32.322 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Deletecity (CityInfo) in 16658.0553ms
2023-08-12 14:51:32.326 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:51:32.335 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:51:32.356 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7109/api/Cities/10011 - - - 200 - text/plain;+charset=utf-8 16805.1645ms
2023-08-12 14:51:32.362 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-12 14:51:32.381 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-12 14:51:41.056 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - -
2023-08-12 14:51:41.057 +03:00 [DBG] DELETE requests are not supported
2023-08-12 14:51:41.061 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/1001'
2023-08-12 14:51:41.063 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/Cities/1001'
2023-08-12 14:51:41.066 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:51:41.067 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:51:41.069 +03:00 [INF] Route matched with {action = "Deletecity", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Deletecity(System.Nullable`1[System.Int32]) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:51:41.073 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:51:41.075 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:51:41.077 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:51:41.079 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:51:41.080 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:51:41.082 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:52:02.522 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:52:02.524 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:52:02.526 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' using the name 'id' in request data ...
2023-08-12 14:52:02.530 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:52:02.531 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:52:02.532 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:52:02.534 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:52:04.529 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:52:04.532 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:52:04.534 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-08-12 14:52:04.536 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:52:04.542 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:52:04.568 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 14:52:04.673 +03:00 [INF] the City that have id 1001 is Deleted
2023-08-12 14:52:15.443 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-12 14:52:18.378 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:52:18.382 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 14:52:18.383 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 14:52:18.384 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 14:52:18.385 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:52:18.387 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:52:18.388 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Deletecity (CityInfo) in 37306.426ms
2023-08-12 14:52:18.390 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:52:18.392 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:52:18.399 +03:00 [INF] Executed DbCommand (13,836ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 14:52:18.405 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'ApplicationDb'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'ApplicationDb'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-12 14:52:18.420 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - - - 200 - text/plain;+charset=utf-8 37364.3410ms
2023-08-12 14:52:18.428 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:52:24.414 +03:00 [DBG] Connection id "0HMSR59IUFOLL" received FIN.
2023-08-12 14:52:24.427 +03:00 [DBG] Connection id "0HMSR59IUFOLL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:52:24.427 +03:00 [DBG] Connection id "0HMSR59IUFOLL" is closed. The last processed stream ID was 3.
2023-08-12 14:52:24.431 +03:00 [DBG] Connection id "0HMSR59IUFOLL" stopped.
2023-08-12 14:54:08.898 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-12 14:54:09.032 +03:00 [DBG] Hosting starting
2023-08-12 14:54:09.185 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-12 14:54:09.226 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-12 14:54:09.228 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-12 14:54:09.230 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-12 14:54:09.231 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-12 14:54:09.232 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-12 14:54:09.234 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-12 14:54:09.237 +03:00 [INF] Hosting environment: Development
2023-08-12 14:54:09.239 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-12 14:54:09.240 +03:00 [DBG] Hosting started
2023-08-12 14:54:09.673 +03:00 [DBG] Connection id "0HMSR5BBBIENC" accepted.
2023-08-12 14:54:09.694 +03:00 [DBG] Connection id "0HMSR5BBBIENC" received FIN.
2023-08-12 14:54:09.673 +03:00 [DBG] Connection id "0HMSR5BBBIEND" accepted.
2023-08-12 14:54:09.695 +03:00 [DBG] Connection id "0HMSR5BBBIEND" received FIN.
2023-08-12 14:54:09.711 +03:00 [DBG] Connection id "0HMSR5BBBIENC" started.
2023-08-12 14:54:09.712 +03:00 [DBG] Connection id "0HMSR5BBBIEND" started.
2023-08-12 14:54:09.746 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 14:54:09.746 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 14:54:09.804 +03:00 [DBG] Connection id "0HMSR5BBBIENC" stopped.
2023-08-12 14:54:09.804 +03:00 [DBG] Connection id "0HMSR5BBBIEND" stopped.
2023-08-12 14:54:09.809 +03:00 [DBG] Connection id "0HMSR5BBBIEND" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:54:09.809 +03:00 [DBG] Connection id "0HMSR5BBBIENC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:54:10.968 +03:00 [DBG] Connection id "0HMSR5BBBIENE" accepted.
2023-08-12 14:54:11.173 +03:00 [DBG] Connection id "0HMSR5BBBIENE" started.
2023-08-12 14:54:11.262 +03:00 [DBG] Connection 0HMSR5BBBIENE established using the following protocol: "Tls12"
2023-08-12 14:54:11.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-12 14:54:11.471 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-12 14:54:12.125 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-12 14:54:12.455 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-12 14:54:12.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-12 14:54:12.530 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-12 14:54:12.550 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 62.9616ms
2023-08-12 14:54:12.539 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 1165.4504ms
2023-08-12 14:54:12.705 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 175.5091ms
2023-08-12 14:54:12.857 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-12 14:54:13.378 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 520.1976ms
2023-08-12 14:54:13.950 +03:00 [DBG] Connection id "0HMSR5BBBIENE" received FIN.
2023-08-12 14:54:13.965 +03:00 [DBG] Connection id "0HMSR5BBBIENE" is closed. The last processed stream ID was 7.
2023-08-12 14:54:13.971 +03:00 [DBG] Connection id "0HMSR5BBBIENE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:54:13.981 +03:00 [DBG] Connection id "0HMSR5BBBIENE" stopped.
2023-08-12 14:54:25.937 +03:00 [DBG] Connection id "0HMSR5BBBIENF" accepted.
2023-08-12 14:54:25.939 +03:00 [DBG] Connection id "0HMSR5BBBIENF" started.
2023-08-12 14:54:25.943 +03:00 [DBG] Connection 0HMSR5BBBIENF established using the following protocol: "Tls12"
2023-08-12 14:54:25.946 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7109/api/Cities/1000 - -
2023-08-12 14:54:25.951 +03:00 [DBG] DELETE requests are not supported
2023-08-12 14:54:26.003 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/1000'
2023-08-12 14:54:26.017 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/Cities/1000'
2023-08-12 14:54:26.020 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:54:26.023 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:54:26.069 +03:00 [INF] Route matched with {action = "Deletecity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Deletecity(System.Nullable`1[System.Int32]) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:54:26.072 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:54:26.073 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:54:26.077 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:54:26.079 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:54:26.081 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:54:26.083 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:54:26.283 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-12 14:54:26.569 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:54:26.579 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:54:26.583 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' using the name 'id' in request data ...
2023-08-12 14:54:26.585 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:54:26.587 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:54:26.589 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:54:26.596 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:54:30.418 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:54:30.551 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(f => (int?)f.Id == __id_0)'
2023-08-12 14:54:31.029 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM cities AS c
            WHERE c.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-12 14:54:31.138 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:54:31.214 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (77ms).
2023-08-12 14:54:31.260 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:54:31.759 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:54:31.796 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 14:54:31.941 +03:00 [INF] Executed DbCommand (163ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 14:54:31.981 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:54:31.993 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:54:32.009 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:54:32.018 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:54:32.027 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 14:54:32.028 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 14:54:32.029 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 14:54:32.031 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:54:32.034 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2023-08-12 14:54:32.047 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Deletecity (CityInfo) in 5955.9262ms
2023-08-12 14:54:32.052 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:54:32.065 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:54:32.075 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7109/api/Cities/1000 - - - 404 - text/plain;+charset=utf-8 6128.3168ms
2023-08-12 14:54:41.407 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - -
2023-08-12 14:54:41.409 +03:00 [DBG] DELETE requests are not supported
2023-08-12 14:54:41.412 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/1001'
2023-08-12 14:54:41.414 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/Cities/1001'
2023-08-12 14:54:41.417 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:54:41.421 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:54:41.425 +03:00 [INF] Route matched with {action = "Deletecity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Deletecity(System.Nullable`1[System.Int32]) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:54:41.431 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:54:41.436 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:54:41.438 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:54:41.441 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:54:41.443 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:54:41.445 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:54:41.457 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:54:41.459 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:54:41.461 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' using the name 'id' in request data ...
2023-08-12 14:54:41.463 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:54:41.465 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:54:41.467 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:54:41.469 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:54:45.832 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:54:45.839 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:54:45.841 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-08-12 14:54:45.843 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:54:45.847 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:54:45.848 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 14:54:45.880 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 14:54:45.935 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:54:45.968 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:54:45.969 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:54:45.971 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:54:49.856 +03:00 [DBG] An entity of type 'City' tracked by 'ApplicationDb' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:54:51.037 +03:00 [DBG] SaveChanges starting for 'ApplicationDb'.
2023-08-12 14:54:51.041 +03:00 [DBG] DetectChanges starting for 'ApplicationDb'.
2023-08-12 14:54:51.059 +03:00 [DBG] DetectChanges completed for 'ApplicationDb'.
2023-08-12 14:54:51.167 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:54:51.171 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:54:51.180 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-12 14:54:51.217 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-08-12 14:54:51.348 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:54:51.350 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-08-12 14:54:51.352 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cities]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2023-08-12 14:54:51.387 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cities]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2023-08-12 14:54:51.397 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:54:51.407 +03:00 [DBG] Committing transaction.
2023-08-12 14:54:51.416 +03:00 [DBG] Committed transaction.
2023-08-12 14:54:51.423 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:54:51.425 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:54:51.432 +03:00 [DBG] Disposing transaction.
2023-08-12 14:54:51.445 +03:00 [DBG] An entity of type 'City' tracked by 'ApplicationDb' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:54:51.452 +03:00 [DBG] SaveChanges completed for 'ApplicationDb' with 1 entities written to the database.
2023-08-12 14:54:59.310 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:54:59.314 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 14:54:59.315 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 14:54:59.316 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 14:54:59.317 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:54:59.319 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:54:59.321 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Deletecity (CityInfo) in 17875.7803ms
2023-08-12 14:54:59.323 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:54:59.325 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:54:59.326 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7109/api/Cities/1001 - - - 200 - text/plain;+charset=utf-8 17918.7130ms
2023-08-12 14:55:07.192 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities - -
2023-08-12 14:55:07.194 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 14:55:07.195 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-08-12 14:55:07.198 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/Cities' is valid for the request path '/api/Cities'
2023-08-12 14:55:07.206 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:55:07.208 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:55:07.216 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities() on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:55:07.220 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:55:07.223 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:55:07.225 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:55:07.227 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:55:07.229 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:55:07.230 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:55:07.236 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:55:07.240 +03:00 [INF] the all city reads
2023-08-12 14:55:07.295 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:55:07.312 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(i => i.pointOfInterests)'
2023-08-12 14:55:07.338 +03:00 [DBG] Including navigation: 'City.pointOfInterests'.
2023-08-12 14:55:07.487 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.Description (string) Required, 4], [Property: PointOfInterest.Name (string) Required, 5], [Property: PointOfInterest.cityid (int) Required FK Index, 6] }
            3 -> 3
        SELECT c.Id, c.Description, c.Name, p.Id, p.Description, p.Name, p.cityid
        FROM cities AS c
        LEFT JOIN pointOfInterests AS p ON c.Id == p.cityid
        ORDER BY c.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.DBContexts.ApplicationDb, 
    False, 
    False, 
    True
)'
2023-08-12 14:55:07.494 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:55:07.495 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-08-12 14:55:07.496 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:55:07.498 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:55:07.500 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 14:55:07.510 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM [cities] AS [c]
LEFT JOIN [pointOfInterests] AS [p] ON [c].[Id] = [p].[cityid]
ORDER BY [c].[Id]
2023-08-12 14:55:07.538 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.690 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.710 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.716 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.722 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.727 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.728 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.730 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.733 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.735 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.737 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.738 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.740 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.742 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.743 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.745 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.746 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.748 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.749 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.751 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.752 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.754 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.756 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.758 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.760 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.761 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.763 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.766 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:55:11.768 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:55:11.769 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:55:11.772 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:55:11.939 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:55:11.945 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-08-12 14:55:11.947 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:55:11.948 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:55:11.950 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 4720.1956ms
2023-08-12 14:55:11.952 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-12 14:55:11.954 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:55:11.955 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities - - - 200 - text/plain;+charset=utf-8 4763.0994ms
2023-08-12 14:55:18.051 +03:00 [DBG] Connection id "0HMSR5BBBIENF" received FIN.
2023-08-12 14:55:18.061 +03:00 [DBG] Connection id "0HMSR5BBBIENF" is closed. The last processed stream ID was 5.
2023-08-12 14:55:18.062 +03:00 [DBG] Connection id "0HMSR5BBBIENF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:55:18.069 +03:00 [DBG] Connection id "0HMSR5BBBIENF" stopped.
2023-08-12 14:57:53.083 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-12 14:57:53.209 +03:00 [DBG] Hosting starting
2023-08-12 14:57:53.368 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-12 14:57:53.404 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-12 14:57:53.405 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-12 14:57:53.407 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-12 14:57:53.408 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-12 14:57:53.409 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-12 14:57:53.412 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-12 14:57:53.414 +03:00 [INF] Hosting environment: Development
2023-08-12 14:57:53.415 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-12 14:57:53.416 +03:00 [DBG] Hosting started
2023-08-12 14:57:53.716 +03:00 [DBG] Connection id "0HMSR5DE4DIV8" accepted.
2023-08-12 14:57:53.716 +03:00 [DBG] Connection id "0HMSR5DE4DIV9" accepted.
2023-08-12 14:57:53.753 +03:00 [DBG] Connection id "0HMSR5DE4DIV8" received FIN.
2023-08-12 14:57:53.753 +03:00 [DBG] Connection id "0HMSR5DE4DIV9" received FIN.
2023-08-12 14:57:53.754 +03:00 [DBG] Connection id "0HMSR5DE4DIV8" started.
2023-08-12 14:57:53.755 +03:00 [DBG] Connection id "0HMSR5DE4DIV9" started.
2023-08-12 14:57:53.804 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 14:57:53.797 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-12 14:57:53.877 +03:00 [DBG] Connection id "0HMSR5DE4DIV9" stopped.
2023-08-12 14:57:53.877 +03:00 [DBG] Connection id "0HMSR5DE4DIV8" stopped.
2023-08-12 14:57:53.890 +03:00 [DBG] Connection id "0HMSR5DE4DIV9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:57:53.891 +03:00 [DBG] Connection id "0HMSR5DE4DIV8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:57:54.993 +03:00 [DBG] Connection id "0HMSR5DE4DIVA" accepted.
2023-08-12 14:57:55.041 +03:00 [DBG] Connection id "0HMSR5DE4DIVA" started.
2023-08-12 14:57:55.224 +03:00 [DBG] Connection 0HMSR5DE4DIVA established using the following protocol: "Tls12"
2023-08-12 14:57:55.324 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-12 14:57:55.411 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-12 14:57:55.959 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-12 14:57:56.216 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-12 14:57:56.216 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-12 14:57:56.226 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 914.2623ms
2023-08-12 14:57:56.226 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 8.9896ms
2023-08-12 14:57:56.257 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-12 14:57:56.392 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 135.1458ms
2023-08-12 14:57:56.526 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-12 14:57:56.977 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 451.6318ms
2023-08-12 14:57:57.399 +03:00 [DBG] Connection id "0HMSR5DE4DIVA" received FIN.
2023-08-12 14:57:57.417 +03:00 [DBG] Connection id "0HMSR5DE4DIVA" is closed. The last processed stream ID was 7.
2023-08-12 14:57:57.422 +03:00 [DBG] Connection id "0HMSR5DE4DIVA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 14:57:57.437 +03:00 [DBG] Connection id "0HMSR5DE4DIVA" stopped.
2023-08-12 14:59:30.636 +03:00 [DBG] Connection id "0HMSR5DE4DIVB" accepted.
2023-08-12 14:59:30.646 +03:00 [DBG] Connection id "0HMSR5DE4DIVB" started.
2023-08-12 14:59:30.662 +03:00 [DBG] Connection 0HMSR5DE4DIVB established using the following protocol: "Tls12"
2023-08-12 14:59:30.664 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7109/api/Cities/1002 - -
2023-08-12 14:59:30.674 +03:00 [DBG] DELETE requests are not supported
2023-08-12 14:59:30.706 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/1002'
2023-08-12 14:59:30.718 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/Cities/1002'
2023-08-12 14:59:30.720 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:59:30.723 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:59:30.765 +03:00 [INF] Route matched with {action = "Deletecity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Deletecity(System.Nullable`1[System.Int32]) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:59:30.770 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:59:30.772 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:59:30.773 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:59:30.775 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:59:30.777 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:59:30.779 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:59:30.961 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-12 14:59:31.216 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:59:31.235 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:59:31.240 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]' using the name 'id' in request data ...
2023-08-12 14:59:31.244 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:59:31.245 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:59:31.247 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]' ...
2023-08-12 14:59:31.252 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Nullable`1[System.Int32]'.
2023-08-12 14:59:32.357 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:59:32.453 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(f => (int?)f.Id == __id_0)'
2023-08-12 14:59:32.878 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM cities AS c
            WHERE c.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-12 14:59:32.989 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:59:33.055 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (64ms).
2023-08-12 14:59:33.080 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:59:33.464 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:59:33.492 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 14:59:33.611 +03:00 [INF] Executed DbCommand (125ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [cities] AS [c]
WHERE [c].[Id] = @__id_0
2023-08-12 14:59:33.691 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:59:33.739 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:59:33.750 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:59:33.763 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:59:33.784 +03:00 [DBG] An entity of type 'City' tracked by 'ApplicationDb' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:59:33.808 +03:00 [DBG] SaveChanges starting for 'ApplicationDb'.
2023-08-12 14:59:33.819 +03:00 [DBG] DetectChanges starting for 'ApplicationDb'.
2023-08-12 14:59:33.836 +03:00 [DBG] DetectChanges completed for 'ApplicationDb'.
2023-08-12 14:59:33.867 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:59:33.871 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:59:33.875 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-12 14:59:33.894 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-08-12 14:59:33.961 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:59:33.963 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-08-12 14:59:33.966 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cities]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2023-08-12 14:59:33.974 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cities]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2023-08-12 14:59:33.985 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:59:33.996 +03:00 [DBG] Committing transaction.
2023-08-12 14:59:34.005 +03:00 [DBG] Committed transaction.
2023-08-12 14:59:34.018 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:59:34.020 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:59:34.029 +03:00 [DBG] Disposing transaction.
2023-08-12 14:59:34.043 +03:00 [DBG] An entity of type 'City' tracked by 'ApplicationDb' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 14:59:34.054 +03:00 [DBG] SaveChanges completed for 'ApplicationDb' with 1 entities written to the database.
2023-08-12 14:59:34.062 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:59:34.070 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 14:59:34.071 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 14:59:34.072 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 14:59:34.074 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 14:59:34.076 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 14:59:34.089 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Deletecity (CityInfo) in 3300.9062ms
2023-08-12 14:59:34.093 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Deletecity (CityInfo)'
2023-08-12 14:59:34.105 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:59:34.114 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7109/api/Cities/1002 - - - 200 - text/plain;+charset=utf-8 3450.8366ms
2023-08-12 14:59:43.949 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities/withPointsOfInterest/1002 - -
2023-08-12 14:59:43.960 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 14:59:43.965 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/withPointsOfInterest/1002'
2023-08-12 14:59:43.967 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)' with route pattern 'api/Cities/withPointsOfInterest/{id}' is valid for the request path '/api/Cities/withPointsOfInterest/1002'
2023-08-12 14:59:43.969 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 14:59:43.970 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 14:59:43.978 +03:00 [INF] Route matched with {action = "Getcity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Getcity(Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:59:43.981 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:59:43.983 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:59:43.985 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:59:43.988 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:59:43.989 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:59:43.994 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:59:44.013 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:59:44.015 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-08-12 14:59:44.017 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-08-12 14:59:44.018 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-08-12 14:59:44.019 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-08-12 14:59:44.021 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-08-12 14:59:44.022 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-08-12 14:59:44.030 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:59:44.040 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.pointOfInterests)
    .FirstOrDefault(c => c.Id == __cityId_0)'
2023-08-12 14:59:44.068 +03:00 [DBG] Including navigation: 'City.pointOfInterests'.
2023-08-12 14:59:44.222 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.Description (string) Required, 4], [Property: PointOfInterest.Name (string) Required, 5], [Property: PointOfInterest.cityid (int) Required FK Index, 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.Description, p.Name, p.cityid
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN pointOfInterests AS p ON t.Id == p.cityid
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-12 14:59:44.232 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:59:44.234 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-08-12 14:59:44.237 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:59:44.240 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:59:44.245 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Id]
2023-08-12 14:59:44.254 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Id]
2023-08-12 14:59:44.257 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:59:44.259 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:59:44.261 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:59:44.266 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:59:44.270 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 14:59:44.271 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-08-12 14:59:44.274 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-08-12 14:59:44.276 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-08-12 14:59:44.686 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcity (CityInfo) in 692.5189ms
2023-08-12 14:59:44.689 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 14:59:44.690 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:59:44.694 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities/withPointsOfInterest/1002 - - - 404 161 application/problem+json;+charset=utf-8 744.4642ms
2023-08-12 14:59:52.479 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities/withPointsOfInterest/1001 - -
2023-08-12 14:59:52.480 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 14:59:52.482 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/withPointsOfInterest/1001'
2023-08-12 14:59:52.485 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)' with route pattern 'api/Cities/withPointsOfInterest/{id}' is valid for the request path '/api/Cities/withPointsOfInterest/1001'
2023-08-12 14:59:52.488 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 14:59:52.490 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 14:59:52.492 +03:00 [INF] Route matched with {action = "Getcity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Getcity(Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 14:59:52.495 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 14:59:52.497 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 14:59:52.498 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 14:59:52.500 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 14:59:52.501 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 14:59:52.504 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:59:52.509 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 14:59:52.510 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-08-12 14:59:52.511 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-08-12 14:59:52.513 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-08-12 14:59:52.514 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-08-12 14:59:52.515 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-08-12 14:59:52.516 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-08-12 14:59:52.576 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 14:59:52.583 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 14:59:52.585 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-08-12 14:59:52.587 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 14:59:52.589 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 14:59:52.590 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Id]
2023-08-12 14:59:52.594 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Id]
2023-08-12 14:59:52.597 +03:00 [DBG] A data reader was disposed.
2023-08-12 14:59:52.597 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 14:59:52.599 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 14:59:52.600 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 14:59:52.604 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 14:59:52.605 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-08-12 14:59:52.608 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-08-12 14:59:52.610 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-08-12 14:59:52.612 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcity (CityInfo) in 108.0877ms
2023-08-12 14:59:52.614 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 14:59:52.615 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 14:59:52.617 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities/withPointsOfInterest/1001 - - - 404 161 application/problem+json;+charset=utf-8 137.2838ms
2023-08-12 15:00:01.482 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Cities/withPointsOfInterest/1003 - -
2023-08-12 15:00:01.483 +03:00 [DBG] The request path  does not match the path filter
2023-08-12 15:00:01.484 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Cities/withPointsOfInterest/1003'
2023-08-12 15:00:01.501 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)' with route pattern 'api/Cities/withPointsOfInterest/{id}' is valid for the request path '/api/Cities/withPointsOfInterest/1003'
2023-08-12 15:00:01.507 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 15:00:01.508 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 15:00:01.510 +03:00 [INF] Route matched with {action = "Getcity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Getcity(Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-12 15:00:01.513 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-12 15:00:01.515 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-12 15:00:01.518 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-12 15:00:01.521 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-12 15:00:01.523 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-12 15:00:01.525 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 15:00:01.526 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-12 15:00:01.528 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-08-12 15:00:01.529 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-08-12 15:00:01.531 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-08-12 15:00:01.533 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-08-12 15:00:01.534 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-08-12 15:00:01.536 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-08-12 15:00:01.537 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-12 15:00:01.539 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-12 15:00:01.540 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-08-12 15:00:01.542 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-12 15:00:01.543 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-12 15:00:01.545 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Id]
2023-08-12 15:00:01.549 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Id]
2023-08-12 15:00:01.555 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-12 15:00:01.564 +03:00 [DBG] A data reader was disposed.
2023-08-12 15:00:01.565 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-12 15:00:01.568 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-12 15:00:01.587 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-12 15:00:01.593 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-12 15:00:01.594 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-12 15:00:01.596 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-12 15:00:01.599 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-12 15:00:01.601 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-12 15:00:01.604 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcity (CityInfo) in 79.2076ms
2023-08-12 15:00:01.610 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcity (CityInfo)'
2023-08-12 15:00:01.612 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-12 15:00:01.613 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Cities/withPointsOfInterest/1003 - - - 200 - text/plain;+charset=utf-8 131.3808ms
2023-08-12 15:00:10.506 +03:00 [DBG] Connection id "0HMSR5DE4DIVB" received FIN.
2023-08-12 15:00:10.514 +03:00 [DBG] Connection id "0HMSR5DE4DIVB" is closed. The last processed stream ID was 7.
2023-08-12 15:00:10.537 +03:00 [DBG] Connection id "0HMSR5DE4DIVB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-12 15:00:10.547 +03:00 [DBG] Connection id "0HMSR5DE4DIVB" stopped.
