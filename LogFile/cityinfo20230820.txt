2023-08-20 00:13:02.808 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 00:13:02.943 +03:00 [DBG] Hosting starting
2023-08-20 00:13:02.992 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 00:13:02.997 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 00:13:03.013 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 00:13:03.015 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 00:13:03.017 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 00:13:03.028 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 00:13:03.038 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 00:13:03.039 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 00:13:03.041 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 00:13:03.052 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 00:13:03.057 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:13:03.064 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 00:13:03.068 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:13:03.077 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 00:13:03.081 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 00:13:03.086 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 00:13:03.089 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 00:13:03.312 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 00:13:03.377 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 00:13:03.378 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 00:13:03.379 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 00:13:03.380 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 00:13:03.382 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 00:13:03.384 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 00:13:03.385 +03:00 [INF] Hosting environment: Development
2023-08-20 00:13:03.387 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 00:13:03.389 +03:00 [DBG] Hosting started
2023-08-20 00:13:03.435 +03:00 [DBG] Connection id "0HMT0V49KUBBJ" accepted.
2023-08-20 00:13:03.438 +03:00 [DBG] Connection id "0HMT0V49KUBBJ" started.
2023-08-20 00:13:03.455 +03:00 [DBG] Connection id "0HMT0V49KUBBJ" received FIN.
2023-08-20 00:13:03.506 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:13:03.677 +03:00 [DBG] Connection id "0HMT0V49KUBBJ" stopped.
2023-08-20 00:13:03.685 +03:00 [DBG] Connection id "0HMT0V49KUBBJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:13:03.887 +03:00 [DBG] Connection id "0HMT0V49KUBBK" accepted.
2023-08-20 00:13:03.972 +03:00 [DBG] Connection id "0HMT0V49KUBBK" started.
2023-08-20 00:13:04.079 +03:00 [DBG] Connection 0HMT0V49KUBBK established using the following protocol: "Tls12"
2023-08-20 00:13:04.158 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 00:13:04.221 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 00:13:04.568 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 00:13:04.808 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 00:13:04.816 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 00:13:04.825 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 16.7099ms
2023-08-20 00:13:04.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 676.1945ms
2023-08-20 00:13:04.857 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 00:13:04.932 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 75.4756ms
2023-08-20 00:13:05.043 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 00:13:05.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 332.9882ms
2023-08-20 00:13:32.465 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7109/api/authenticate/authenticate application/json-patch+json 62
2023-08-20 00:13:32.469 +03:00 [DBG] POST requests are not supported
2023-08-20 00:13:32.522 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 00:13:32.537 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 00:13:32.541 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:13:32.866 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:13:32.875 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:13:32.940 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 00:13:32.946 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 00:13:32.948 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 00:13:32.951 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 00:13:32.954 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 00:13:32.956 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 00:13:32.959 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:13:32.963 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:13:32.973 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:13:32.978 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 00:13:32.981 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-08-20 00:13:32.984 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-08-20 00:13:33.059 +03:00 [DBG] Connection id "0HMT0V49KUBBK", Request id "0HMT0V49KUBBK:00000009": started reading request body.
2023-08-20 00:13:33.067 +03:00 [DBG] Connection id "0HMT0V49KUBBK", Request id "0HMT0V49KUBBK:00000009": done reading request body.
2023-08-20 00:13:33.307 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:13:33.310 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:13:33.311 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:13:33.324 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:13:33.511 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 00:13:33.520 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-08-20 00:13:33.523 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 00:13:33.525 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 00:13:33.534 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 568.7391ms
2023-08-20 00:13:33.538 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:13:33.539 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7109/api/authenticate/authenticate application/json-patch+json 62 - 200 - text/plain;+charset=utf-8 1074.4883ms
2023-08-20 00:13:48.370 +03:00 [DBG] Connection id "0HMT0V49KUBBL" accepted.
2023-08-20 00:13:48.378 +03:00 [DBG] Connection id "0HMT0V49KUBBL" received FIN.
2023-08-20 00:13:48.379 +03:00 [DBG] Connection id "0HMT0V49KUBBL" started.
2023-08-20 00:13:48.379 +03:00 [DBG] Connection id "0HMT0V49KUBBM" accepted.
2023-08-20 00:13:48.383 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:13:48.384 +03:00 [DBG] Connection id "0HMT0V49KUBBM" started.
2023-08-20 00:13:48.387 +03:00 [DBG] Connection id "0HMT0V49KUBBL" stopped.
2023-08-20 00:13:48.389 +03:00 [DBG] Connection id "0HMT0V49KUBBL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:13:48.397 +03:00 [DBG] Connection 0HMT0V49KUBBM established using the following protocol: "Tls12"
2023-08-20 00:13:48.414 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 00:13:48.417 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:13:48.419 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 00:13:48.420 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-08-20 00:13:48.422 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:13:48.699 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:13:48.727 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-20 00:13:48.744 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:13:48.781 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:13:48.787 +03:00 [DBG] Connection id "0HMT0V49KUBBM" completed keep alive response.
2023-08-20 00:13:48.797 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 401 0 - 382.2725ms
2023-08-20 00:14:11.552 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 00:14:11.554 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:14:11.555 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 00:14:11.556 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-08-20 00:14:11.558 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:14:11.576 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:14:11.584 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:14:11.587 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:14:11.588 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:14:11.589 +03:00 [DBG] Connection id "0HMT0V49KUBBM" completed keep alive response.
2023-08-20 00:14:11.590 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 401 0 - 38.2478ms
2023-08-20 00:14:13.808 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 00:14:13.812 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:14:13.818 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 00:14:13.832 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-08-20 00:14:13.841 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:14:13.847 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:14:13.863 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:14:13.869 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:14:13.874 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:14:13.880 +03:00 [DBG] Connection id "0HMT0V49KUBBM" completed keep alive response.
2023-08-20 00:14:13.884 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 401 0 - 76.6869ms
2023-08-20 00:14:17.797 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 00:14:17.799 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:14:17.800 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 00:14:17.802 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-08-20 00:14:17.803 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:14:17.805 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:14:17.811 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:14:17.813 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:14:17.814 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:14:17.815 +03:00 [DBG] Connection id "0HMT0V49KUBBM" completed keep alive response.
2023-08-20 00:14:17.817 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 401 0 - 20.2629ms
2023-08-20 00:14:41.880 +03:00 [DBG] Connection id "0HMT0V49KUBBK" received FIN.
2023-08-20 00:14:42.025 +03:00 [DBG] Connection id "0HMT0V49KUBBK" is closed. The last processed stream ID was 9.
2023-08-20 00:14:42.029 +03:00 [DBG] Connection id "0HMT0V49KUBBK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:14:42.033 +03:00 [DBG] Connection id "0HMT0V49KUBBK" stopped.
2023-08-20 00:15:09.722 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 00:15:09.889 +03:00 [DBG] Hosting starting
2023-08-20 00:15:09.931 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 00:15:09.936 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 00:15:09.944 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 00:15:09.946 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 00:15:09.948 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 00:15:09.956 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 00:15:09.963 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 00:15:09.965 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 00:15:09.967 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 00:15:10.011 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 00:15:10.040 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:15:10.053 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 00:15:10.055 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:15:10.069 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 00:15:10.074 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 00:15:10.079 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 00:15:10.082 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 00:15:10.289 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 00:15:10.333 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 00:15:10.336 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 00:15:10.338 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 00:15:10.339 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 00:15:10.341 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 00:15:10.343 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 00:15:10.345 +03:00 [INF] Hosting environment: Development
2023-08-20 00:15:10.348 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 00:15:10.349 +03:00 [DBG] Hosting started
2023-08-20 00:15:10.447 +03:00 [DBG] Connection id "0HMT0V5FG8HAQ" received FIN.
2023-08-20 00:15:10.461 +03:00 [DBG] Connection id "0HMT0V5FG8HAQ" accepted.
2023-08-20 00:15:10.547 +03:00 [DBG] Connection id "0HMT0V5FG8HAQ" started.
2023-08-20 00:15:10.575 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:15:10.713 +03:00 [DBG] Connection id "0HMT0V5FG8HAQ" stopped.
2023-08-20 00:15:10.721 +03:00 [DBG] Connection id "0HMT0V5FG8HAQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:15:11.715 +03:00 [DBG] Connection id "0HMT0V5FG8HAR" accepted.
2023-08-20 00:15:11.737 +03:00 [DBG] Connection id "0HMT0V5FG8HAR" started.
2023-08-20 00:15:11.852 +03:00 [DBG] Connection 0HMT0V5FG8HAR established using the following protocol: "Tls12"
2023-08-20 00:15:11.989 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 00:15:12.051 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 00:15:12.598 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 00:15:12.906 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 00:15:12.923 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 00:15:12.931 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 23.9744ms
2023-08-20 00:15:12.935 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 959.0022ms
2023-08-20 00:15:12.960 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 00:15:13.140 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 180.0420ms
2023-08-20 00:15:13.289 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 00:15:13.868 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 579.7332ms
2023-08-20 00:15:21.947 +03:00 [DBG] Connection id "0HMT0V5FG8HAR" received FIN.
2023-08-20 00:15:21.975 +03:00 [DBG] Connection id "0HMT0V5FG8HAR" is closed. The last processed stream ID was 7.
2023-08-20 00:15:21.987 +03:00 [DBG] Connection id "0HMT0V5FG8HAR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:15:22.011 +03:00 [DBG] Connection id "0HMT0V5FG8HAR" stopped.
2023-08-20 00:15:22.389 +03:00 [DBG] Connection id "0HMT0V5FG8HAS" accepted.
2023-08-20 00:15:22.391 +03:00 [DBG] Connection id "0HMT0V5FG8HAS" started.
2023-08-20 00:15:22.396 +03:00 [DBG] Connection 0HMT0V5FG8HAS established using the following protocol: "Tls12"
2023-08-20 00:15:22.398 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7109/api/authenticate/authenticate application/json-patch+json 50
2023-08-20 00:15:22.404 +03:00 [DBG] POST requests are not supported
2023-08-20 00:15:22.467 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 00:15:22.476 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 00:15:22.480 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:15:22.841 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:15:22.852 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:15:22.924 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 00:15:22.927 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 00:15:22.929 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 00:15:22.931 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 00:15:22.934 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 00:15:22.936 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 00:15:22.939 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:15:22.941 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:15:22.947 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:15:22.953 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 00:15:22.958 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-08-20 00:15:22.960 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-08-20 00:15:22.995 +03:00 [DBG] Connection id "0HMT0V5FG8HAS", Request id "0HMT0V5FG8HAS:00000001": started reading request body.
2023-08-20 00:15:22.997 +03:00 [DBG] Connection id "0HMT0V5FG8HAS", Request id "0HMT0V5FG8HAS:00000001": done reading request body.
2023-08-20 00:15:23.217 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:15:23.220 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:15:23.224 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:15:23.234 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:15:23.445 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 00:15:23.454 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-08-20 00:15:23.458 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 00:15:23.460 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 00:15:23.470 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 524.0143ms
2023-08-20 00:15:23.474 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:15:23.476 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7109/api/authenticate/authenticate application/json-patch+json 50 - 200 - text/plain;+charset=utf-8 1078.0344ms
2023-08-20 00:15:31.964 +03:00 [DBG] Connection id "0HMT0V5FG8HAS" received FIN.
2023-08-20 00:15:31.968 +03:00 [DBG] Connection id "0HMT0V5FG8HAS" is closed. The last processed stream ID was 1.
2023-08-20 00:15:31.975 +03:00 [DBG] Connection id "0HMT0V5FG8HAS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:15:31.993 +03:00 [DBG] Connection id "0HMT0V5FG8HAS" stopped.
2023-08-20 00:16:51.296 +03:00 [DBG] Connection id "0HMT0V5FG8HAT" accepted.
2023-08-20 00:16:51.321 +03:00 [DBG] Connection id "0HMT0V5FG8HAT" started.
2023-08-20 00:16:51.322 +03:00 [DBG] Connection id "0HMT0V5FG8HAT" received FIN.
2023-08-20 00:16:51.332 +03:00 [DBG] Connection id "0HMT0V5FG8HAU" accepted.
2023-08-20 00:16:51.334 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:16:51.334 +03:00 [DBG] Connection id "0HMT0V5FG8HAU" started.
2023-08-20 00:16:51.339 +03:00 [DBG] Connection id "0HMT0V5FG8HAT" stopped.
2023-08-20 00:16:51.341 +03:00 [DBG] Connection id "0HMT0V5FG8HAT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:16:51.350 +03:00 [DBG] Connection 0HMT0V5FG8HAU established using the following protocol: "Tls12"
2023-08-20 00:16:51.365 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/authenticate/authenticate - -
2023-08-20 00:16:51.366 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:16:51.369 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 00:16:51.370 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-08-20 00:16:51.372 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:16:51.379 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-08-20 00:16:51.381 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-08-20 00:16:51.384 +03:00 [DBG] Connection id "0HMT0V5FG8HAU" completed keep alive response.
2023-08-20 00:16:51.387 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/authenticate/authenticate - - - 405 0 - 21.6142ms
2023-08-20 00:17:00.828 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate - 0
2023-08-20 00:17:00.832 +03:00 [DBG] POST requests are not supported
2023-08-20 00:17:00.833 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 00:17:00.837 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 00:17:00.855 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:17:00.859 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:17:00.860 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:17:00.863 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 00:17:00.866 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 00:17:00.868 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 00:17:00.870 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 00:17:00.872 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 00:17:00.874 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 00:17:00.876 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:17:00.877 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:17:00.881 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:17:00.883 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 00:17:00.884 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'null'.
2023-08-20 00:17:00.886 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'null'.
2023-08-20 00:17:00.887 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerInputFormatter' for content type 'null'.
2023-08-20 00:17:00.889 +03:00 [DBG] No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2023-08-20 00:17:00.892 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:17:00.893 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:17:00.895 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:17:00.900 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:17:00.903 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter'.
2023-08-20 00:17:00.905 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 00:17:00.915 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 00:17:00.917 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-08-20 00:17:00.919 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-08-20 00:17:00.921 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-08-20 00:17:01.170 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 293.8899ms
2023-08-20 00:17:01.172 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:17:01.173 +03:00 [DBG] Connection id "0HMT0V5FG8HAU" completed keep alive response.
2023-08-20 00:17:01.175 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate - 0 - 415 175 application/problem+json;+charset=utf-8 347.1404ms
2023-08-20 00:17:26.608 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate text/plain 55
2023-08-20 00:17:26.616 +03:00 [DBG] POST requests are not supported
2023-08-20 00:17:26.618 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 00:17:26.620 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 00:17:26.621 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:17:26.622 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:17:26.624 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:17:26.625 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 00:17:26.627 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 00:17:26.629 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 00:17:26.630 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 00:17:26.634 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 00:17:26.638 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 00:17:26.639 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:17:26.641 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:17:26.642 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:17:26.644 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 00:17:26.645 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'text/plain'.
2023-08-20 00:17:26.648 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'text/plain'.
2023-08-20 00:17:26.651 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerInputFormatter' for content type 'text/plain'.
2023-08-20 00:17:26.653 +03:00 [DBG] No input formatter was found to support the content type 'text/plain' for use with the [FromBody] attribute.
2023-08-20 00:17:26.654 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:17:26.656 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:17:26.657 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:17:26.659 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:17:26.660 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter'.
2023-08-20 00:17:26.662 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 00:17:26.667 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 00:17:26.668 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-08-20 00:17:26.671 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-08-20 00:17:26.672 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-08-20 00:17:26.675 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 36.1366ms
2023-08-20 00:17:26.682 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:17:26.684 +03:00 [DBG] Connection id "0HMT0V5FG8HAU" completed keep alive response.
2023-08-20 00:17:26.686 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate text/plain 55 - 415 175 application/problem+json;+charset=utf-8 78.2399ms
2023-08-20 00:17:26.687 +03:00 [DBG] Connection id "0HMT0V5FG8HAU", Request id "0HMT0V5FG8HAU:00000004": started reading request body.
2023-08-20 00:17:26.689 +03:00 [DBG] Connection id "0HMT0V5FG8HAU", Request id "0HMT0V5FG8HAU:00000004": done reading request body.
2023-08-20 00:17:34.033 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55
2023-08-20 00:17:34.035 +03:00 [DBG] POST requests are not supported
2023-08-20 00:17:34.036 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 00:17:34.038 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 00:17:34.039 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:17:34.040 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:17:34.042 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:17:34.045 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 00:17:34.048 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 00:17:34.050 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 00:17:34.051 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 00:17:34.053 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 00:17:34.055 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 00:17:34.057 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:17:34.063 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:17:34.067 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:17:34.069 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 00:17:34.071 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-08-20 00:17:34.072 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-08-20 00:17:34.076 +03:00 [DBG] Connection id "0HMT0V5FG8HAU", Request id "0HMT0V5FG8HAU:00000005": started reading request body.
2023-08-20 00:17:34.080 +03:00 [DBG] Connection id "0HMT0V5FG8HAU", Request id "0HMT0V5FG8HAU:00000005": done reading request body.
2023-08-20 00:17:34.082 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:17:34.083 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:17:34.085 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:17:34.086 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:17:34.088 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 00:17:34.092 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 00:17:34.096 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 00:17:34.097 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 00:17:34.098 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 00:17:34.101 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 00:17:34.103 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 46.519ms
2023-08-20 00:17:34.104 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:17:34.106 +03:00 [DBG] Connection id "0HMT0V5FG8HAU" completed keep alive response.
2023-08-20 00:17:34.108 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55 - 200 - text/plain;+charset=utf-8 74.6976ms
2023-08-20 00:17:42.946 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55
2023-08-20 00:17:42.947 +03:00 [DBG] POST requests are not supported
2023-08-20 00:17:42.949 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 00:17:42.962 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 00:17:42.978 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:17:42.981 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:17:42.982 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:17:42.984 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 00:17:42.986 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 00:17:42.989 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 00:17:42.991 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 00:17:42.993 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 00:17:42.996 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 00:17:43.001 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:17:43.002 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:17:43.003 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:17:43.006 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 00:17:43.008 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-08-20 00:17:43.009 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-08-20 00:17:43.011 +03:00 [DBG] Connection id "0HMT0V5FG8HAU", Request id "0HMT0V5FG8HAU:00000006": started reading request body.
2023-08-20 00:17:43.012 +03:00 [DBG] Connection id "0HMT0V5FG8HAU", Request id "0HMT0V5FG8HAU:00000006": done reading request body.
2023-08-20 00:17:43.013 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:17:43.015 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:17:43.016 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:17:43.018 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:17:43.019 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 00:17:43.024 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 00:17:43.025 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 00:17:43.026 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 00:17:43.027 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 00:17:43.028 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 00:17:43.030 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 29.1233ms
2023-08-20 00:17:43.031 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:17:43.032 +03:00 [DBG] Connection id "0HMT0V5FG8HAU" completed keep alive response.
2023-08-20 00:17:43.034 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55 - 200 - text/plain;+charset=utf-8 88.1975ms
2023-08-20 00:18:05.382 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 00:18:05.387 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:18:05.389 +03:00 [DBG] No candidates found for the request path '/api/cities'
2023-08-20 00:18:05.390 +03:00 [DBG] Request did not match any endpoints
2023-08-20 00:18:05.391 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:18:05.393 +03:00 [DBG] Connection id "0HMT0V5FG8HAU" completed keep alive response.
2023-08-20 00:18:05.394 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 404 0 - 11.8126ms
2023-08-20 00:18:18.478 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:18:18.480 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:18:18.481 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:18:18.482 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:18:18.485 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:18:18.487 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:18:18.497 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:18:18.510 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:18:18.513 +03:00 [DBG] Connection id "0HMT0V5FG8HAU" completed keep alive response.
2023-08-20 00:18:18.514 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 36.2151ms
2023-08-20 00:18:31.934 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:18:31.940 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:18:31.942 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:18:31.945 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:18:31.951 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:18:32.263 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:18:32.282 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:18:32.285 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:18:32.291 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:18:32.294 +03:00 [DBG] Connection id "0HMT0V5FG8HAU" completed keep alive response.
2023-08-20 00:18:32.296 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 362.4410ms
2023-08-20 00:18:43.283 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:18:43.286 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:18:43.290 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:18:43.291 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:18:43.293 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:18:43.294 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:18:43.297 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:18:43.299 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:18:43.300 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:18:43.301 +03:00 [DBG] Connection id "0HMT0V5FG8HAU" completed keep alive response.
2023-08-20 00:18:43.302 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 19.3201ms
2023-08-20 00:20:43.038 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 00:20:43.170 +03:00 [DBG] Hosting starting
2023-08-20 00:20:43.205 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 00:20:43.210 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 00:20:43.216 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 00:20:43.218 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 00:20:43.219 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 00:20:43.226 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 00:20:43.232 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 00:20:43.234 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 00:20:43.235 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 00:20:43.246 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 00:20:43.250 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:20:43.257 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 00:20:43.260 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:20:43.268 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 00:20:43.273 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 00:20:43.278 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 00:20:43.281 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 00:20:43.471 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 00:20:43.511 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 00:20:43.513 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 00:20:43.515 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 00:20:43.516 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 00:20:43.518 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 00:20:43.519 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 00:20:43.521 +03:00 [INF] Hosting environment: Development
2023-08-20 00:20:43.522 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 00:20:43.524 +03:00 [DBG] Hosting started
2023-08-20 00:20:43.661 +03:00 [DBG] Connection id "0HMT0V8IQ0DU9" accepted.
2023-08-20 00:20:43.665 +03:00 [DBG] Connection id "0HMT0V8IQ0DUA" accepted.
2023-08-20 00:20:43.665 +03:00 [DBG] Connection id "0HMT0V8IQ0DU9" started.
2023-08-20 00:20:43.666 +03:00 [DBG] Connection id "0HMT0V8IQ0DUA" started.
2023-08-20 00:20:43.702 +03:00 [DBG] Connection id "0HMT0V8IQ0DU9" received FIN.
2023-08-20 00:20:43.702 +03:00 [DBG] Connection id "0HMT0V8IQ0DUA" received FIN.
2023-08-20 00:20:43.720 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:20:43.720 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:20:43.792 +03:00 [DBG] Connection id "0HMT0V8IQ0DUA" stopped.
2023-08-20 00:20:43.792 +03:00 [DBG] Connection id "0HMT0V8IQ0DU9" stopped.
2023-08-20 00:20:43.809 +03:00 [DBG] Connection id "0HMT0V8IQ0DU9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:20:43.809 +03:00 [DBG] Connection id "0HMT0V8IQ0DUA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:20:44.073 +03:00 [DBG] Connection id "0HMT0V8IQ0DUB" accepted.
2023-08-20 00:20:44.101 +03:00 [DBG] Connection id "0HMT0V8IQ0DUB" started.
2023-08-20 00:20:44.295 +03:00 [DBG] Connection 0HMT0V8IQ0DUB established using the following protocol: "Tls12"
2023-08-20 00:20:44.389 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 00:20:44.439 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 00:20:44.774 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 00:20:44.973 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 00:20:44.991 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 00:20:44.998 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 24.2035ms
2023-08-20 00:20:45.000 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 621.2541ms
2023-08-20 00:20:45.018 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 00:20:45.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 72.3852ms
2023-08-20 00:20:45.213 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 00:20:45.580 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 367.0319ms
2023-08-20 00:20:50.264 +03:00 [DBG] Connection id "0HMT0V8IQ0DUC" accepted.
2023-08-20 00:20:50.266 +03:00 [DBG] Connection id "0HMT0V8IQ0DUC" received FIN.
2023-08-20 00:20:50.267 +03:00 [DBG] Connection id "0HMT0V8IQ0DUC" started.
2023-08-20 00:20:50.268 +03:00 [DBG] Connection id "0HMT0V8IQ0DUD" accepted.
2023-08-20 00:20:50.274 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:20:50.278 +03:00 [DBG] Connection id "0HMT0V8IQ0DUD" started.
2023-08-20 00:20:50.284 +03:00 [DBG] Connection id "0HMT0V8IQ0DUC" stopped.
2023-08-20 00:20:50.288 +03:00 [DBG] Connection id "0HMT0V8IQ0DUC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:20:50.293 +03:00 [DBG] Connection 0HMT0V8IQ0DUD established using the following protocol: "Tls12"
2023-08-20 00:20:50.308 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:20:50.312 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:20:50.351 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:20:50.362 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:20:50.368 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:20:50.748 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:20:50.757 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:20:50.769 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:20:50.786 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:20:50.789 +03:00 [DBG] Connection id "0HMT0V8IQ0DUD" completed keep alive response.
2023-08-20 00:20:50.791 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 483.1056ms
2023-08-20 00:20:55.686 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55
2023-08-20 00:20:55.688 +03:00 [DBG] POST requests are not supported
2023-08-20 00:20:55.696 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 00:20:55.700 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 00:20:55.704 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:20:55.716 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:20:55.719 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:20:55.767 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 00:20:55.769 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 00:20:55.771 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 00:20:55.772 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 00:20:55.774 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 00:20:55.776 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 00:20:55.780 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:20:55.783 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:20:55.788 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:20:55.791 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 00:20:55.796 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-08-20 00:20:55.799 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-08-20 00:20:55.813 +03:00 [DBG] Connection id "0HMT0V8IQ0DUD", Request id "0HMT0V8IQ0DUD:00000003": started reading request body.
2023-08-20 00:20:55.816 +03:00 [DBG] Connection id "0HMT0V8IQ0DUD", Request id "0HMT0V8IQ0DUD:00000003": done reading request body.
2023-08-20 00:20:56.002 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:20:56.005 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:20:56.007 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:20:56.022 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:20:56.094 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 00:20:56.105 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 00:20:56.107 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 00:20:56.109 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 00:20:56.113 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 00:20:56.117 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 00:20:56.163 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 342.5742ms
2023-08-20 00:20:56.169 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:20:56.172 +03:00 [DBG] Connection id "0HMT0V8IQ0DUD" completed keep alive response.
2023-08-20 00:20:56.173 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55 - 200 - text/plain;+charset=utf-8 487.0936ms
2023-08-20 00:20:57.452 +03:00 [DBG] Connection id "0HMT0V8IQ0DUB" received FIN.
2023-08-20 00:20:57.485 +03:00 [DBG] Connection id "0HMT0V8IQ0DUB" is closed. The last processed stream ID was 7.
2023-08-20 00:20:57.486 +03:00 [DBG] Connection id "0HMT0V8IQ0DUB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:20:57.490 +03:00 [DBG] Connection id "0HMT0V8IQ0DUB" stopped.
2023-08-20 00:21:05.931 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:21:05.934 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:21:05.935 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:21:05.937 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:21:05.941 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:21:05.945 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:21:05.949 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:21:05.951 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:21:05.953 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:21:05.956 +03:00 [DBG] Connection id "0HMT0V8IQ0DUD" completed keep alive response.
2023-08-20 00:21:05.959 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 27.7481ms
2023-08-20 00:21:34.530 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 00:21:34.659 +03:00 [DBG] Hosting starting
2023-08-20 00:21:34.723 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 00:21:34.730 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 00:21:34.736 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 00:21:34.739 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 00:21:34.741 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 00:21:34.748 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 00:21:34.756 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 00:21:34.759 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 00:21:34.760 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 00:21:34.771 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 00:21:34.776 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:21:34.784 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 00:21:34.787 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:21:34.797 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 00:21:34.801 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 00:21:34.807 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 00:21:34.810 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 00:21:35.001 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 00:21:35.041 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 00:21:35.044 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 00:21:35.046 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 00:21:35.047 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 00:21:35.049 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 00:21:35.050 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 00:21:35.053 +03:00 [INF] Hosting environment: Development
2023-08-20 00:21:35.054 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 00:21:35.055 +03:00 [DBG] Hosting started
2023-08-20 00:21:35.205 +03:00 [DBG] Connection id "0HMT0V925J011" received FIN.
2023-08-20 00:21:35.246 +03:00 [DBG] Connection id "0HMT0V925J011" accepted.
2023-08-20 00:21:35.253 +03:00 [DBG] Connection id "0HMT0V925J011" started.
2023-08-20 00:21:35.284 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:21:35.400 +03:00 [DBG] Connection id "0HMT0V925J011" stopped.
2023-08-20 00:21:35.408 +03:00 [DBG] Connection id "0HMT0V925J011" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:21:35.878 +03:00 [DBG] Connection id "0HMT0V925J012" accepted.
2023-08-20 00:21:35.911 +03:00 [DBG] Connection id "0HMT0V925J012" started.
2023-08-20 00:21:36.017 +03:00 [DBG] Connection 0HMT0V925J012 established using the following protocol: "Tls12"
2023-08-20 00:21:36.175 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 00:21:36.236 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 00:21:36.590 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 00:21:36.823 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 00:21:36.828 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 00:21:36.839 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 13.7887ms
2023-08-20 00:21:36.841 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 677.2902ms
2023-08-20 00:21:36.860 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 00:21:36.950 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 89.8851ms
2023-08-20 00:21:37.074 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 00:21:37.455 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 381.1900ms
2023-08-20 00:21:37.516 +03:00 [DBG] Connection id "0HMT0V925J012" received FIN.
2023-08-20 00:21:37.546 +03:00 [DBG] Connection id "0HMT0V925J012" is closed. The last processed stream ID was 7.
2023-08-20 00:21:37.550 +03:00 [DBG] Connection id "0HMT0V925J012" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:21:37.564 +03:00 [DBG] Connection id "0HMT0V925J012" stopped.
2023-08-20 00:21:45.684 +03:00 [DBG] Connection id "0HMT0V925J013" accepted.
2023-08-20 00:21:45.684 +03:00 [DBG] Connection id "0HMT0V925J013" received FIN.
2023-08-20 00:21:45.685 +03:00 [DBG] Connection id "0HMT0V925J013" started.
2023-08-20 00:21:45.686 +03:00 [DBG] Connection id "0HMT0V925J014" accepted.
2023-08-20 00:21:45.689 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:21:45.689 +03:00 [DBG] Connection id "0HMT0V925J014" started.
2023-08-20 00:21:45.694 +03:00 [DBG] Connection id "0HMT0V925J013" stopped.
2023-08-20 00:21:45.697 +03:00 [DBG] Connection id "0HMT0V925J013" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:21:45.704 +03:00 [DBG] Connection 0HMT0V925J014 established using the following protocol: "Tls12"
2023-08-20 00:21:45.716 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55
2023-08-20 00:21:45.720 +03:00 [DBG] POST requests are not supported
2023-08-20 00:21:45.757 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 00:21:45.770 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 00:21:45.774 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:21:45.869 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:21:45.873 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:21:45.910 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 00:21:45.913 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 00:21:45.917 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 00:21:45.919 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 00:21:45.921 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 00:21:45.923 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 00:21:45.926 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:21:45.928 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:21:45.935 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:21:45.939 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 00:21:45.942 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-08-20 00:21:45.944 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-08-20 00:21:45.956 +03:00 [DBG] Connection id "0HMT0V925J014", Request id "0HMT0V925J014:00000002": started reading request body.
2023-08-20 00:21:45.959 +03:00 [DBG] Connection id "0HMT0V925J014", Request id "0HMT0V925J014:00000002": done reading request body.
2023-08-20 00:21:46.152 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:21:46.154 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:21:46.156 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:21:46.168 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:23:22.082 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 00:23:22.090 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 00:23:22.091 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 00:23:22.095 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 00:23:22.097 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 00:23:22.100 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 00:23:22.130 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 96180.4569ms
2023-08-20 00:23:22.134 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:23:22.135 +03:00 [DBG] Connection id "0HMT0V925J014" completed keep alive response.
2023-08-20 00:23:22.137 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55 - 200 - text/plain;+charset=utf-8 96421.0677ms
2023-08-20 00:24:13.701 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:24:13.702 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:24:13.706 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:24:13.707 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:24:13.709 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:24:13.798 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:24:13.804 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:24:13.811 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:24:13.833 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:24:13.834 +03:00 [DBG] Connection id "0HMT0V925J014" completed keep alive response.
2023-08-20 00:24:13.836 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 135.5409ms
2023-08-20 00:24:17.121 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:24:17.123 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:24:17.124 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:24:17.126 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:24:17.129 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:24:17.133 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:24:17.138 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:24:17.139 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:24:17.140 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:24:17.141 +03:00 [DBG] Connection id "0HMT0V925J014" completed keep alive response.
2023-08-20 00:24:17.143 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 21.4204ms
2023-08-20 00:25:00.459 +03:00 [DBG] Connection id "0HMT0V925J015" accepted.
2023-08-20 00:25:00.467 +03:00 [DBG] Connection id "0HMT0V925J015" started.
2023-08-20 00:25:00.481 +03:00 [DBG] Connection 0HMT0V925J015 established using the following protocol: "Tls12"
2023-08-20 00:25:00.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 00:25:00.500 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 00:25:00.539 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 00:25:00.540 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 53.1030ms
2023-08-20 00:25:00.547 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 00:25:00.548 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 00:25:00.557 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 10.0517ms
2023-08-20 00:25:00.576 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.2552ms
2023-08-20 00:25:00.761 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 00:25:00.779 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 18.5451ms
2023-08-20 00:25:00.798 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/favicon-32x32.png - -
2023-08-20 00:25:00.862 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-08-20 00:25:00.864 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/favicon-32x32.png - - - 200 628 image/png 65.3488ms
2023-08-20 00:25:02.871 +03:00 [DBG] Connection id "0HMT0V925J015" received FIN.
2023-08-20 00:25:02.876 +03:00 [DBG] Connection id "0HMT0V925J015" is closed. The last processed stream ID was 9.
2023-08-20 00:25:02.883 +03:00 [DBG] Connection id "0HMT0V925J015" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:25:02.897 +03:00 [DBG] Connection id "0HMT0V925J015" stopped.
2023-08-20 00:25:45.323 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:25:45.336 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:25:45.337 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:25:45.339 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:25:45.341 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:25:45.344 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:25:45.350 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:25:45.352 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:25:45.354 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:25:45.356 +03:00 [DBG] Connection id "0HMT0V925J014" completed keep alive response.
2023-08-20 00:25:45.357 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 34.0735ms
2023-08-20 00:25:46.957 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:25:46.958 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:25:46.967 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:25:46.968 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:25:46.971 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:25:46.973 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:25:46.979 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:25:46.983 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:25:46.984 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:25:46.985 +03:00 [DBG] Connection id "0HMT0V925J014" completed keep alive response.
2023-08-20 00:25:46.987 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 29.7059ms
2023-08-20 00:26:29.586 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 00:26:29.717 +03:00 [DBG] Hosting starting
2023-08-20 00:26:29.754 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 00:26:29.759 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 00:26:29.766 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 00:26:29.769 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 00:26:29.770 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 00:26:29.777 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 00:26:29.785 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 00:26:29.787 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 00:26:29.790 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 00:26:29.806 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 00:26:29.811 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:26:29.818 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 00:26:29.821 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:26:29.829 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 00:26:29.833 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 00:26:29.839 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 00:26:29.842 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 00:26:30.013 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 00:26:30.082 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 00:26:30.084 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 00:26:30.085 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 00:26:30.087 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 00:26:30.090 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 00:26:30.091 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 00:26:30.093 +03:00 [INF] Hosting environment: Development
2023-08-20 00:26:30.094 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 00:26:30.095 +03:00 [DBG] Hosting started
2023-08-20 00:26:30.327 +03:00 [DBG] Connection id "0HMT0VBQ40PJL" accepted.
2023-08-20 00:26:30.327 +03:00 [DBG] Connection id "0HMT0VBQ40PJK" accepted.
2023-08-20 00:26:30.333 +03:00 [DBG] Connection id "0HMT0VBQ40PJL" started.
2023-08-20 00:26:30.333 +03:00 [DBG] Connection id "0HMT0VBQ40PJK" started.
2023-08-20 00:26:30.355 +03:00 [DBG] Connection id "0HMT0VBQ40PJL" received FIN.
2023-08-20 00:26:30.356 +03:00 [DBG] Connection id "0HMT0VBQ40PJK" received FIN.
2023-08-20 00:26:30.381 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:26:30.381 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:26:30.463 +03:00 [DBG] Connection id "0HMT0VBQ40PJL" stopped.
2023-08-20 00:26:30.463 +03:00 [DBG] Connection id "0HMT0VBQ40PJK" stopped.
2023-08-20 00:26:30.476 +03:00 [DBG] Connection id "0HMT0VBQ40PJL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:26:30.483 +03:00 [DBG] Connection id "0HMT0VBQ40PJK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:26:30.964 +03:00 [DBG] Connection id "0HMT0VBQ40PJM" accepted.
2023-08-20 00:26:31.020 +03:00 [DBG] Connection id "0HMT0VBQ40PJM" started.
2023-08-20 00:26:31.208 +03:00 [DBG] Connection 0HMT0VBQ40PJM established using the following protocol: "Tls12"
2023-08-20 00:26:31.286 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 00:26:31.345 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 00:26:31.638 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 00:26:31.836 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 00:26:31.840 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 00:26:31.852 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 13.0943ms
2023-08-20 00:26:31.854 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 576.8865ms
2023-08-20 00:26:31.876 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 00:26:31.936 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.4331ms
2023-08-20 00:26:32.044 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 00:26:32.341 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 296.2118ms
2023-08-20 00:26:38.035 +03:00 [DBG] Connection id "0HMT0VBQ40PJM" received FIN.
2023-08-20 00:26:38.068 +03:00 [DBG] Connection id "0HMT0VBQ40PJM" is closed. The last processed stream ID was 7.
2023-08-20 00:26:38.079 +03:00 [DBG] Connection id "0HMT0VBQ40PJM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:26:38.097 +03:00 [DBG] Connection id "0HMT0VBQ40PJM" stopped.
2023-08-20 00:26:38.293 +03:00 [DBG] Connection id "0HMT0VBQ40PJN" accepted.
2023-08-20 00:26:38.304 +03:00 [DBG] Connection id "0HMT0VBQ40PJN" started.
2023-08-20 00:26:38.308 +03:00 [DBG] Connection 0HMT0VBQ40PJN established using the following protocol: "Tls12"
2023-08-20 00:26:38.315 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7109/api/authenticate/authenticate application/json-patch+json 50
2023-08-20 00:26:38.320 +03:00 [DBG] POST requests are not supported
2023-08-20 00:26:38.374 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 00:26:38.386 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 00:26:38.388 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:26:38.457 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:26:38.468 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:26:38.481 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:26:38.483 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7109/api/authenticate/authenticate application/json-patch+json 50 - 401 0 - 168.2807ms
2023-08-20 00:26:38.485 +03:00 [DBG] Connection id "0HMT0VBQ40PJN", Request id "0HMT0VBQ40PJN:00000001": started reading request body.
2023-08-20 00:26:38.487 +03:00 [DBG] Connection id "0HMT0VBQ40PJN", Request id "0HMT0VBQ40PJN:00000001": done reading request body.
2023-08-20 00:29:47.129 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 00:29:47.261 +03:00 [DBG] Hosting starting
2023-08-20 00:29:47.298 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 00:29:47.304 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 00:29:47.311 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 00:29:47.313 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 00:29:47.314 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 00:29:47.321 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 00:29:47.329 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 00:29:47.331 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 00:29:47.332 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 00:29:47.342 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 00:29:47.347 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:29:47.354 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 00:29:47.357 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:29:47.365 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 00:29:47.370 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 00:29:47.375 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 00:29:47.377 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 00:29:47.569 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 00:29:47.628 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 00:29:47.676 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 00:29:47.678 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 00:29:47.679 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 00:29:47.681 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 00:29:47.683 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 00:29:47.684 +03:00 [INF] Hosting environment: Development
2023-08-20 00:29:47.685 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 00:29:47.686 +03:00 [DBG] Hosting started
2023-08-20 00:29:47.675 +03:00 [DBG] Connection id "0HMT0VDKU53RJ" received FIN.
2023-08-20 00:29:47.758 +03:00 [DBG] Connection id "0HMT0VDKU53RJ" accepted.
2023-08-20 00:29:47.768 +03:00 [DBG] Connection id "0HMT0VDKU53RJ" started.
2023-08-20 00:29:47.800 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:29:47.863 +03:00 [DBG] Connection id "0HMT0VDKU53RJ" stopped.
2023-08-20 00:29:47.875 +03:00 [DBG] Connection id "0HMT0VDKU53RJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:29:48.056 +03:00 [DBG] Connection id "0HMT0VDKU53RK" accepted.
2023-08-20 00:29:48.088 +03:00 [DBG] Connection id "0HMT0VDKU53RK" started.
2023-08-20 00:29:48.172 +03:00 [DBG] Connection 0HMT0VDKU53RK established using the following protocol: "Tls12"
2023-08-20 00:29:48.249 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 00:29:48.318 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 00:29:48.627 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 00:29:48.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 00:29:48.831 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 00:29:48.838 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 11.9235ms
2023-08-20 00:29:48.840 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 596.3169ms
2023-08-20 00:29:48.853 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 00:29:48.924 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 70.1372ms
2023-08-20 00:29:49.028 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 00:29:49.315 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 286.9989ms
2023-08-20 00:29:53.270 +03:00 [DBG] Connection id "0HMT0VDKU53RK" received FIN.
2023-08-20 00:29:53.298 +03:00 [DBG] Connection id "0HMT0VDKU53RK" is closed. The last processed stream ID was 7.
2023-08-20 00:29:53.302 +03:00 [DBG] Connection id "0HMT0VDKU53RK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:29:53.323 +03:00 [DBG] Connection id "0HMT0VDKU53RK" stopped.
2023-08-20 00:29:55.482 +03:00 [DBG] Connection id "0HMT0VDKU53RL" accepted.
2023-08-20 00:29:55.483 +03:00 [DBG] Connection id "0HMT0VDKU53RL" started.
2023-08-20 00:29:55.499 +03:00 [DBG] Connection 0HMT0VDKU53RL established using the following protocol: "Tls12"
2023-08-20 00:29:55.502 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7109/api/authenticate/authenticate application/json-patch+json 50
2023-08-20 00:29:55.509 +03:00 [DBG] POST requests are not supported
2023-08-20 00:29:55.552 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 00:29:55.562 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 00:29:55.565 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:29:55.660 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:29:55.672 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:29:55.689 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:29:55.691 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7109/api/authenticate/authenticate application/json-patch+json 50 - 401 0 - 188.6963ms
2023-08-20 00:29:55.693 +03:00 [DBG] Connection id "0HMT0VDKU53RL", Request id "0HMT0VDKU53RL:00000001": started reading request body.
2023-08-20 00:29:55.695 +03:00 [DBG] Connection id "0HMT0VDKU53RL", Request id "0HMT0VDKU53RL:00000001": done reading request body.
2023-08-20 00:31:02.257 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 00:31:02.448 +03:00 [DBG] Hosting starting
2023-08-20 00:31:02.487 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 00:31:02.492 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 00:31:02.499 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 00:31:02.502 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 00:31:02.503 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 00:31:02.511 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 00:31:02.517 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 00:31:02.520 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 00:31:02.521 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 00:31:02.531 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 00:31:02.536 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:31:02.543 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 00:31:02.546 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:31:02.554 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 00:31:02.559 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 00:31:02.565 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 00:31:02.568 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 00:31:02.763 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 00:31:02.814 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 00:31:02.816 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 00:31:02.818 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 00:31:02.819 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 00:31:02.821 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 00:31:02.823 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 00:31:02.824 +03:00 [INF] Hosting environment: Development
2023-08-20 00:31:02.825 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 00:31:02.826 +03:00 [DBG] Hosting started
2023-08-20 00:31:02.862 +03:00 [DBG] Connection id "0HMT0VEBB6BAK" received FIN.
2023-08-20 00:31:02.887 +03:00 [DBG] Connection id "0HMT0VEBB6BAK" accepted.
2023-08-20 00:31:02.892 +03:00 [DBG] Connection id "0HMT0VEBB6BAK" started.
2023-08-20 00:31:02.920 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:31:02.997 +03:00 [DBG] Connection id "0HMT0VEBB6BAK" stopped.
2023-08-20 00:31:03.018 +03:00 [DBG] Connection id "0HMT0VEBB6BAK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:31:03.237 +03:00 [DBG] Connection id "0HMT0VEBB6BAL" accepted.
2023-08-20 00:31:03.399 +03:00 [DBG] Connection id "0HMT0VEBB6BAL" started.
2023-08-20 00:31:03.501 +03:00 [DBG] Connection 0HMT0VEBB6BAL established using the following protocol: "Tls12"
2023-08-20 00:31:03.583 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 00:31:03.623 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 00:31:03.956 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 00:31:04.178 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 00:31:04.194 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 00:31:04.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 23.5796ms
2023-08-20 00:31:04.204 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 630.2997ms
2023-08-20 00:31:04.218 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 00:31:04.263 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.6927ms
2023-08-20 00:31:04.402 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 00:31:04.728 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 325.9799ms
2023-08-20 00:31:10.749 +03:00 [DBG] Connection id "0HMT0VEBB6BAM" accepted.
2023-08-20 00:31:10.751 +03:00 [DBG] Connection id "0HMT0VEBB6BAM" received FIN.
2023-08-20 00:31:10.752 +03:00 [DBG] Connection id "0HMT0VEBB6BAM" started.
2023-08-20 00:31:10.752 +03:00 [DBG] Connection id "0HMT0VEBB6BAN" accepted.
2023-08-20 00:31:10.754 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:31:10.757 +03:00 [DBG] Connection id "0HMT0VEBB6BAN" started.
2023-08-20 00:31:10.760 +03:00 [DBG] Connection id "0HMT0VEBB6BAM" stopped.
2023-08-20 00:31:10.762 +03:00 [DBG] Connection id "0HMT0VEBB6BAM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:31:10.766 +03:00 [DBG] Connection 0HMT0VEBB6BAN established using the following protocol: "Tls12"
2023-08-20 00:31:10.780 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55
2023-08-20 00:31:10.783 +03:00 [DBG] POST requests are not supported
2023-08-20 00:31:10.819 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 00:31:10.831 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 00:31:10.834 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:31:10.918 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:31:10.926 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:31:10.971 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 00:31:10.978 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 00:31:10.980 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 00:31:10.981 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 00:31:10.984 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 00:31:10.986 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 00:31:10.989 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:31:10.993 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:31:10.998 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:31:11.002 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 00:31:11.004 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-08-20 00:31:11.009 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-08-20 00:31:11.020 +03:00 [DBG] Connection id "0HMT0VEBB6BAN", Request id "0HMT0VEBB6BAN:00000002": started reading request body.
2023-08-20 00:31:11.024 +03:00 [DBG] Connection id "0HMT0VEBB6BAN", Request id "0HMT0VEBB6BAN:00000002": done reading request body.
2023-08-20 00:31:11.214 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:31:11.215 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:31:11.217 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:31:11.231 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:31:13.817 +03:00 [DBG] Connection id "0HMT0VEBB6BAL" received FIN.
2023-08-20 00:31:13.850 +03:00 [DBG] Connection id "0HMT0VEBB6BAL" is closed. The last processed stream ID was 7.
2023-08-20 00:31:13.851 +03:00 [DBG] Connection id "0HMT0VEBB6BAL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:31:13.873 +03:00 [DBG] Connection id "0HMT0VEBB6BAL" stopped.
2023-08-20 00:31:14.016 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 00:31:14.026 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 00:31:14.028 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 00:31:14.030 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 00:31:14.034 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 00:31:14.047 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 00:31:14.090 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 3069.7507ms
2023-08-20 00:31:14.094 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:31:14.095 +03:00 [DBG] Connection id "0HMT0VEBB6BAN" completed keep alive response.
2023-08-20 00:31:14.097 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55 - 200 - text/plain;+charset=utf-8 3317.0145ms
2023-08-20 00:32:01.532 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:32:01.533 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:32:01.536 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:32:01.537 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:32:01.539 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:32:01.627 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:32:01.632 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:32:01.640 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:32:01.654 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:32:01.656 +03:00 [DBG] Connection id "0HMT0VEBB6BAN" completed keep alive response.
2023-08-20 00:32:01.658 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 126.4621ms
2023-08-20 00:32:38.261 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/fayadcity - 0
2023-08-20 00:32:38.268 +03:00 [DBG] POST requests are not supported
2023-08-20 00:32:38.269 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:32:38.272 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.createcity (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:32:38.276 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.createcity (CityInfo)'
2023-08-20 00:32:38.280 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:32:38.286 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:32:38.290 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:32:38.292 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:32:38.293 +03:00 [DBG] Connection id "0HMT0VEBB6BAN" completed keep alive response.
2023-08-20 00:32:38.294 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/fayadcity - 0 - 401 0 - 33.8073ms
2023-08-20 00:32:48.930 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:32:48.931 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:32:48.934 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:32:48.936 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:32:48.938 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:32:48.942 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:32:48.956 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:32:48.958 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:32:48.960 +03:00 [DBG] Connection id "0HMT0VEBB6BAN" completed keep alive response.
2023-08-20 00:32:48.968 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 38.7299ms
2023-08-20 00:32:54.231 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:32:54.232 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:32:54.234 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:32:54.236 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:32:54.239 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:32:54.241 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:32:54.242 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:32:54.243 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:32:54.244 +03:00 [DBG] Connection id "0HMT0VEBB6BAN" completed keep alive response.
2023-08-20 00:32:54.250 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 18.9190ms
2023-08-20 00:33:11.001 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:33:11.009 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:33:11.011 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:33:11.012 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:33:11.014 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:33:11.015 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:33:11.017 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:33:11.018 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:33:11.021 +03:00 [DBG] Connection id "0HMT0VEBB6BAN" completed keep alive response.
2023-08-20 00:33:11.022 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 21.1080ms
2023-08-20 00:33:13.045 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:33:13.046 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:33:13.049 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:33:13.054 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:33:13.057 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:33:13.058 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:33:13.060 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:33:13.062 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:33:13.063 +03:00 [DBG] Connection id "0HMT0VEBB6BAN" completed keep alive response.
2023-08-20 00:33:13.065 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 19.3677ms
2023-08-20 00:33:36.607 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:33:36.611 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:33:36.612 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:33:36.613 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:33:36.615 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:33:36.616 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:33:36.617 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:33:36.618 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:33:36.619 +03:00 [DBG] Connection id "0HMT0VEBB6BAN" completed keep alive response.
2023-08-20 00:33:36.624 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 16.6758ms
2023-08-20 00:33:43.794 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:33:43.795 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:33:43.797 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:33:43.798 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:33:43.808 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:33:43.810 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:33:43.839 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:33:43.842 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:33:43.843 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:33:43.848 +03:00 [DBG] Connection id "0HMT0VEBB6BAN" completed keep alive response.
2023-08-20 00:33:43.854 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 60.2318ms
2023-08-20 00:49:54.729 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 00:49:54.873 +03:00 [DBG] Hosting starting
2023-08-20 00:49:55.021 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 00:49:55.026 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 00:49:55.032 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 00:49:55.034 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 00:49:55.048 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 00:49:55.056 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 00:49:55.061 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 00:49:55.063 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 00:49:55.064 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 00:49:55.075 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 00:49:55.079 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:49:55.085 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 00:49:55.087 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:49:55.104 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 00:49:55.108 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 00:49:55.112 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 00:49:55.115 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 00:49:55.509 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 00:49:55.566 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 00:49:55.567 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 00:49:55.568 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 00:49:55.570 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 00:49:55.571 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 00:49:55.573 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 00:49:55.574 +03:00 [INF] Hosting environment: Development
2023-08-20 00:49:55.575 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 00:49:55.576 +03:00 [DBG] Hosting started
2023-08-20 00:49:55.842 +03:00 [DBG] Connection id "0HMT0VOT04F14" received FIN.
2023-08-20 00:49:55.842 +03:00 [DBG] Connection id "0HMT0VOT04F15" received FIN.
2023-08-20 00:49:55.848 +03:00 [DBG] Connection id "0HMT0VOT04F14" accepted.
2023-08-20 00:49:55.848 +03:00 [DBG] Connection id "0HMT0VOT04F15" accepted.
2023-08-20 00:49:55.851 +03:00 [DBG] Connection id "0HMT0VOT04F15" started.
2023-08-20 00:49:55.851 +03:00 [DBG] Connection id "0HMT0VOT04F14" started.
2023-08-20 00:49:55.876 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:49:55.876 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:49:56.040 +03:00 [DBG] Connection id "0HMT0VOT04F15" stopped.
2023-08-20 00:49:56.040 +03:00 [DBG] Connection id "0HMT0VOT04F14" stopped.
2023-08-20 00:49:56.044 +03:00 [DBG] Connection id "0HMT0VOT04F14" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:49:56.044 +03:00 [DBG] Connection id "0HMT0VOT04F15" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:49:56.174 +03:00 [DBG] Connection id "0HMT0VOT04F16" accepted.
2023-08-20 00:49:56.200 +03:00 [DBG] Connection id "0HMT0VOT04F16" started.
2023-08-20 00:49:56.332 +03:00 [DBG] Connection 0HMT0VOT04F16 established using the following protocol: "Tls12"
2023-08-20 00:49:56.401 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 00:49:56.466 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 00:49:56.785 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 00:49:57.068 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 00:49:57.082 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 00:49:57.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 20.3000ms
2023-08-20 00:49:57.093 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 700.0845ms
2023-08-20 00:49:57.116 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 00:49:57.191 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.9739ms
2023-08-20 00:49:57.473 +03:00 [DBG] Connection id "0HMT0VOT04F16" reset.
2023-08-20 00:49:57.496 +03:00 [DBG] Connection id "0HMT0VOT04F16" is closed. The last processed stream ID was 5.
2023-08-20 00:49:57.684 +03:00 [DBG] Connection id "0HMT0VOT04F16" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:49:57.716 +03:00 [DBG] Connection id "0HMT0VOT04F16" stopped.
2023-08-20 00:50:58.741 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 00:50:58.867 +03:00 [DBG] Hosting starting
2023-08-20 00:50:58.902 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 00:50:58.907 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 00:50:58.914 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 00:50:58.916 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 00:50:58.917 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 00:50:58.925 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 00:50:58.932 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 00:50:58.935 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 00:50:58.936 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 00:50:58.946 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 00:50:58.951 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:50:58.957 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 00:50:58.960 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 00:50:58.970 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 00:50:58.975 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 00:50:58.979 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 00:50:58.982 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 00:50:59.135 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 00:50:59.172 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 00:50:59.174 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 00:50:59.176 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 00:50:59.177 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 00:50:59.179 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 00:50:59.180 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 00:50:59.181 +03:00 [INF] Hosting environment: Development
2023-08-20 00:50:59.183 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 00:50:59.184 +03:00 [DBG] Hosting started
2023-08-20 00:50:59.350 +03:00 [DBG] Connection id "0HMT0VPFTPI7E" received FIN.
2023-08-20 00:50:59.371 +03:00 [DBG] Connection id "0HMT0VPFTPI7E" accepted.
2023-08-20 00:50:59.375 +03:00 [DBG] Connection id "0HMT0VPFTPI7E" started.
2023-08-20 00:50:59.413 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:50:59.502 +03:00 [DBG] Connection id "0HMT0VPFTPI7E" stopped.
2023-08-20 00:50:59.514 +03:00 [DBG] Connection id "0HMT0VPFTPI7E" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:50:59.712 +03:00 [DBG] Connection id "0HMT0VPFTPI7F" accepted.
2023-08-20 00:50:59.730 +03:00 [DBG] Connection id "0HMT0VPFTPI7F" started.
2023-08-20 00:51:00.019 +03:00 [DBG] Connection 0HMT0VPFTPI7F established using the following protocol: "Tls12"
2023-08-20 00:51:00.109 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 00:51:00.166 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 00:51:00.460 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 00:51:00.656 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 00:51:00.670 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 00:51:00.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 16.7106ms
2023-08-20 00:51:00.676 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 579.3944ms
2023-08-20 00:51:00.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 00:51:00.724 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.5930ms
2023-08-20 00:51:00.853 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 00:51:01.172 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 318.4090ms
2023-08-20 00:51:15.760 +03:00 [DBG] Connection id "0HMT0VPFTPI7G" accepted.
2023-08-20 00:51:15.765 +03:00 [DBG] Connection id "0HMT0VPFTPI7G" received FIN.
2023-08-20 00:51:15.766 +03:00 [DBG] Connection id "0HMT0VPFTPI7G" started.
2023-08-20 00:51:15.766 +03:00 [DBG] Connection id "0HMT0VPFTPI7H" accepted.
2023-08-20 00:51:15.770 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 00:51:15.771 +03:00 [DBG] Connection id "0HMT0VPFTPI7H" started.
2023-08-20 00:51:15.774 +03:00 [DBG] Connection id "0HMT0VPFTPI7G" stopped.
2023-08-20 00:51:15.777 +03:00 [DBG] Connection id "0HMT0VPFTPI7G" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 00:51:15.791 +03:00 [DBG] Connection 0HMT0VPFTPI7H established using the following protocol: "Tls12"
2023-08-20 00:51:15.822 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55
2023-08-20 00:51:15.834 +03:00 [DBG] POST requests are not supported
2023-08-20 00:51:15.870 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 00:51:15.881 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 00:51:15.884 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:51:16.629 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 00:51:16.635 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:51:16.684 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 00:51:16.688 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 00:51:16.689 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 00:51:16.691 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 00:51:16.694 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 00:51:16.698 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 00:51:16.700 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:51:16.703 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 00:51:16.708 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:51:16.714 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 00:51:16.717 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-08-20 00:51:16.719 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-08-20 00:51:16.731 +03:00 [DBG] Connection id "0HMT0VPFTPI7H", Request id "0HMT0VPFTPI7H:00000002": started reading request body.
2023-08-20 00:51:16.734 +03:00 [DBG] Connection id "0HMT0VPFTPI7H", Request id "0HMT0VPFTPI7H:00000002": done reading request body.
2023-08-20 00:51:17.047 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:51:17.051 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:51:17.052 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 00:51:17.063 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 00:51:20.604 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 00:51:20.612 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 00:51:20.613 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 00:51:20.614 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 00:51:20.616 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 00:51:20.618 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 00:51:20.631 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 3921.3776ms
2023-08-20 00:51:20.635 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 00:51:20.636 +03:00 [DBG] Connection id "0HMT0VPFTPI7H" completed keep alive response.
2023-08-20 00:51:20.638 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55 - 200 - text/plain;+charset=utf-8 4815.6294ms
2023-08-20 00:51:31.755 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:51:31.756 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:51:31.759 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:51:31.760 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:51:31.762 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:51:31.859 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10214: Audience validation failed. Audiences: 'System.String'. Did not match: validationParameters.ValidAudience: 'System.String' or validationParameters.ValidAudiences: 'System.String'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:51:31.864 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10214: Audience validation failed. Audiences: 'System.String'. Did not match: validationParameters.ValidAudience: 'System.String' or validationParameters.ValidAudiences: 'System.String'.
2023-08-20 00:51:31.873 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:51:31.888 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:51:31.891 +03:00 [DBG] Connection id "0HMT0VPFTPI7H" completed keep alive response.
2023-08-20 00:51:31.892 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 136.9041ms
2023-08-20 00:51:38.308 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:51:38.310 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:51:38.311 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:51:38.312 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:51:38.315 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:51:38.322 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:51:38.327 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:51:38.328 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:51:38.329 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:51:38.332 +03:00 [DBG] Connection id "0HMT0VPFTPI7H" completed keep alive response.
2023-08-20 00:51:38.334 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 25.7694ms
2023-08-20 00:52:00.486 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:52:00.487 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:52:00.488 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:52:00.490 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:52:00.493 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:52:00.494 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:52:00.498 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:52:00.502 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:52:00.504 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:52:00.505 +03:00 [DBG] Connection id "0HMT0VPFTPI7H" completed keep alive response.
2023-08-20 00:52:00.508 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 21.6466ms
2023-08-20 00:52:06.517 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:52:06.520 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:52:06.522 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:52:06.523 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:52:06.525 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:52:06.527 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:52:06.532 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:52:06.534 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:52:06.535 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:52:06.536 +03:00 [DBG] Connection id "0HMT0VPFTPI7H" completed keep alive response.
2023-08-20 00:52:06.538 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 25.4281ms
2023-08-20 00:52:10.596 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:52:10.598 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:52:10.600 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:52:10.601 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:52:10.603 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:52:10.604 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:52:10.607 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:52:10.609 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:52:10.610 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:52:10.611 +03:00 [DBG] Connection id "0HMT0VPFTPI7H" completed keep alive response.
2023-08-20 00:52:10.616 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 19.5873ms
2023-08-20 00:52:21.091 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 00:52:21.092 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 00:52:21.097 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 00:52:21.113 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 00:52:21.116 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 00:52:21.118 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 00:52:21.124 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 00:52:21.126 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 00:52:21.128 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 00:52:21.129 +03:00 [DBG] Connection id "0HMT0VPFTPI7H" completed keep alive response.
2023-08-20 00:52:21.130 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 401 0 - 39.9488ms
2023-08-20 12:59:54.286 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 12:59:54.466 +03:00 [DBG] Hosting starting
2023-08-20 12:59:54.518 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 12:59:54.523 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 12:59:54.531 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 12:59:54.533 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 12:59:54.534 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 12:59:54.543 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 12:59:54.551 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 12:59:54.553 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 12:59:54.556 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 12:59:54.572 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 12:59:54.578 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 12:59:54.589 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 12:59:54.591 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 12:59:54.604 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 12:59:54.609 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 12:59:54.615 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 12:59:54.617 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 12:59:54.813 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 12:59:54.858 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 12:59:54.862 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 12:59:54.864 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 12:59:54.865 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 12:59:54.867 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 12:59:54.869 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 12:59:54.872 +03:00 [INF] Hosting environment: Development
2023-08-20 12:59:54.875 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 12:59:54.879 +03:00 [DBG] Hosting started
2023-08-20 12:59:54.928 +03:00 [DBG] Connection id "0HMT1CGQ4N4A7" accepted.
2023-08-20 12:59:54.928 +03:00 [DBG] Connection id "0HMT1CGQ4N4A8" accepted.
2023-08-20 12:59:54.932 +03:00 [DBG] Connection id "0HMT1CGQ4N4A7" started.
2023-08-20 12:59:54.932 +03:00 [DBG] Connection id "0HMT1CGQ4N4A8" started.
2023-08-20 12:59:54.968 +03:00 [DBG] Connection id "0HMT1CGQ4N4A7" received FIN.
2023-08-20 12:59:54.969 +03:00 [DBG] Connection id "0HMT1CGQ4N4A8" received FIN.
2023-08-20 12:59:54.984 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 12:59:54.984 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 12:59:55.043 +03:00 [DBG] Connection id "0HMT1CGQ4N4A7" stopped.
2023-08-20 12:59:55.044 +03:00 [DBG] Connection id "0HMT1CGQ4N4A8" stopped.
2023-08-20 12:59:55.049 +03:00 [DBG] Connection id "0HMT1CGQ4N4A7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 12:59:55.050 +03:00 [DBG] Connection id "0HMT1CGQ4N4A8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 12:59:58.134 +03:00 [DBG] Connection id "0HMT1CGQ4N4A9" accepted.
2023-08-20 12:59:58.750 +03:00 [DBG] Connection id "0HMT1CGQ4N4A9" started.
2023-08-20 12:59:59.729 +03:00 [DBG] Connection 0HMT1CGQ4N4A9 established using the following protocol: "Tls12"
2023-08-20 12:59:59.826 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 12:59:59.895 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 13:00:00.524 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 13:00:01.394 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 13:00:01.395 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 13:00:01.406 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 1587.1205ms
2023-08-20 13:00:01.408 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 14.2661ms
2023-08-20 13:00:01.432 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 13:00:01.602 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 169.9206ms
2023-08-20 13:00:01.735 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 13:00:02.170 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 434.9857ms
2023-08-20 13:00:02.541 +03:00 [DBG] Connection id "0HMT1CGQ4N4A9" received FIN.
2023-08-20 13:00:02.553 +03:00 [DBG] Connection id "0HMT1CGQ4N4A9" is closed. The last processed stream ID was 7.
2023-08-20 13:00:02.569 +03:00 [DBG] Connection id "0HMT1CGQ4N4A9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:00:02.581 +03:00 [DBG] Connection id "0HMT1CGQ4N4A9" stopped.
2023-08-20 13:00:12.680 +03:00 [DBG] Connection id "0HMT1CGQ4N4AA" accepted.
2023-08-20 13:00:12.682 +03:00 [DBG] Connection id "0HMT1CGQ4N4AA" started.
2023-08-20 13:00:12.686 +03:00 [DBG] Connection 0HMT1CGQ4N4AA established using the following protocol: "Tls12"
2023-08-20 13:00:12.688 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Test - -
2023-08-20 13:00:12.695 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:00:12.744 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Test'
2023-08-20 13:00:12.752 +03:00 [DBG] Endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)' with route pattern 'api/Test' is valid for the request path '/api/Test'
2023-08-20 13:00:12.755 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 13:00:13.035 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 13:00:13.050 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 13:00:13.066 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 13:00:13.067 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Test - - - 401 0 - 379.0114ms
2023-08-20 13:00:41.839 +03:00 [DBG] Connection id "0HMT1CGQ4N4AB" accepted.
2023-08-20 13:00:41.850 +03:00 [DBG] Connection id "0HMT1CGQ4N4AB" received FIN.
2023-08-20 13:00:41.852 +03:00 [DBG] Connection id "0HMT1CGQ4N4AC" accepted.
2023-08-20 13:00:41.852 +03:00 [DBG] Connection id "0HMT1CGQ4N4AB" started.
2023-08-20 13:00:41.877 +03:00 [DBG] Connection id "0HMT1CGQ4N4AC" started.
2023-08-20 13:00:41.879 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:00:41.885 +03:00 [DBG] Connection id "0HMT1CGQ4N4AB" stopped.
2023-08-20 13:00:41.886 +03:00 [DBG] Connection id "0HMT1CGQ4N4AB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:00:41.894 +03:00 [DBG] Connection 0HMT1CGQ4N4AC established using the following protocol: "Tls12"
2023-08-20 13:00:41.915 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55
2023-08-20 13:00:41.916 +03:00 [DBG] POST requests are not supported
2023-08-20 13:00:41.918 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 13:00:41.920 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 13:00:41.922 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 13:00:41.930 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 13:00:41.933 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 13:00:41.999 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 13:00:42.003 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 13:00:42.005 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 13:00:42.009 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 13:00:42.013 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 13:00:42.015 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 13:00:42.018 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 13:00:42.020 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 13:00:42.032 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 13:00:42.036 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 13:00:42.039 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-08-20 13:00:42.044 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-08-20 13:00:42.130 +03:00 [DBG] Connection id "0HMT1CGQ4N4AC", Request id "0HMT1CGQ4N4AC:00000002": started reading request body.
2023-08-20 13:00:42.133 +03:00 [DBG] Connection id "0HMT1CGQ4N4AC", Request id "0HMT1CGQ4N4AC:00000002": done reading request body.
2023-08-20 13:00:42.476 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 13:00:42.478 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 13:00:42.480 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 13:00:42.501 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 13:02:45.663 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 13:02:45.794 +03:00 [DBG] Hosting starting
2023-08-20 13:02:45.835 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 13:02:45.839 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 13:02:45.845 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 13:02:45.847 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 13:02:45.848 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 13:02:45.855 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 13:02:45.863 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 13:02:45.865 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 13:02:45.866 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 13:02:45.876 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 13:02:45.881 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 13:02:45.888 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 13:02:45.892 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 13:02:45.899 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 13:02:45.904 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 13:02:45.907 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 13:02:45.910 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 13:02:46.073 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 13:02:46.120 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 13:02:46.121 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 13:02:46.123 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 13:02:46.124 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 13:02:46.126 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 13:02:46.127 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 13:02:46.128 +03:00 [INF] Hosting environment: Development
2023-08-20 13:02:46.130 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 13:02:46.131 +03:00 [DBG] Hosting started
2023-08-20 13:02:46.141 +03:00 [DBG] Connection id "0HMT1CID5I2DH" accepted.
2023-08-20 13:02:46.145 +03:00 [DBG] Connection id "0HMT1CID5I2DH" started.
2023-08-20 13:02:46.148 +03:00 [DBG] Connection id "0HMT1CID5I2DI" received FIN.
2023-08-20 13:02:46.152 +03:00 [DBG] Connection id "0HMT1CID5I2DH" received FIN.
2023-08-20 13:02:46.155 +03:00 [DBG] Connection id "0HMT1CID5I2DI" accepted.
2023-08-20 13:02:46.182 +03:00 [DBG] Connection id "0HMT1CID5I2DI" started.
2023-08-20 13:02:46.266 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:02:46.295 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:02:46.346 +03:00 [DBG] Connection id "0HMT1CID5I2DH" stopped.
2023-08-20 13:02:46.346 +03:00 [DBG] Connection id "0HMT1CID5I2DI" stopped.
2023-08-20 13:02:46.350 +03:00 [DBG] Connection id "0HMT1CID5I2DH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:02:46.350 +03:00 [DBG] Connection id "0HMT1CID5I2DI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:02:47.208 +03:00 [DBG] Connection id "0HMT1CID5I2DJ" accepted.
2023-08-20 13:02:47.720 +03:00 [DBG] Connection id "0HMT1CID5I2DJ" started.
2023-08-20 13:02:47.803 +03:00 [DBG] Connection 0HMT1CID5I2DJ established using the following protocol: "Tls12"
2023-08-20 13:02:47.898 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 13:02:47.972 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 13:02:48.437 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 13:02:48.638 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 13:02:48.646 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 13:02:48.650 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 11.2921ms
2023-08-20 13:02:48.654 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 764.2467ms
2023-08-20 13:02:48.673 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 13:02:48.743 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 69.9870ms
2023-08-20 13:02:48.878 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 13:02:49.263 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 385.3445ms
2023-08-20 13:02:50.883 +03:00 [DBG] Connection id "0HMT1CID5I2DJ" received FIN.
2023-08-20 13:02:50.896 +03:00 [DBG] Connection id "0HMT1CID5I2DJ" is closed. The last processed stream ID was 7.
2023-08-20 13:02:50.900 +03:00 [DBG] Connection id "0HMT1CID5I2DJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:02:50.907 +03:00 [DBG] Connection id "0HMT1CID5I2DJ" stopped.
2023-08-20 13:03:04.504 +03:00 [DBG] Connection id "0HMT1CID5I2DK" accepted.
2023-08-20 13:03:04.518 +03:00 [DBG] Connection id "0HMT1CID5I2DK" received FIN.
2023-08-20 13:03:04.532 +03:00 [DBG] Connection id "0HMT1CID5I2DK" started.
2023-08-20 13:03:04.533 +03:00 [DBG] Connection id "0HMT1CID5I2DL" accepted.
2023-08-20 13:03:04.537 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:03:04.539 +03:00 [DBG] Connection id "0HMT1CID5I2DL" started.
2023-08-20 13:03:04.547 +03:00 [DBG] Connection id "0HMT1CID5I2DK" stopped.
2023-08-20 13:03:04.550 +03:00 [DBG] Connection id "0HMT1CID5I2DK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:03:04.557 +03:00 [DBG] Connection 0HMT1CID5I2DL established using the following protocol: "Tls12"
2023-08-20 13:03:04.573 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 13:03:04.578 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:03:04.614 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 13:03:04.625 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 13:03:04.629 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 13:03:05.314 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 13:03:05.335 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-20 13:03:05.342 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 13:03:05.434 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities(System.String, Int32, Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-20 13:03:05.441 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 13:03:05.445 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 13:03:05.448 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 13:03:05.451 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 13:03:05.454 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 13:03:05.460 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 13:03:06.276 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-20 13:03:06.682 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 13:03:06.695 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' ...
2023-08-20 13:03:06.701 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' using the name '' in request data ...
2023-08-20 13:03:06.703 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'queryserach' of type 'System.String'.
2023-08-20 13:03:06.710 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 13:03:06.712 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 13:03:06.714 +03:00 [DBG] Attempting to validate the bound parameter 'queryserach' of type 'System.String' ...
2023-08-20 13:03:06.718 +03:00 [DBG] Done attempting to validate the bound parameter 'queryserach' of type 'System.String'.
2023-08-20 13:03:06.722 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 13:03:06.725 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' using the name '' in request data ...
2023-08-20 13:03:06.728 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:03:06.730 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:03:06.731 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:03:06.733 +03:00 [DBG] Attempting to validate the bound parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 13:03:06.736 +03:00 [DBG] Done attempting to validate the bound parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:03:06.738 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 13:03:06.742 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' using the name '' in request data ...
2023-08-20 13:03:06.745 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:03:06.747 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:03:06.749 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:03:06.751 +03:00 [DBG] Attempting to validate the bound parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 13:03:06.753 +03:00 [DBG] Done attempting to validate the bound parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:03:13.712 +03:00 [INF] the all city reads
2023-08-20 13:05:22.972 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-20 13:05:29.677 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(i => i.pointOfInterests)
    .Count()'
2023-08-20 13:05:30.260 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-20 13:05:30.343 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-20 13:05:30.440 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (99ms).
2023-08-20 13:05:30.461 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-20 13:05:48.403 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-20 13:05:48.573 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 13:05:49.226 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 163761.3239ms
2023-08-20 13:05:49.235 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 13:05:49.241 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo._ٍServices.CityInfoRepositry.GetCitiesAsync(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\ٍServices\CityInfoRepositry.cs:line 34
   at CityInfo.Controllers.CitiesController.Getcities(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\Controllers\CitiesController.cs:line 50
   at lambda_method8(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 13:05:49.382 +03:00 [DBG] Connection id "0HMT1CID5I2DL" completed keep alive response.
2023-08-20 13:05:49.394 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-20 13:05:49.408 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 500 - text/plain;+charset=utf-8 164834.6845ms
2023-08-20 13:21:11.055 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 13:21:11.235 +03:00 [DBG] Hosting starting
2023-08-20 13:21:11.283 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 13:21:11.290 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 13:21:11.309 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 13:21:11.311 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 13:21:11.313 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 13:21:11.325 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 13:21:11.337 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 13:21:11.340 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 13:21:11.341 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 13:21:11.358 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 13:21:11.363 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 13:21:11.371 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 13:21:11.375 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 13:21:11.385 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 13:21:11.390 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 13:21:11.394 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 13:21:11.396 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 13:21:11.695 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 13:21:11.741 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 13:21:11.743 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 13:21:11.744 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 13:21:11.746 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 13:21:11.747 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 13:21:11.749 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 13:21:11.750 +03:00 [INF] Hosting environment: Development
2023-08-20 13:21:11.752 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 13:21:11.753 +03:00 [DBG] Hosting started
2023-08-20 13:21:11.871 +03:00 [DBG] Connection id "0HMT1CSMMK3NO" received FIN.
2023-08-20 13:21:11.875 +03:00 [DBG] Connection id "0HMT1CSMMK3NN" accepted.
2023-08-20 13:21:11.875 +03:00 [DBG] Connection id "0HMT1CSMMK3NO" accepted.
2023-08-20 13:21:11.875 +03:00 [DBG] Connection id "0HMT1CSMMK3NN" received FIN.
2023-08-20 13:21:11.878 +03:00 [DBG] Connection id "0HMT1CSMMK3NN" started.
2023-08-20 13:21:11.879 +03:00 [DBG] Connection id "0HMT1CSMMK3NO" started.
2023-08-20 13:21:11.937 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:21:11.937 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:21:12.310 +03:00 [DBG] Connection id "0HMT1CSMMK3NN" stopped.
2023-08-20 13:21:12.310 +03:00 [DBG] Connection id "0HMT1CSMMK3NO" stopped.
2023-08-20 13:21:12.316 +03:00 [DBG] Connection id "0HMT1CSMMK3NO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:21:12.316 +03:00 [DBG] Connection id "0HMT1CSMMK3NN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:21:13.645 +03:00 [DBG] Connection id "0HMT1CSMMK3NP" accepted.
2023-08-20 13:21:14.120 +03:00 [DBG] Connection id "0HMT1CSMMK3NP" started.
2023-08-20 13:21:14.279 +03:00 [DBG] Connection 0HMT1CSMMK3NP established using the following protocol: "Tls12"
2023-08-20 13:21:14.392 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 13:21:14.469 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 13:21:15.048 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 13:21:15.288 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 13:21:15.294 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 13:21:15.305 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 15.8299ms
2023-08-20 13:21:15.308 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 927.2056ms
2023-08-20 13:21:15.321 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 13:21:15.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 115.1229ms
2023-08-20 13:21:15.536 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 13:21:15.997 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 460.6437ms
2023-08-20 13:21:16.490 +03:00 [DBG] Connection id "0HMT1CSMMK3NP" received FIN.
2023-08-20 13:21:16.507 +03:00 [DBG] Connection id "0HMT1CSMMK3NP" is closed. The last processed stream ID was 7.
2023-08-20 13:21:16.510 +03:00 [DBG] Connection id "0HMT1CSMMK3NP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:21:16.519 +03:00 [DBG] Connection id "0HMT1CSMMK3NP" stopped.
2023-08-20 13:21:35.283 +03:00 [DBG] Connection id "0HMT1CSMMK3NQ" received FIN.
2023-08-20 13:21:35.290 +03:00 [DBG] Connection id "0HMT1CSMMK3NQ" accepted.
2023-08-20 13:21:35.293 +03:00 [DBG] Connection id "0HMT1CSMMK3NQ" started.
2023-08-20 13:21:35.300 +03:00 [DBG] Connection id "0HMT1CSMMK3NR" accepted.
2023-08-20 13:21:35.304 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:21:35.305 +03:00 [DBG] Connection id "0HMT1CSMMK3NR" started.
2023-08-20 13:21:35.311 +03:00 [DBG] Connection id "0HMT1CSMMK3NQ" stopped.
2023-08-20 13:21:35.314 +03:00 [DBG] Connection id "0HMT1CSMMK3NQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:21:35.324 +03:00 [DBG] Connection 0HMT1CSMMK3NR established using the following protocol: "Tls12"
2023-08-20 13:21:35.338 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55
2023-08-20 13:21:35.342 +03:00 [DBG] POST requests are not supported
2023-08-20 13:21:35.383 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 13:21:35.393 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 13:21:35.395 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 13:21:35.712 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 13:21:35.718 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 13:21:35.763 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 13:21:35.767 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 13:21:35.769 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 13:21:35.772 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 13:21:35.774 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 13:21:35.776 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 13:21:35.779 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 13:21:35.782 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 13:21:35.792 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 13:21:35.796 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 13:21:35.798 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-08-20 13:21:35.802 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-08-20 13:21:35.843 +03:00 [DBG] Connection id "0HMT1CSMMK3NR", Request id "0HMT1CSMMK3NR:00000002": started reading request body.
2023-08-20 13:21:35.846 +03:00 [DBG] Connection id "0HMT1CSMMK3NR", Request id "0HMT1CSMMK3NR:00000002": done reading request body.
2023-08-20 13:21:36.082 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 13:21:36.086 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 13:21:36.088 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 13:21:36.102 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 13:21:38.960 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 13:21:38.974 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 13:21:38.976 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 13:21:38.977 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 13:21:38.979 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 13:21:38.981 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 13:21:38.995 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 3210.2191ms
2023-08-20 13:21:39.001 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 13:21:39.003 +03:00 [DBG] Connection id "0HMT1CSMMK3NR" completed keep alive response.
2023-08-20 13:21:39.004 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55 - 200 - text/plain;+charset=utf-8 3665.9105ms
2023-08-20 13:22:27.341 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/Test - -
2023-08-20 13:22:27.342 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:22:27.345 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Test'
2023-08-20 13:22:27.347 +03:00 [DBG] Endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)' with route pattern 'api/Test' is valid for the request path '/api/Test'
2023-08-20 13:22:27.348 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 13:22:27.350 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 13:22:27.360 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 13:22:27.377 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 13:22:27.379 +03:00 [DBG] Connection id "0HMT1CSMMK3NR" completed keep alive response.
2023-08-20 13:22:27.380 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/Test - - - 401 0 - 39.1677ms
2023-08-20 13:22:38.904 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/Test - -
2023-08-20 13:22:38.905 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:22:38.907 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Test'
2023-08-20 13:22:38.908 +03:00 [DBG] Endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)' with route pattern 'api/Test' is valid for the request path '/api/Test'
2023-08-20 13:22:38.910 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 13:22:39.054 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 13:22:39.059 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-20 13:22:39.061 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 13:22:39.066 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 13:22:39.068 +03:00 [DBG] Connection id "0HMT1CSMMK3NR" completed keep alive response.
2023-08-20 13:22:39.069 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/Test - - - 401 0 - 165.1710ms
2023-08-20 13:23:20.294 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/Test - -
2023-08-20 13:23:20.298 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:23:20.300 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Test'
2023-08-20 13:23:20.301 +03:00 [DBG] Endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)' with route pattern 'api/Test' is valid for the request path '/api/Test'
2023-08-20 13:23:20.304 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 13:23:20.313 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 13:23:20.325 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 13:23:20.328 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 13:23:20.329 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 13:23:20.330 +03:00 [DBG] Connection id "0HMT1CSMMK3NR" completed keep alive response.
2023-08-20 13:23:20.332 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/Test - - - 401 0 - 38.1903ms
2023-08-20 13:23:31.386 +03:00 [DBG] Connection id "0HMT1CSMMK3NS" accepted.
2023-08-20 13:23:31.387 +03:00 [DBG] Connection id "0HMT1CSMMK3NS" started.
2023-08-20 13:23:31.390 +03:00 [DBG] Connection 0HMT1CSMMK3NS established using the following protocol: "Tls12"
2023-08-20 13:23:31.392 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Test - -
2023-08-20 13:23:31.393 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:23:31.394 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Test'
2023-08-20 13:23:31.395 +03:00 [DBG] Endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)' with route pattern 'api/Test' is valid for the request path '/api/Test'
2023-08-20 13:23:31.399 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 13:23:31.400 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 13:23:31.402 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 13:23:31.403 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 13:23:31.404 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Test - - - 401 0 - 12.5942ms
2023-08-20 13:23:42.313 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7109/api/authenticate/authenticate application/json-patch+json 50
2023-08-20 13:23:42.321 +03:00 [DBG] POST requests are not supported
2023-08-20 13:23:42.323 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 13:23:42.324 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 13:23:42.326 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 13:23:42.328 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 13:23:42.329 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 13:23:42.331 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 13:23:42.334 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 13:23:42.335 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 13:23:42.337 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 13:23:42.340 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 13:23:42.342 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 13:23:42.345 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 13:23:42.347 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 13:23:42.349 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 13:23:42.351 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 13:23:42.353 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-08-20 13:23:42.355 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-08-20 13:23:42.358 +03:00 [DBG] Connection id "0HMT1CSMMK3NS", Request id "0HMT1CSMMK3NS:00000003": started reading request body.
2023-08-20 13:23:42.361 +03:00 [DBG] Connection id "0HMT1CSMMK3NS", Request id "0HMT1CSMMK3NS:00000003": done reading request body.
2023-08-20 13:23:42.364 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 13:23:42.365 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 13:23:42.367 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 13:23:42.369 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 13:23:48.112 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 13:23:48.119 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-08-20 13:23:48.120 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 13:23:48.122 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 13:23:48.123 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 5778.5733ms
2023-08-20 13:23:48.125 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 13:23:48.127 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7109/api/authenticate/authenticate application/json-patch+json 50 - 200 - text/plain;+charset=utf-8 5813.9337ms
2023-08-20 13:24:19.683 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/Test - -
2023-08-20 13:24:19.686 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:24:19.687 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Test'
2023-08-20 13:24:19.689 +03:00 [DBG] Endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)' with route pattern 'api/Test' is valid for the request path '/api/Test'
2023-08-20 13:24:19.691 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 13:24:19.693 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 13:24:19.695 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 13:24:19.697 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 13:24:19.698 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/Test - - - 401 0 - 14.9784ms
2023-08-20 13:24:28.163 +03:00 [DBG] Connection id "0HMT1CSMMK3NS" received FIN.
2023-08-20 13:24:28.168 +03:00 [DBG] Connection id "0HMT1CSMMK3NS" is closed. The last processed stream ID was 5.
2023-08-20 13:24:28.177 +03:00 [DBG] Connection id "0HMT1CSMMK3NS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:24:28.186 +03:00 [DBG] Connection id "0HMT1CSMMK3NS" stopped.
2023-08-20 13:31:13.382 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 13:31:13.598 +03:00 [DBG] Hosting starting
2023-08-20 13:31:13.635 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 13:31:13.640 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 13:31:13.646 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 13:31:13.648 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 13:31:13.649 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 13:31:13.657 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 13:31:13.663 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 13:31:13.665 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 13:31:13.666 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 13:31:13.678 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 13:31:13.681 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 13:31:13.691 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 13:31:13.694 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 13:31:13.709 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 13:31:13.715 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 13:31:13.724 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 13:31:13.726 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 13:31:13.876 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 13:31:13.923 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 13:31:13.938 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 13:31:13.939 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 13:31:13.941 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 13:31:13.942 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 13:31:13.943 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 13:31:13.944 +03:00 [INF] Hosting environment: Development
2023-08-20 13:31:13.946 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 13:31:13.946 +03:00 [DBG] Connection id "0HMT1D2A4FMBL" received FIN.
2023-08-20 13:31:13.948 +03:00 [DBG] Hosting started
2023-08-20 13:31:13.972 +03:00 [DBG] Connection id "0HMT1D2A4FMBL" accepted.
2023-08-20 13:31:13.983 +03:00 [DBG] Connection id "0HMT1D2A4FMBL" started.
2023-08-20 13:31:14.010 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:31:14.079 +03:00 [DBG] Connection id "0HMT1D2A4FMBL" stopped.
2023-08-20 13:31:14.089 +03:00 [DBG] Connection id "0HMT1D2A4FMBL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:31:14.363 +03:00 [DBG] Connection id "0HMT1D2A4FMBM" accepted.
2023-08-20 13:31:14.472 +03:00 [DBG] Connection id "0HMT1D2A4FMBM" started.
2023-08-20 13:31:14.616 +03:00 [DBG] Connection 0HMT1D2A4FMBM established using the following protocol: "Tls12"
2023-08-20 13:31:14.721 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 13:31:14.776 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 13:31:15.107 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 13:31:15.298 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 13:31:15.324 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 607.1634ms
2023-08-20 13:31:15.330 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 13:31:15.330 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 13:31:15.351 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 21.4695ms
2023-08-20 13:31:15.404 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 73.8192ms
2023-08-20 13:31:15.522 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 13:31:15.855 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 333.6877ms
2023-08-20 13:31:23.596 +03:00 [DBG] Connection id "0HMT1D2A4FMBN" accepted.
2023-08-20 13:31:23.599 +03:00 [DBG] Connection id "0HMT1D2A4FMBN" started.
2023-08-20 13:31:23.599 +03:00 [DBG] Connection id "0HMT1D2A4FMBN" received FIN.
2023-08-20 13:31:23.599 +03:00 [DBG] Connection id "0HMT1D2A4FMBO" accepted.
2023-08-20 13:31:23.603 +03:00 [DBG] Connection id "0HMT1D2A4FMBO" started.
2023-08-20 13:31:23.603 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:31:23.610 +03:00 [DBG] Connection id "0HMT1D2A4FMBN" stopped.
2023-08-20 13:31:23.610 +03:00 [DBG] Connection 0HMT1D2A4FMBO established using the following protocol: "Tls12"
2023-08-20 13:31:23.613 +03:00 [DBG] Connection id "0HMT1D2A4FMBN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:31:23.634 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55
2023-08-20 13:31:23.640 +03:00 [DBG] POST requests are not supported
2023-08-20 13:31:23.689 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 13:31:23.704 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 13:31:23.708 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 13:31:23.808 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 13:31:23.813 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 13:31:23.852 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 13:31:23.855 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 13:31:23.856 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 13:31:23.858 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 13:31:23.860 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 13:31:23.863 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 13:31:23.865 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 13:31:23.867 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 13:31:23.873 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 13:31:23.876 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 13:31:23.880 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-08-20 13:31:23.882 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-08-20 13:31:23.892 +03:00 [DBG] Connection id "0HMT1D2A4FMBO", Request id "0HMT1D2A4FMBO:00000002": started reading request body.
2023-08-20 13:31:23.896 +03:00 [DBG] Connection id "0HMT1D2A4FMBO", Request id "0HMT1D2A4FMBO:00000002": done reading request body.
2023-08-20 13:31:24.108 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 13:31:24.109 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 13:31:24.112 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 13:31:24.123 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 13:31:24.316 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 13:31:24.322 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 13:31:24.323 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 13:31:24.324 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 13:31:24.325 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 13:31:24.330 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 13:31:24.341 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 468.9976ms
2023-08-20 13:31:24.345 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 13:31:24.347 +03:00 [DBG] Connection id "0HMT1D2A4FMBO" completed keep alive response.
2023-08-20 13:31:24.349 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55 - 200 - text/plain;+charset=utf-8 714.2779ms
2023-08-20 13:31:57.236 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/Test - -
2023-08-20 13:31:57.237 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:31:57.239 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Test'
2023-08-20 13:31:57.241 +03:00 [DBG] Endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)' with route pattern 'api/Test' is valid for the request path '/api/Test'
2023-08-20 13:31:57.245 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 13:31:57.332 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 13:31:57.337 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 13:31:57.346 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 13:31:57.370 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 13:31:57.372 +03:00 [DBG] Connection id "0HMT1D2A4FMBO" completed keep alive response.
2023-08-20 13:31:57.373 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/Test - - - 401 0 - 137.4072ms
2023-08-20 13:31:59.029 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/Test - -
2023-08-20 13:31:59.031 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:31:59.032 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Test'
2023-08-20 13:31:59.033 +03:00 [DBG] Endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)' with route pattern 'api/Test' is valid for the request path '/api/Test'
2023-08-20 13:31:59.035 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 13:31:59.037 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 13:31:59.043 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 13:31:59.045 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 13:31:59.047 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 13:31:59.048 +03:00 [DBG] Connection id "0HMT1D2A4FMBO" completed keep alive response.
2023-08-20 13:31:59.049 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/Test - - - 401 0 - 20.1627ms
2023-08-20 13:32:24.364 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 13:32:24.480 +03:00 [DBG] Hosting starting
2023-08-20 13:32:24.514 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 13:32:24.518 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 13:32:24.524 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 13:32:24.525 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 13:32:24.526 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 13:32:24.539 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 13:32:24.551 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 13:32:24.553 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 13:32:24.554 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 13:32:24.566 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 13:32:24.570 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 13:32:24.577 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 13:32:24.580 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 13:32:24.588 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 13:32:24.591 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 13:32:24.595 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 13:32:24.597 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 13:32:24.736 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 13:32:24.783 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 13:32:24.786 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 13:32:24.787 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 13:32:24.788 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 13:32:24.790 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 13:32:24.791 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 13:32:24.792 +03:00 [INF] Hosting environment: Development
2023-08-20 13:32:24.794 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 13:32:24.796 +03:00 [DBG] Hosting started
2023-08-20 13:32:24.878 +03:00 [DBG] Connection id "0HMT1D2V8TM0U" received FIN.
2023-08-20 13:32:24.878 +03:00 [DBG] Connection id "0HMT1D2V8TM0T" received FIN.
2023-08-20 13:32:24.923 +03:00 [DBG] Connection id "0HMT1D2V8TM0U" accepted.
2023-08-20 13:32:24.925 +03:00 [DBG] Connection id "0HMT1D2V8TM0T" accepted.
2023-08-20 13:32:24.930 +03:00 [DBG] Connection id "0HMT1D2V8TM0U" started.
2023-08-20 13:32:24.936 +03:00 [DBG] Connection id "0HMT1D2V8TM0T" started.
2023-08-20 13:32:24.964 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:32:25.074 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:32:25.124 +03:00 [DBG] Connection id "0HMT1D2V8TM0T" stopped.
2023-08-20 13:32:25.124 +03:00 [DBG] Connection id "0HMT1D2V8TM0U" stopped.
2023-08-20 13:32:25.130 +03:00 [DBG] Connection id "0HMT1D2V8TM0T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:32:25.130 +03:00 [DBG] Connection id "0HMT1D2V8TM0U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:32:25.320 +03:00 [DBG] Connection id "0HMT1D2V8TM0V" accepted.
2023-08-20 13:32:25.344 +03:00 [DBG] Connection id "0HMT1D2V8TM0V" started.
2023-08-20 13:32:25.511 +03:00 [DBG] Connection 0HMT1D2V8TM0V established using the following protocol: "Tls12"
2023-08-20 13:32:25.595 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 13:32:25.660 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 13:32:25.965 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 13:32:26.162 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 13:32:26.167 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 13:32:26.173 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 10.5491ms
2023-08-20 13:32:26.176 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 591.9682ms
2023-08-20 13:32:26.191 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 13:32:26.259 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 67.6278ms
2023-08-20 13:32:26.366 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 13:32:26.657 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 291.3435ms
2023-08-20 13:32:31.151 +03:00 [DBG] Connection id "0HMT1D2V8TM10" accepted.
2023-08-20 13:32:31.152 +03:00 [DBG] Connection id "0HMT1D2V8TM10" received FIN.
2023-08-20 13:32:31.153 +03:00 [DBG] Connection id "0HMT1D2V8TM10" started.
2023-08-20 13:32:31.153 +03:00 [DBG] Connection id "0HMT1D2V8TM11" accepted.
2023-08-20 13:32:31.157 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:32:31.158 +03:00 [DBG] Connection id "0HMT1D2V8TM11" started.
2023-08-20 13:32:31.162 +03:00 [DBG] Connection id "0HMT1D2V8TM10" stopped.
2023-08-20 13:32:31.164 +03:00 [DBG] Connection id "0HMT1D2V8TM10" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:32:31.168 +03:00 [DBG] Connection 0HMT1D2V8TM11 established using the following protocol: "Tls12"
2023-08-20 13:32:31.182 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/Test - -
2023-08-20 13:32:31.185 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:32:31.220 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Test'
2023-08-20 13:32:31.234 +03:00 [DBG] Endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)' with route pattern 'api/Test' is valid for the request path '/api/Test'
2023-08-20 13:32:31.236 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 13:32:31.568 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 13:32:31.575 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 13:32:31.578 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 13:32:31.599 +03:00 [INF] Route matched with {action = "GetSecureData", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetSecureData() on controller CityInfo.Controllers.TestController (CityInfo).
2023-08-20 13:32:31.602 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 13:32:31.604 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 13:32:31.607 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 13:32:31.610 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 13:32:31.612 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 13:32:31.614 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.TestController (CityInfo)
2023-08-20 13:32:31.615 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.TestController (CityInfo)
2023-08-20 13:32:31.618 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 13:32:31.626 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 13:32:31.627 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 13:32:31.629 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 13:32:31.630 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 13:32:31.632 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 13:32:31.643 +03:00 [INF] Executed action CityInfo.Controllers.TestController.GetSecureData (CityInfo) in 21.506ms
2023-08-20 13:32:31.646 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 13:32:31.648 +03:00 [DBG] Connection id "0HMT1D2V8TM11" completed keep alive response.
2023-08-20 13:32:31.649 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/Test - - - 200 - text/plain;+charset=utf-8 466.7151ms
2023-08-20 13:34:07.527 +03:00 [DBG] Connection id "0HMT1D2V8TM11" bad request data: "Request is missing Host header."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request is missing Host header.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.EnsureHostHeaderExists()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2023-08-20 13:34:07.536 +03:00 [DBG] Connection id "0HMT1D2V8TM11" disconnecting.
2023-08-20 13:34:07.539 +03:00 [DBG] Connection id "0HMT1D2V8TM11" received FIN.
2023-08-20 13:34:07.540 +03:00 [DBG] Connection id "0HMT1D2V8TM11" stopped.
2023-08-20 13:34:07.548 +03:00 [DBG] Connection id "0HMT1D2V8TM11" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:34:13.338 +03:00 [DBG] Connection id "0HMT1D2V8TM12" received FIN.
2023-08-20 13:34:13.339 +03:00 [DBG] Connection id "0HMT1D2V8TM12" accepted.
2023-08-20 13:34:13.340 +03:00 [DBG] Connection id "0HMT1D2V8TM12" started.
2023-08-20 13:34:13.341 +03:00 [DBG] Connection id "0HMT1D2V8TM13" accepted.
2023-08-20 13:34:13.343 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:34:13.344 +03:00 [DBG] Connection id "0HMT1D2V8TM13" started.
2023-08-20 13:34:13.349 +03:00 [DBG] Connection id "0HMT1D2V8TM12" stopped.
2023-08-20 13:34:13.352 +03:00 [DBG] Connection id "0HMT1D2V8TM12" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:34:13.355 +03:00 [DBG] Connection 0HMT1D2V8TM13 established using the following protocol: "Tls12"
2023-08-20 13:34:13.359 +03:00 [DBG] Connection id "0HMT1D2V8TM13" bad request data: "Request is missing Host header."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request is missing Host header.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.EnsureHostHeaderExists()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2023-08-20 13:34:13.373 +03:00 [DBG] Connection id "0HMT1D2V8TM13" disconnecting.
2023-08-20 13:34:13.374 +03:00 [DBG] Connection id "0HMT1D2V8TM13" stopped.
2023-08-20 13:34:13.376 +03:00 [DBG] Connection id "0HMT1D2V8TM13" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:34:16.859 +03:00 [DBG] Connection id "0HMT1D2V8TM14" accepted.
2023-08-20 13:34:16.860 +03:00 [DBG] Connection id "0HMT1D2V8TM14" received FIN.
2023-08-20 13:34:16.863 +03:00 [DBG] Connection id "0HMT1D2V8TM14" started.
2023-08-20 13:34:16.863 +03:00 [DBG] Connection id "0HMT1D2V8TM15" accepted.
2023-08-20 13:34:16.870 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:34:16.871 +03:00 [DBG] Connection id "0HMT1D2V8TM15" started.
2023-08-20 13:34:16.874 +03:00 [DBG] Connection id "0HMT1D2V8TM14" stopped.
2023-08-20 13:34:16.876 +03:00 [DBG] Connection id "0HMT1D2V8TM14" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:34:16.876 +03:00 [DBG] Connection 0HMT1D2V8TM15 established using the following protocol: "Tls12"
2023-08-20 13:34:16.880 +03:00 [DBG] Connection id "0HMT1D2V8TM15" bad request data: "Request is missing Host header."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request is missing Host header.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.EnsureHostHeaderExists()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2023-08-20 13:34:16.886 +03:00 [DBG] Connection id "0HMT1D2V8TM15" disconnecting.
2023-08-20 13:34:16.887 +03:00 [DBG] Connection id "0HMT1D2V8TM15" stopped.
2023-08-20 13:34:16.888 +03:00 [DBG] Connection id "0HMT1D2V8TM15" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:34:20.818 +03:00 [DBG] Connection id "0HMT1D2V8TM16" accepted.
2023-08-20 13:34:20.819 +03:00 [DBG] Connection id "0HMT1D2V8TM16" received FIN.
2023-08-20 13:34:20.821 +03:00 [DBG] Connection id "0HMT1D2V8TM16" started.
2023-08-20 13:34:20.821 +03:00 [DBG] Connection id "0HMT1D2V8TM17" accepted.
2023-08-20 13:34:20.824 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:34:20.828 +03:00 [DBG] Connection id "0HMT1D2V8TM17" started.
2023-08-20 13:34:20.832 +03:00 [DBG] Connection id "0HMT1D2V8TM16" stopped.
2023-08-20 13:34:20.834 +03:00 [DBG] Connection 0HMT1D2V8TM17 established using the following protocol: "Tls12"
2023-08-20 13:34:20.834 +03:00 [DBG] Connection id "0HMT1D2V8TM16" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:34:20.836 +03:00 [DBG] Connection id "0HMT1D2V8TM17" bad request data: "Request is missing Host header."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request is missing Host header.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.EnsureHostHeaderExists()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2023-08-20 13:34:20.845 +03:00 [DBG] Connection id "0HMT1D2V8TM17" disconnecting.
2023-08-20 13:34:20.846 +03:00 [DBG] Connection id "0HMT1D2V8TM17" stopped.
2023-08-20 13:34:20.847 +03:00 [DBG] Connection id "0HMT1D2V8TM17" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:34:25.200 +03:00 [DBG] Connection id "0HMT1D2V8TM19" received FIN.
2023-08-20 13:34:25.200 +03:00 [DBG] Connection id "0HMT1D2V8TM18" accepted.
2023-08-20 13:34:25.203 +03:00 [DBG] Connection id "0HMT1D2V8TM18" started.
2023-08-20 13:34:25.203 +03:00 [DBG] Connection id "0HMT1D2V8TM1A" accepted.
2023-08-20 13:34:25.205 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:34:25.205 +03:00 [DBG] Connection id "0HMT1D2V8TM1A" started.
2023-08-20 13:34:25.211 +03:00 [DBG] Connection id "0HMT1D2V8TM18" stopped.
2023-08-20 13:34:25.213 +03:00 [DBG] Connection 0HMT1D2V8TM1A established using the following protocol: "Tls12"
2023-08-20 13:34:25.213 +03:00 [DBG] Connection id "0HMT1D2V8TM18" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:34:25.215 +03:00 [DBG] Connection id "0HMT1D2V8TM1A" bad request data: "Request is missing Host header."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request is missing Host header.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.EnsureHostHeaderExists()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2023-08-20 13:34:25.221 +03:00 [DBG] Connection id "0HMT1D2V8TM1A" disconnecting.
2023-08-20 13:34:25.224 +03:00 [DBG] Connection id "0HMT1D2V8TM1A" stopped.
2023-08-20 13:34:25.226 +03:00 [DBG] Connection id "0HMT1D2V8TM1A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:34:29.633 +03:00 [DBG] Connection id "0HMT1D2V8TM1B" received FIN.
2023-08-20 13:34:29.635 +03:00 [DBG] Connection id "0HMT1D2V8TM1B" accepted.
2023-08-20 13:34:29.638 +03:00 [DBG] Connection id "0HMT1D2V8TM1B" started.
2023-08-20 13:34:29.638 +03:00 [DBG] Connection id "0HMT1D2V8TM1C" accepted.
2023-08-20 13:34:29.646 +03:00 [DBG] Connection id "0HMT1D2V8TM1C" started.
2023-08-20 13:34:29.645 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:34:29.652 +03:00 [DBG] Connection id "0HMT1D2V8TM1B" stopped.
2023-08-20 13:34:29.653 +03:00 [DBG] Connection 0HMT1D2V8TM1C established using the following protocol: "Tls12"
2023-08-20 13:34:29.655 +03:00 [DBG] Connection id "0HMT1D2V8TM1B" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:34:29.656 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 13:34:29.659 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:34:29.661 +03:00 [DBG] 1 candidate(s) found for the request path '/api/fayadcity'
2023-08-20 13:34:29.662 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/fayadcity' is valid for the request path '/api/fayadcity'
2023-08-20 13:34:29.664 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 13:34:29.666 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 13:34:29.671 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-20 13:34:29.673 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 13:34:29.710 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities(System.String, Int32, Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-20 13:34:29.713 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 13:34:29.714 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 13:34:29.715 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 13:34:29.717 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 13:34:29.719 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 13:34:29.722 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 13:34:30.095 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-20 13:34:30.466 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 13:34:30.473 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' ...
2023-08-20 13:34:30.477 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' using the name '' in request data ...
2023-08-20 13:34:30.479 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'queryserach' of type 'System.String'.
2023-08-20 13:34:30.481 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 13:34:30.482 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 13:34:30.484 +03:00 [DBG] Attempting to validate the bound parameter 'queryserach' of type 'System.String' ...
2023-08-20 13:34:30.488 +03:00 [DBG] Done attempting to validate the bound parameter 'queryserach' of type 'System.String'.
2023-08-20 13:34:30.492 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 13:34:30.493 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' using the name '' in request data ...
2023-08-20 13:34:30.495 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:34:30.497 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:34:30.498 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:34:30.500 +03:00 [DBG] Attempting to validate the bound parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 13:34:30.502 +03:00 [DBG] Done attempting to validate the bound parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:34:30.504 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 13:34:30.506 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' using the name '' in request data ...
2023-08-20 13:34:30.508 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:34:30.510 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:34:30.511 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:34:30.513 +03:00 [DBG] Attempting to validate the bound parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 13:34:30.514 +03:00 [DBG] Done attempting to validate the bound parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:34:33.547 +03:00 [INF] the all city reads
2023-08-20 13:34:35.087 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-20 13:34:35.341 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(i => i.pointOfInterests)
    .Count()'
2023-08-20 13:34:35.772 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-20 13:34:35.858 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-20 13:34:35.958 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (93ms).
2023-08-20 13:34:35.978 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-20 13:35:01.277 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-20 13:35:01.707 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 13:35:01.990 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 32268.4435ms
2023-08-20 13:35:01.994 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 13:35:02.000 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo._ٍServices.CityInfoRepositry.GetCitiesAsync(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\ٍServices\CityInfoRepositry.cs:line 34
   at CityInfo.Controllers.CitiesController.Getcities(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\Controllers\CitiesController.cs:line 50
   at lambda_method10(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 13:35:02.079 +03:00 [DBG] Connection id "0HMT1D2V8TM1C" completed keep alive response.
2023-08-20 13:35:02.088 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-20 13:35:02.097 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 500 - text/plain;+charset=utf-8 32441.0806ms
2023-08-20 13:35:48.648 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 13:35:48.780 +03:00 [DBG] Hosting starting
2023-08-20 13:35:48.816 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 13:35:48.820 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 13:35:48.826 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 13:35:48.827 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 13:35:48.829 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 13:35:48.836 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 13:35:48.843 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 13:35:48.845 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 13:35:48.847 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 13:35:48.866 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 13:35:48.870 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 13:35:48.877 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 13:35:48.879 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 13:35:48.888 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 13:35:48.891 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 13:35:48.895 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 13:35:48.896 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 13:35:49.037 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 13:35:49.080 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 13:35:49.082 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 13:35:49.083 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 13:35:49.085 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 13:35:49.086 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 13:35:49.087 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 13:35:49.088 +03:00 [INF] Hosting environment: Development
2023-08-20 13:35:49.090 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 13:35:49.092 +03:00 [DBG] Hosting started
2023-08-20 13:35:49.106 +03:00 [DBG] Connection id "0HMT1D4S4IGI6" accepted.
2023-08-20 13:35:49.106 +03:00 [DBG] Connection id "0HMT1D4S4IGI7" accepted.
2023-08-20 13:35:49.109 +03:00 [DBG] Connection id "0HMT1D4S4IGI6" started.
2023-08-20 13:35:49.109 +03:00 [DBG] Connection id "0HMT1D4S4IGI7" started.
2023-08-20 13:35:49.143 +03:00 [DBG] Connection id "0HMT1D4S4IGI6" received FIN.
2023-08-20 13:35:49.143 +03:00 [DBG] Connection id "0HMT1D4S4IGI7" received FIN.
2023-08-20 13:35:49.182 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:35:49.195 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:35:49.370 +03:00 [DBG] Connection id "0HMT1D4S4IGI7" stopped.
2023-08-20 13:35:49.370 +03:00 [DBG] Connection id "0HMT1D4S4IGI6" stopped.
2023-08-20 13:35:49.374 +03:00 [DBG] Connection id "0HMT1D4S4IGI6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:35:49.374 +03:00 [DBG] Connection id "0HMT1D4S4IGI7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:35:49.551 +03:00 [DBG] Connection id "0HMT1D4S4IGI8" accepted.
2023-08-20 13:35:49.696 +03:00 [DBG] Connection id "0HMT1D4S4IGI8" started.
2023-08-20 13:35:49.767 +03:00 [DBG] Connection 0HMT1D4S4IGI8 established using the following protocol: "Tls12"
2023-08-20 13:35:49.858 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 13:35:49.902 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 13:35:50.198 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 13:35:50.394 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 13:35:50.409 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 13:35:50.411 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 16.3046ms
2023-08-20 13:35:50.417 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 570.4296ms
2023-08-20 13:35:50.433 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 13:35:50.486 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.6145ms
2023-08-20 13:35:50.606 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 13:35:50.917 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 310.9857ms
2023-08-20 13:35:55.010 +03:00 [DBG] Connection id "0HMT1D4S4IGI9" accepted.
2023-08-20 13:35:55.011 +03:00 [DBG] Connection id "0HMT1D4S4IGI9" received FIN.
2023-08-20 13:35:55.011 +03:00 [DBG] Connection id "0HMT1D4S4IGI9" started.
2023-08-20 13:35:55.012 +03:00 [DBG] Connection id "0HMT1D4S4IGIA" accepted.
2023-08-20 13:35:55.015 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 13:35:55.015 +03:00 [DBG] Connection id "0HMT1D4S4IGIA" started.
2023-08-20 13:35:55.019 +03:00 [DBG] Connection id "0HMT1D4S4IGI9" stopped.
2023-08-20 13:35:55.024 +03:00 [DBG] Connection id "0HMT1D4S4IGI9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:35:55.029 +03:00 [DBG] Connection 0HMT1D4S4IGIA established using the following protocol: "Tls12"
2023-08-20 13:35:55.046 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 13:35:55.049 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:35:55.079 +03:00 [DBG] No candidates found for the request path '/api/fayadcity'
2023-08-20 13:35:55.080 +03:00 [DBG] Request did not match any endpoints
2023-08-20 13:35:55.394 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 13:35:55.399 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-20 13:35:55.403 +03:00 [DBG] Connection id "0HMT1D4S4IGIA" completed keep alive response.
2023-08-20 13:35:55.405 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 404 0 - 359.9770ms
2023-08-20 13:36:01.674 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/fayadcity - -
2023-08-20 13:36:01.675 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:36:01.677 +03:00 [DBG] No candidates found for the request path '/api/fayadcity'
2023-08-20 13:36:01.678 +03:00 [DBG] Request did not match any endpoints
2023-08-20 13:36:01.679 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 13:36:01.680 +03:00 [DBG] Connection id "0HMT1D4S4IGIA" completed keep alive response.
2023-08-20 13:36:01.681 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/fayadcity - - - 404 0 - 7.5757ms
2023-08-20 13:36:09.926 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 13:36:09.927 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:36:09.936 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 13:36:09.945 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 13:36:09.951 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 13:36:09.957 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 13:36:09.960 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 13:36:10.018 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities(System.String, Int32, Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-20 13:36:10.021 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 13:36:10.023 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 13:36:10.024 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 13:36:10.030 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 13:36:10.031 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 13:36:10.034 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 13:36:10.209 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-20 13:36:10.474 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 13:36:10.481 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' ...
2023-08-20 13:36:10.483 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' using the name '' in request data ...
2023-08-20 13:36:10.485 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'queryserach' of type 'System.String'.
2023-08-20 13:36:10.487 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 13:36:10.488 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 13:36:10.489 +03:00 [DBG] Attempting to validate the bound parameter 'queryserach' of type 'System.String' ...
2023-08-20 13:36:10.492 +03:00 [DBG] Done attempting to validate the bound parameter 'queryserach' of type 'System.String'.
2023-08-20 13:36:10.496 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 13:36:10.498 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' using the name '' in request data ...
2023-08-20 13:36:10.499 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:36:10.501 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:36:10.502 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:36:10.503 +03:00 [DBG] Attempting to validate the bound parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 13:36:10.505 +03:00 [DBG] Done attempting to validate the bound parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:36:10.506 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 13:36:10.508 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' using the name '' in request data ...
2023-08-20 13:36:10.510 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:36:10.511 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:36:10.513 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:36:10.515 +03:00 [DBG] Attempting to validate the bound parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 13:36:10.516 +03:00 [DBG] Done attempting to validate the bound parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:36:14.121 +03:00 [INF] the all city reads
2023-08-20 13:36:15.447 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-20 13:36:15.581 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(i => i.pointOfInterests)
    .Count()'
2023-08-20 13:36:15.927 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-20 13:36:16.004 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-20 13:36:16.098 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (88ms).
2023-08-20 13:36:16.115 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-20 13:36:29.621 +03:00 [DBG] Connection id "0HMT1D4S4IGIA" received FIN.
2023-08-20 13:36:29.622 +03:00 [DBG] Connection id "0HMT1D4S4IGIA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 13:36:29.624 +03:00 [DBG] Connection id "0HMT1D4S4IGIA" disconnecting.
2023-08-20 13:36:39.466 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/cities?pagenumber=1&pagesize=10 - -
2023-08-20 13:36:39.467 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 13:36:39.468 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 13:36:39.469 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 13:36:39.471 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 13:36:39.472 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 13:36:39.473 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 13:36:39.475 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities(System.String, Int32, Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-20 13:36:39.478 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 13:36:39.479 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 13:36:39.481 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 13:36:39.483 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 13:36:39.485 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 13:36:39.487 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 13:36:39.502 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 13:36:39.509 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' ...
2023-08-20 13:36:39.511 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' using the name '' in request data ...
2023-08-20 13:36:39.513 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'queryserach' of type 'System.String'.
2023-08-20 13:36:39.515 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 13:36:39.516 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 13:36:39.517 +03:00 [DBG] Attempting to validate the bound parameter 'queryserach' of type 'System.String' ...
2023-08-20 13:36:39.519 +03:00 [DBG] Done attempting to validate the bound parameter 'queryserach' of type 'System.String'.
2023-08-20 13:36:39.520 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 13:36:39.521 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' using the name 'pagenumber' in request data ...
2023-08-20 13:36:39.523 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:36:39.525 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:36:39.526 +03:00 [DBG] Attempting to validate the bound parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 13:36:39.527 +03:00 [DBG] Done attempting to validate the bound parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 13:36:39.529 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 13:36:39.530 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' using the name 'pagesize' in request data ...
2023-08-20 13:36:39.532 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:36:39.533 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:36:39.534 +03:00 [DBG] Attempting to validate the bound parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 13:36:39.536 +03:00 [DBG] Done attempting to validate the bound parameter 'pagesize' of type 'System.Int32'.
2023-08-20 13:36:39.537 +03:00 [INF] the all city reads
2023-08-20 13:36:39.539 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-20 13:36:39.546 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-20 13:36:39.548 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-08-20 13:36:39.549 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-20 13:36:41.069 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-20 13:36:41.069 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-20 13:36:41.093 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 13:36:41.093 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 13:36:41.410 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 31371.0354ms
2023-08-20 13:36:41.410 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 1917.1626ms
2023-08-20 13:36:41.415 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 13:36:41.415 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 13:36:41.420 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo._ٍServices.CityInfoRepositry.GetCitiesAsync(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\ٍServices\CityInfoRepositry.cs:line 34
   at CityInfo.Controllers.CitiesController.Getcities(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\Controllers\CitiesController.cs:line 48
   at lambda_method8(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 13:36:41.420 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo._ٍServices.CityInfoRepositry.GetCitiesAsync(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\ٍServices\CityInfoRepositry.cs:line 34
   at CityInfo.Controllers.CitiesController.Getcities(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\Controllers\CitiesController.cs:line 48
   at lambda_method8(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 13:36:41.475 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-20 13:36:41.485 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-20 13:36:41.492 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 500 - text/plain;+charset=utf-8 31565.4558ms
2023-08-20 13:36:41.492 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/cities?pagenumber=1&pagesize=10 - - - 500 - text/plain;+charset=utf-8 2025.4568ms
2023-08-20 13:36:41.496 +03:00 [DBG] Connection id "0HMT1D4S4IGIA" stopped.
2023-08-20 13:36:56.483 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7109/api/cities application/json-patch+json 49
2023-08-20 13:36:56.484 +03:00 [DBG] POST requests are not supported
2023-08-20 13:36:56.498 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 13:36:56.512 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.createcity (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 13:36:56.517 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.createcity (CityInfo)'
2023-08-20 13:36:56.520 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 13:36:56.524 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.createcity (CityInfo)'
2023-08-20 13:36:56.528 +03:00 [INF] Route matched with {action = "createcity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] createcity(CityInfo.Models.Upsertcity) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-20 13:36:56.530 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 13:36:56.532 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 13:36:56.533 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 13:36:56.537 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 13:36:56.538 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 13:36:56.540 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 13:36:56.544 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 13:36:56.545 +03:00 [DBG] Attempting to bind parameter 'ct' of type 'CityInfo.Models.Upsertcity' ...
2023-08-20 13:36:56.547 +03:00 [DBG] Attempting to bind parameter 'ct' of type 'CityInfo.Models.Upsertcity' using the name '' in request data ...
2023-08-20 13:36:56.549 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-08-20 13:36:56.551 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-08-20 13:36:56.563 +03:00 [DBG] Connection id "0HMT1D4S4IGI8", Request id "0HMT1D4S4IGI8:0000000B": started reading request body.
2023-08-20 13:36:56.564 +03:00 [DBG] Connection id "0HMT1D4S4IGI8", Request id "0HMT1D4S4IGI8:0000000B": done reading request body.
2023-08-20 13:36:56.693 +03:00 [DBG] Done attempting to bind parameter 'ct' of type 'CityInfo.Models.Upsertcity'.
2023-08-20 13:36:56.694 +03:00 [DBG] Done attempting to bind parameter 'ct' of type 'CityInfo.Models.Upsertcity'.
2023-08-20 13:36:56.696 +03:00 [DBG] Attempting to validate the bound parameter 'ct' of type 'CityInfo.Models.Upsertcity' ...
2023-08-20 13:36:56.705 +03:00 [DBG] Done attempting to validate the bound parameter 'ct' of type 'CityInfo.Models.Upsertcity'.
2023-08-20 13:36:56.773 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-20 13:36:56.874 +03:00 [DBG] 'ApplicationDb' generated a temporary value for the property 'Id.City'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-20 13:36:56.956 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-20 13:36:56.968 +03:00 [DBG] SaveChanges starting for 'ApplicationDb'.
2023-08-20 13:36:56.975 +03:00 [DBG] DetectChanges starting for 'ApplicationDb'.
2023-08-20 13:36:56.989 +03:00 [DBG] DetectChanges completed for 'ApplicationDb'.
2023-08-20 13:36:57.032 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-20 13:37:21.659 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-20 13:37:21.735 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.DBContexts.ApplicationDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 13:37:21.913 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.createcity (CityInfo) in 25372.4767ms
2023-08-20 13:37:21.915 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.createcity (CityInfo)'
2023-08-20 13:37:21.917 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo._ٍServices.CityInfoRepositry.ADDCity(Upsertcity addcity) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\ٍServices\CityInfoRepositry.cs:line 87
   at CityInfo.Controllers.CitiesController.createcity(Upsertcity ct) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\Controllers\CitiesController.cs:line 91
   at lambda_method20(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 13:37:21.960 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-20 13:37:21.962 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7109/api/cities application/json-patch+json 49 - 500 - text/plain;+charset=utf-8 25479.2895ms
2023-08-20 17:25:37.278 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 17:25:37.565 +03:00 [DBG] Hosting starting
2023-08-20 17:25:37.733 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 17:25:37.740 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 17:25:37.777 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 17:25:37.797 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 17:25:37.813 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 17:25:37.832 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 17:25:37.845 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 17:25:37.848 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 17:25:37.849 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 17:25:37.871 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 17:25:37.875 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 17:25:37.884 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 17:25:37.887 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 17:25:37.903 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 17:25:37.909 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 17:25:37.915 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 17:25:37.916 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 17:25:38.619 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 17:25:38.689 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 17:25:38.691 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 17:25:38.692 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 17:25:38.694 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 17:25:38.695 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 17:25:38.697 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 17:25:38.698 +03:00 [INF] Hosting environment: Development
2023-08-20 17:25:38.699 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 17:25:38.700 +03:00 [DBG] Hosting started
2023-08-20 17:25:38.819 +03:00 [DBG] Connection id "0HMT1H59PI6T9" received FIN.
2023-08-20 17:25:38.834 +03:00 [DBG] Connection id "0HMT1H59PI6T9" accepted.
2023-08-20 17:25:38.836 +03:00 [DBG] Connection id "0HMT1H59PI6T9" started.
2023-08-20 17:25:38.876 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 17:25:39.305 +03:00 [DBG] Connection id "0HMT1H59PI6T9" stopped.
2023-08-20 17:25:39.342 +03:00 [DBG] Connection id "0HMT1H59PI6T9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 17:25:40.786 +03:00 [DBG] Connection id "0HMT1H59PI6TA" accepted.
2023-08-20 17:25:41.313 +03:00 [DBG] Connection id "0HMT1H59PI6TA" started.
2023-08-20 17:25:41.490 +03:00 [DBG] Connection 0HMT1H59PI6TA established using the following protocol: "Tls12"
2023-08-20 17:25:41.675 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 17:25:41.786 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 17:25:42.420 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 17:25:43.006 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 17:25:43.040 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 17:25:43.049 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 1387.2682ms
2023-08-20 17:25:43.057 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 16.7611ms
2023-08-20 17:25:43.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 17:25:43.413 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 319.2793ms
2023-08-20 17:25:43.592 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 17:25:44.242 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 650.0466ms
2023-08-20 17:25:45.045 +03:00 [DBG] Connection id "0HMT1H59PI6TA" received FIN.
2023-08-20 17:25:45.063 +03:00 [DBG] Connection id "0HMT1H59PI6TA" is closed. The last processed stream ID was 7.
2023-08-20 17:25:45.069 +03:00 [DBG] Connection id "0HMT1H59PI6TA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 17:25:45.080 +03:00 [DBG] Connection id "0HMT1H59PI6TA" stopped.
2023-08-20 17:26:05.844 +03:00 [DBG] Connection id "0HMT1H59PI6TB" accepted.
2023-08-20 17:26:05.850 +03:00 [DBG] Connection id "0HMT1H59PI6TB" received FIN.
2023-08-20 17:26:05.852 +03:00 [DBG] Connection id "0HMT1H59PI6TB" started.
2023-08-20 17:26:05.852 +03:00 [DBG] Connection id "0HMT1H59PI6TC" accepted.
2023-08-20 17:26:05.873 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 17:26:05.875 +03:00 [DBG] Connection id "0HMT1H59PI6TC" started.
2023-08-20 17:26:05.878 +03:00 [DBG] Connection id "0HMT1H59PI6TB" stopped.
2023-08-20 17:26:05.882 +03:00 [DBG] Connection id "0HMT1H59PI6TB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 17:26:05.888 +03:00 [DBG] Connection 0HMT1H59PI6TC established using the following protocol: "Tls12"
2023-08-20 17:26:05.920 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55
2023-08-20 17:26:05.925 +03:00 [DBG] POST requests are not supported
2023-08-20 17:26:05.980 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 17:26:05.997 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 17:26:06.004 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 17:26:07.617 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 17:26:07.625 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 17:26:07.692 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 17:26:07.709 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 17:26:07.712 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 17:26:07.714 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 17:26:07.717 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 17:26:07.719 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 17:26:07.721 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 17:26:07.727 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 17:26:07.736 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 17:26:07.744 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 17:26:07.752 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-08-20 17:26:07.755 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-08-20 17:26:07.812 +03:00 [DBG] Connection id "0HMT1H59PI6TC", Request id "0HMT1H59PI6TC:00000002": started reading request body.
2023-08-20 17:26:07.815 +03:00 [DBG] Connection id "0HMT1H59PI6TC", Request id "0HMT1H59PI6TC:00000002": done reading request body.
2023-08-20 17:26:08.375 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 17:26:08.377 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 17:26:08.380 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 17:26:08.404 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 17:26:09.015 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 17:26:09.029 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 17:26:09.032 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 17:26:09.034 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 17:26:09.036 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 17:26:09.041 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 17:26:09.058 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 1325.6885ms
2023-08-20 17:26:09.082 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 17:26:09.085 +03:00 [DBG] Connection id "0HMT1H59PI6TC" completed keep alive response.
2023-08-20 17:26:09.087 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55 - 200 - text/plain;+charset=utf-8 3166.9934ms
2023-08-20 17:26:22.675 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 17:26:22.680 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 17:26:22.687 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 17:26:22.689 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 17:26:22.691 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:26:22.692 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 17:26:22.719 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 17:26:22.734 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 17:26:22.736 +03:00 [DBG] Connection id "0HMT1H59PI6TC" completed keep alive response.
2023-08-20 17:26:22.737 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 401 0 - 61.8278ms
2023-08-20 17:26:41.068 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 17:26:41.074 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 17:26:41.075 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 17:26:41.076 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 17:26:41.078 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:26:41.217 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 17:26:41.229 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
2023-08-20 17:26:41.232 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 17:26:41.240 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 17:26:41.241 +03:00 [DBG] Connection id "0HMT1H59PI6TC" completed keep alive response.
2023-08-20 17:26:41.243 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 401 0 - 174.9470ms
2023-08-20 17:31:10.520 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 17:31:10.682 +03:00 [DBG] Hosting starting
2023-08-20 17:31:10.730 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 17:31:10.740 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 17:31:10.746 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 17:31:10.747 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 17:31:10.749 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 17:31:10.757 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 17:31:10.763 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 17:31:10.764 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 17:31:10.767 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 17:31:10.787 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 17:31:10.790 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 17:31:10.797 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 17:31:10.803 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 17:31:10.812 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 17:31:10.816 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 17:31:10.823 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 17:31:10.825 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 17:31:11.014 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 17:31:11.070 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 17:31:11.072 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 17:31:11.074 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 17:31:11.075 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 17:31:11.077 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 17:31:11.079 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 17:31:11.081 +03:00 [INF] Hosting environment: Development
2023-08-20 17:31:11.082 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 17:31:11.085 +03:00 [DBG] Hosting started
2023-08-20 17:31:11.515 +03:00 [DBG] Connection id "0HMT1H8CUBA4G" accepted.
2023-08-20 17:31:11.515 +03:00 [DBG] Connection id "0HMT1H8CUBA4H" accepted.
2023-08-20 17:31:11.524 +03:00 [DBG] Connection id "0HMT1H8CUBA4H" started.
2023-08-20 17:31:11.524 +03:00 [DBG] Connection id "0HMT1H8CUBA4G" started.
2023-08-20 17:31:11.535 +03:00 [DBG] Connection id "0HMT1H8CUBA4H" received FIN.
2023-08-20 17:31:11.535 +03:00 [DBG] Connection id "0HMT1H8CUBA4G" received FIN.
2023-08-20 17:31:11.572 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 17:31:11.592 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 17:31:11.668 +03:00 [DBG] Connection id "0HMT1H8CUBA4G" stopped.
2023-08-20 17:31:11.668 +03:00 [DBG] Connection id "0HMT1H8CUBA4H" stopped.
2023-08-20 17:31:11.677 +03:00 [DBG] Connection id "0HMT1H8CUBA4G" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 17:31:11.685 +03:00 [DBG] Connection id "0HMT1H8CUBA4H" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 17:31:13.312 +03:00 [DBG] Connection id "0HMT1H8CUBA4I" accepted.
2023-08-20 17:31:13.537 +03:00 [DBG] Connection id "0HMT1H8CUBA4I" started.
2023-08-20 17:31:13.790 +03:00 [DBG] Connection 0HMT1H8CUBA4I established using the following protocol: "Tls12"
2023-08-20 17:31:13.968 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 17:31:14.073 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 17:31:14.794 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 17:31:15.110 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 17:31:15.119 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 17:31:15.127 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 15.1465ms
2023-08-20 17:31:15.129 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 1173.8975ms
2023-08-20 17:31:15.164 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 17:31:15.263 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 99.3217ms
2023-08-20 17:31:15.509 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 17:31:16.143 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 633.6174ms
2023-08-20 17:31:16.685 +03:00 [DBG] Connection id "0HMT1H8CUBA4I" received FIN.
2023-08-20 17:31:16.707 +03:00 [DBG] Connection id "0HMT1H8CUBA4I" is closed. The last processed stream ID was 7.
2023-08-20 17:31:16.716 +03:00 [DBG] Connection id "0HMT1H8CUBA4I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 17:31:16.722 +03:00 [DBG] Connection id "0HMT1H8CUBA4I" stopped.
2023-08-20 17:31:23.132 +03:00 [DBG] Connection id "0HMT1H8CUBA4J" accepted.
2023-08-20 17:31:23.132 +03:00 [DBG] Connection id "0HMT1H8CUBA4J" received FIN.
2023-08-20 17:31:23.134 +03:00 [DBG] Connection id "0HMT1H8CUBA4J" started.
2023-08-20 17:31:23.134 +03:00 [DBG] Connection id "0HMT1H8CUBA4K" accepted.
2023-08-20 17:31:23.137 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 17:31:23.138 +03:00 [DBG] Connection id "0HMT1H8CUBA4K" started.
2023-08-20 17:31:23.155 +03:00 [DBG] Connection id "0HMT1H8CUBA4J" stopped.
2023-08-20 17:31:23.166 +03:00 [DBG] Connection id "0HMT1H8CUBA4J" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 17:31:23.169 +03:00 [DBG] Connection 0HMT1H8CUBA4K established using the following protocol: "Tls12"
2023-08-20 17:31:23.187 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 17:31:23.199 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 17:31:23.278 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 17:31:23.305 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 17:31:23.313 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:31:24.050 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10205: Issuer validation failed. Issuer: 'System.String'. Did not match: validationParameters.ValidIssuer: 'System.String' or validationParameters.ValidIssuers: 'System.String'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 17:31:24.060 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10205: Issuer validation failed. Issuer: 'System.String'. Did not match: validationParameters.ValidIssuer: 'System.String' or validationParameters.ValidIssuers: 'System.String'.
2023-08-20 17:31:24.102 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 17:31:24.152 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 17:31:24.161 +03:00 [DBG] Connection id "0HMT1H8CUBA4K" completed keep alive response.
2023-08-20 17:31:24.162 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 401 0 - 974.9393ms
2023-08-20 17:31:59.341 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55
2023-08-20 17:31:59.342 +03:00 [DBG] POST requests are not supported
2023-08-20 17:31:59.345 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 17:31:59.346 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 17:31:59.348 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 17:31:59.351 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 17:31:59.358 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 17:31:59.458 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 17:31:59.463 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 17:31:59.473 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 17:31:59.481 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 17:31:59.493 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 17:31:59.495 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 17:31:59.497 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 17:31:59.499 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 17:31:59.511 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 17:31:59.516 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 17:31:59.518 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-08-20 17:31:59.530 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-08-20 17:31:59.658 +03:00 [DBG] Connection id "0HMT1H8CUBA4K", Request id "0HMT1H8CUBA4K:00000003": started reading request body.
2023-08-20 17:32:00.042 +03:00 [DBG] Connection id "0HMT1H8CUBA4K", Request id "0HMT1H8CUBA4K:00000003": done reading request body.
2023-08-20 17:32:00.492 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 17:32:00.495 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 17:32:00.497 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 17:32:00.522 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 17:32:00.649 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 17:32:00.660 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 17:32:00.661 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 17:32:00.662 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 17:32:00.663 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 17:32:00.665 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 17:32:00.692 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 1171.0237ms
2023-08-20 17:32:00.695 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 17:32:00.696 +03:00 [DBG] Connection id "0HMT1H8CUBA4K" completed keep alive response.
2023-08-20 17:32:00.698 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55 - 200 - text/plain;+charset=utf-8 1356.5620ms
2023-08-20 17:32:10.678 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 17:32:10.681 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 17:32:10.682 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 17:32:10.683 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 17:32:10.685 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:32:10.722 +03:00 [DBG] Successfully validated the token.
2023-08-20 17:32:10.725 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-08-20 17:32:10.728 +03:00 [DBG] Authorization was successful.
2023-08-20 17:32:10.732 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:32:10.751 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities(System.String, Int32, Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-20 17:32:10.758 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 17:32:10.762 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 17:32:10.767 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 17:32:10.769 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 17:32:10.771 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 17:32:10.773 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 17:32:11.835 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-20 17:32:12.475 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 17:32:12.477 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' ...
2023-08-20 17:32:12.482 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' using the name '' in request data ...
2023-08-20 17:32:12.484 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'queryserach' of type 'System.String'.
2023-08-20 17:32:12.488 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 17:32:12.489 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 17:32:12.491 +03:00 [DBG] Attempting to validate the bound parameter 'queryserach' of type 'System.String' ...
2023-08-20 17:32:12.492 +03:00 [DBG] Done attempting to validate the bound parameter 'queryserach' of type 'System.String'.
2023-08-20 17:32:12.494 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 17:32:12.497 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' using the name '' in request data ...
2023-08-20 17:32:12.501 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:32:12.504 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:32:12.505 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:32:12.509 +03:00 [DBG] Attempting to validate the bound parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 17:32:12.513 +03:00 [DBG] Done attempting to validate the bound parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:32:12.516 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 17:32:12.519 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' using the name '' in request data ...
2023-08-20 17:32:12.522 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:32:12.525 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:32:12.526 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:32:12.527 +03:00 [DBG] Attempting to validate the bound parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 17:32:12.530 +03:00 [DBG] Done attempting to validate the bound parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:32:12.534 +03:00 [INF] the all city reads
2023-08-20 17:32:15.225 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-20 17:32:16.131 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(i => i.pointOfInterests)
    .Count()'
2023-08-20 17:32:17.059 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-20 17:32:17.289 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-20 17:32:17.486 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (202ms).
2023-08-20 17:32:17.519 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-20 17:32:36.576 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-20 17:32:36.673 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 17:32:37.162 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 26388.9642ms
2023-08-20 17:32:37.180 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:32:37.192 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo._ٍServices.CityInfoRepositry.GetCitiesAsync(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\ٍServices\CityInfoRepositry.cs:line 34
   at CityInfo.Controllers.CitiesController.Getcities(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\Controllers\CitiesController.cs:line 49
   at lambda_method14(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 17:32:37.387 +03:00 [DBG] Connection id "0HMT1H8CUBA4K" completed keep alive response.
2023-08-20 17:32:37.423 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-20 17:32:37.460 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 500 - text/plain;+charset=utf-8 26781.3701ms
2023-08-20 17:32:47.232 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 17:32:47.233 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 17:32:47.235 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 17:32:47.236 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 17:32:47.238 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:32:47.239 +03:00 [DBG] Successfully validated the token.
2023-08-20 17:32:47.240 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-08-20 17:32:47.249 +03:00 [DBG] Authorization was successful.
2023-08-20 17:32:47.253 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:32:47.263 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities(System.String, Int32, Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-20 17:32:47.267 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 17:32:47.268 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 17:32:47.270 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 17:32:47.273 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 17:32:47.278 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 17:32:47.279 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 17:32:47.291 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 17:32:47.306 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' ...
2023-08-20 17:32:47.308 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' using the name '' in request data ...
2023-08-20 17:32:47.311 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'queryserach' of type 'System.String'.
2023-08-20 17:32:47.313 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 17:32:47.314 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 17:32:47.315 +03:00 [DBG] Attempting to validate the bound parameter 'queryserach' of type 'System.String' ...
2023-08-20 17:32:47.317 +03:00 [DBG] Done attempting to validate the bound parameter 'queryserach' of type 'System.String'.
2023-08-20 17:32:47.318 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 17:32:47.320 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' using the name '' in request data ...
2023-08-20 17:32:47.321 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:32:47.323 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:32:47.324 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:32:47.329 +03:00 [DBG] Attempting to validate the bound parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 17:32:47.332 +03:00 [DBG] Done attempting to validate the bound parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:32:47.336 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 17:32:47.339 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' using the name '' in request data ...
2023-08-20 17:32:47.347 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:32:47.349 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:32:47.351 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:32:47.352 +03:00 [DBG] Attempting to validate the bound parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 17:32:47.354 +03:00 [DBG] Done attempting to validate the bound parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:32:47.355 +03:00 [INF] the all city reads
2023-08-20 17:32:47.358 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-20 17:32:47.368 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-20 17:32:47.369 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-08-20 17:32:47.371 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-20 17:33:03.905 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-20 17:33:03.920 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 17:33:04.212 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 16933.0661ms
2023-08-20 17:33:04.219 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:33:04.225 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo._ٍServices.CityInfoRepositry.GetCitiesAsync(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\ٍServices\CityInfoRepositry.cs:line 34
   at CityInfo.Controllers.CitiesController.Getcities(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\Controllers\CitiesController.cs:line 49
   at lambda_method14(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 17:33:04.298 +03:00 [DBG] Connection id "0HMT1H8CUBA4K" completed keep alive response.
2023-08-20 17:33:04.303 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-20 17:33:04.305 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 500 - text/plain;+charset=utf-8 17073.2920ms
2023-08-20 17:33:10.732 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 17:33:10.738 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 17:33:10.741 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 17:33:10.743 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 17:33:10.748 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:33:10.752 +03:00 [DBG] Successfully validated the token.
2023-08-20 17:33:10.756 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-08-20 17:33:10.758 +03:00 [DBG] Authorization was successful.
2023-08-20 17:33:10.759 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:33:10.760 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities(System.String, Int32, Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-20 17:33:10.765 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 17:33:10.768 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 17:33:10.769 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 17:33:10.772 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 17:33:10.774 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 17:33:10.776 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 17:33:10.787 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 17:33:10.790 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' ...
2023-08-20 17:33:10.792 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' using the name '' in request data ...
2023-08-20 17:33:10.794 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'queryserach' of type 'System.String'.
2023-08-20 17:33:10.798 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 17:33:10.800 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 17:33:10.802 +03:00 [DBG] Attempting to validate the bound parameter 'queryserach' of type 'System.String' ...
2023-08-20 17:33:10.804 +03:00 [DBG] Done attempting to validate the bound parameter 'queryserach' of type 'System.String'.
2023-08-20 17:33:10.805 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 17:33:10.807 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' using the name '' in request data ...
2023-08-20 17:33:10.809 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:33:10.811 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:33:10.819 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:33:10.821 +03:00 [DBG] Attempting to validate the bound parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 17:33:10.824 +03:00 [DBG] Done attempting to validate the bound parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:33:10.826 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 17:33:10.827 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' using the name '' in request data ...
2023-08-20 17:33:10.832 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:33:10.835 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:33:10.838 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:33:10.840 +03:00 [DBG] Attempting to validate the bound parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 17:33:10.842 +03:00 [DBG] Done attempting to validate the bound parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:33:10.844 +03:00 [INF] the all city reads
2023-08-20 17:33:10.957 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-20 17:33:10.962 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-20 17:33:10.966 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-08-20 17:33:10.971 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-20 17:33:10.982 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-20 17:33:10.987 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 17:33:11.287 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 510.6359ms
2023-08-20 17:33:11.291 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:33:11.293 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo._ٍServices.CityInfoRepositry.GetCitiesAsync(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\ٍServices\CityInfoRepositry.cs:line 34
   at CityInfo.Controllers.CitiesController.Getcities(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\Controllers\CitiesController.cs:line 49
   at lambda_method14(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 17:33:11.347 +03:00 [DBG] Connection id "0HMT1H8CUBA4K" completed keep alive response.
2023-08-20 17:33:11.349 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-20 17:33:11.351 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 500 - text/plain;+charset=utf-8 619.1484ms
2023-08-20 17:33:25.160 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 17:33:25.162 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 17:33:25.164 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 17:33:25.166 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 17:33:25.168 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:33:25.173 +03:00 [DBG] Successfully validated the token.
2023-08-20 17:33:25.175 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-08-20 17:33:25.178 +03:00 [DBG] Authorization was successful.
2023-08-20 17:33:25.179 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:33:25.180 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities(System.String, Int32, Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-20 17:33:25.183 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 17:33:25.184 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 17:33:25.186 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 17:33:25.193 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 17:33:25.195 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 17:33:25.197 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 17:33:25.198 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 17:33:25.199 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' ...
2023-08-20 17:33:25.201 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' using the name '' in request data ...
2023-08-20 17:33:25.202 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'queryserach' of type 'System.String'.
2023-08-20 17:33:25.211 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 17:33:25.213 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 17:33:25.215 +03:00 [DBG] Attempting to validate the bound parameter 'queryserach' of type 'System.String' ...
2023-08-20 17:33:25.219 +03:00 [DBG] Done attempting to validate the bound parameter 'queryserach' of type 'System.String'.
2023-08-20 17:33:25.226 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 17:33:25.231 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' using the name '' in request data ...
2023-08-20 17:33:25.233 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:33:25.235 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:33:25.241 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:33:25.243 +03:00 [DBG] Attempting to validate the bound parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 17:33:25.244 +03:00 [DBG] Done attempting to validate the bound parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:33:25.245 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 17:33:25.247 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' using the name '' in request data ...
2023-08-20 17:33:25.248 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:33:25.250 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:33:25.251 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:33:25.256 +03:00 [DBG] Attempting to validate the bound parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 17:33:25.260 +03:00 [DBG] Done attempting to validate the bound parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:33:25.263 +03:00 [INF] the all city reads
2023-08-20 17:33:25.266 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-20 17:33:25.275 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-20 17:33:25.276 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-08-20 17:33:25.277 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-20 17:33:41.788 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-20 17:33:41.798 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 17:33:42.087 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 16890.7851ms
2023-08-20 17:33:42.092 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:33:42.097 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo._ٍServices.CityInfoRepositry.GetCitiesAsync(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\ٍServices\CityInfoRepositry.cs:line 34
   at CityInfo.Controllers.CitiesController.Getcities(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\Controllers\CitiesController.cs:line 49
   at lambda_method14(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 17:33:42.158 +03:00 [DBG] Connection id "0HMT1H8CUBA4K" completed keep alive response.
2023-08-20 17:33:42.169 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-20 17:33:42.189 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 500 - text/plain;+charset=utf-8 17029.0212ms
2023-08-20 17:34:11.040 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 17:34:11.382 +03:00 [DBG] Hosting starting
2023-08-20 17:34:11.518 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 17:34:11.526 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 17:34:11.543 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 17:34:11.545 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 17:34:11.546 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 17:34:11.567 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 17:34:11.592 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 17:34:11.593 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 17:34:11.594 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 17:34:11.614 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 17:34:11.618 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 17:34:11.626 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 17:34:11.632 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 17:34:11.648 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 17:34:11.653 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 17:34:11.658 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 17:34:11.661 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 17:34:11.908 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 17:34:11.967 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 17:34:11.991 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 17:34:11.993 +03:00 [DBG] Connection id "0HMT1HA2NID24" received FIN.
2023-08-20 17:34:11.993 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 17:34:12.000 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 17:34:12.001 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 17:34:12.005 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 17:34:12.006 +03:00 [INF] Hosting environment: Development
2023-08-20 17:34:12.008 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 17:34:12.010 +03:00 [DBG] Hosting started
2023-08-20 17:34:12.030 +03:00 [DBG] Connection id "0HMT1HA2NID24" accepted.
2023-08-20 17:34:12.068 +03:00 [DBG] Connection id "0HMT1HA2NID24" started.
2023-08-20 17:34:12.132 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 17:34:12.327 +03:00 [DBG] Connection id "0HMT1HA2NID24" stopped.
2023-08-20 17:34:12.332 +03:00 [DBG] Connection id "0HMT1HA2NID24" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 17:34:14.614 +03:00 [DBG] Connection id "0HMT1HA2NID25" accepted.
2023-08-20 17:34:14.850 +03:00 [DBG] Connection id "0HMT1HA2NID25" started.
2023-08-20 17:34:15.136 +03:00 [DBG] Connection 0HMT1HA2NID25 established using the following protocol: "Tls12"
2023-08-20 17:34:15.422 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 17:34:15.621 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 17:34:17.106 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 17:34:17.768 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 17:34:17.803 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 17:34:17.866 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 2460.5005ms
2023-08-20 17:34:17.885 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 116.6549ms
2023-08-20 17:34:18.009 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 17:34:18.448 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 439.0834ms
2023-08-20 17:34:18.752 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 17:34:19.928 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1175.6974ms
2023-08-20 17:34:20.341 +03:00 [DBG] Connection id "0HMT1HA2NID25" received FIN.
2023-08-20 17:34:20.386 +03:00 [DBG] Connection id "0HMT1HA2NID25" is closed. The last processed stream ID was 7.
2023-08-20 17:34:20.558 +03:00 [DBG] Connection id "0HMT1HA2NID25" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 17:34:20.647 +03:00 [DBG] Connection id "0HMT1HA2NID25" stopped.
2023-08-20 17:34:23.399 +03:00 [DBG] Connection id "0HMT1HA2NID26" accepted.
2023-08-20 17:34:23.401 +03:00 [DBG] Connection id "0HMT1HA2NID26" received FIN.
2023-08-20 17:34:23.401 +03:00 [DBG] Connection id "0HMT1HA2NID26" started.
2023-08-20 17:34:23.402 +03:00 [DBG] Connection id "0HMT1HA2NID27" accepted.
2023-08-20 17:34:23.411 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 17:34:23.412 +03:00 [DBG] Connection id "0HMT1HA2NID27" started.
2023-08-20 17:34:23.422 +03:00 [DBG] Connection id "0HMT1HA2NID26" stopped.
2023-08-20 17:34:23.426 +03:00 [DBG] Connection id "0HMT1HA2NID26" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 17:34:23.435 +03:00 [DBG] Connection 0HMT1HA2NID27 established using the following protocol: "Tls12"
2023-08-20 17:34:23.471 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 17:34:23.475 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 17:34:23.567 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 17:34:23.596 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 17:34:23.599 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:34:24.330 +03:00 [DBG] Successfully validated the token.
2023-08-20 17:34:24.339 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-08-20 17:34:24.361 +03:00 [DBG] Authorization was successful.
2023-08-20 17:34:24.375 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:34:24.478 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities(System.String, Int32, Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-20 17:34:24.481 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 17:34:24.483 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 17:34:24.485 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 17:34:24.494 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 17:34:24.499 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 17:34:24.508 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 17:34:24.883 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-20 17:34:25.474 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 17:34:25.483 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' ...
2023-08-20 17:34:25.501 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' using the name '' in request data ...
2023-08-20 17:34:25.512 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'queryserach' of type 'System.String'.
2023-08-20 17:34:25.517 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 17:34:25.524 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 17:34:25.529 +03:00 [DBG] Attempting to validate the bound parameter 'queryserach' of type 'System.String' ...
2023-08-20 17:34:25.544 +03:00 [DBG] Done attempting to validate the bound parameter 'queryserach' of type 'System.String'.
2023-08-20 17:34:25.558 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 17:34:25.563 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' using the name '' in request data ...
2023-08-20 17:34:25.564 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:34:25.567 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:34:25.575 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:34:25.576 +03:00 [DBG] Attempting to validate the bound parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 17:34:25.579 +03:00 [DBG] Done attempting to validate the bound parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 17:34:25.581 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 17:34:25.583 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' using the name '' in request data ...
2023-08-20 17:34:25.588 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:34:25.595 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:34:25.597 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:34:25.600 +03:00 [DBG] Attempting to validate the bound parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 17:34:25.603 +03:00 [DBG] Done attempting to validate the bound parameter 'pagesize' of type 'System.Int32'.
2023-08-20 17:34:25.608 +03:00 [INF] the all city reads
2023-08-20 17:34:28.031 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-20 17:34:28.308 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(i => i.pointOfInterests)
    .Count()'
2023-08-20 17:34:29.099 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-20 17:34:29.281 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-20 17:34:29.386 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (112ms).
2023-08-20 17:34:29.431 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-20 17:34:46.536 +03:00 [ERR] An error occurred using the connection to database 'APICity' on server '.'.
2023-08-20 17:34:46.600 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.DBContexts.ApplicationDb'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 17:34:46.993 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 22464.0983ms
2023-08-20 17:34:46.999 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 17:34:47.006 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo._ٍServices.CityInfoRepositry.GetCitiesAsync(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\ٍServices\CityInfoRepositry.cs:line 34
   at CityInfo.Controllers.CitiesController.Getcities(String queryserach, Int32 pagenumber, Int32 pagesize) in D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\Controllers\CitiesController.cs:line 49
   at lambda_method9(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-08-20 17:34:47.095 +03:00 [DBG] Connection id "0HMT1HA2NID27" completed keep alive response.
2023-08-20 17:34:47.128 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-20 17:34:47.161 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 500 - text/plain;+charset=utf-8 23689.6719ms
2023-08-20 17:36:17.178 +03:00 [DBG] Connection id "0HMT1HA2NID27" received FIN.
2023-08-20 17:36:17.186 +03:00 [DBG] Connection id "0HMT1HA2NID27" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 17:36:17.198 +03:00 [DBG] Connection id "0HMT1HA2NID27" disconnecting.
2023-08-20 17:36:17.201 +03:00 [DBG] Connection id "0HMT1HA2NID27" stopped.
2023-08-20 18:36:54.862 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-20 18:36:55.117 +03:00 [DBG] Hosting starting
2023-08-20 18:36:55.290 +03:00 [INF] User profile is available. Using 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-20 18:36:55.299 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-45dfddfa-b540-49ca-b6d7-2e989d7fdee3.xml'.
2023-08-20 18:36:55.331 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-bf228c3e-0b81-4885-9128-3d321bf69351.xml'.
2023-08-20 18:36:55.349 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-c889e7fd-1df7-46e8-8a0b-8e376a30942e.xml'.
2023-08-20 18:36:55.363 +03:00 [DBG] Reading data from file 'C:\Users\al-aqsa\AppData\Local\ASP.NET\DataProtection-Keys\key-e5be772d-0390-46e6-ac12-cc3e645327ed.xml'.
2023-08-20 18:36:55.390 +03:00 [DBG] Found key {45dfddfa-b540-49ca-b6d7-2e989d7fdee3}.
2023-08-20 18:36:55.403 +03:00 [DBG] Found key {bf228c3e-0b81-4885-9128-3d321bf69351}.
2023-08-20 18:36:55.404 +03:00 [DBG] Found key {c889e7fd-1df7-46e8-8a0b-8e376a30942e}.
2023-08-20 18:36:55.405 +03:00 [DBG] Found key {e5be772d-0390-46e6-ac12-cc3e645327ed}.
2023-08-20 18:36:55.436 +03:00 [DBG] Considering key {bf228c3e-0b81-4885-9128-3d321bf69351} with expiration date 2023-09-29 12:26:12Z as default key.
2023-08-20 18:36:55.458 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 18:36:55.633 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-20 18:36:55.638 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-20 18:36:55.651 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-20 18:36:55.656 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-20 18:36:55.662 +03:00 [DBG] Using key {bf228c3e-0b81-4885-9128-3d321bf69351} as the default key.
2023-08-20 18:36:55.665 +03:00 [DBG] Key ring with default key {bf228c3e-0b81-4885-9128-3d321bf69351} was loaded during application startup.
2023-08-20 18:36:56.829 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 73EEC09DDF7E86A73DEC226B921BC98689A324D4)
2023-08-20 18:36:56.914 +03:00 [INF] Now listening on: https://localhost:7109
2023-08-20 18:36:56.924 +03:00 [INF] Now listening on: http://localhost:5068
2023-08-20 18:36:56.925 +03:00 [DBG] Loaded hosting startup assembly CityInfo
2023-08-20 18:36:56.926 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-20 18:36:56.927 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-20 18:36:56.929 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-20 18:36:56.931 +03:00 [INF] Hosting environment: Development
2023-08-20 18:36:56.932 +03:00 [INF] Content root path: D:\For Learning\The Basics\.Net\Projects\API-Cevin Docks\CityInfo\CityInfo\
2023-08-20 18:36:56.934 +03:00 [DBG] Hosting started
2023-08-20 18:36:57.156 +03:00 [DBG] Connection id "0HMT1ID4QTNFU" accepted.
2023-08-20 18:36:57.159 +03:00 [DBG] Connection id "0HMT1ID4QTNFU" started.
2023-08-20 18:36:57.252 +03:00 [DBG] Connection id "0HMT1ID4QTNFV" accepted.
2023-08-20 18:36:57.255 +03:00 [DBG] Connection id "0HMT1ID4QTNFV" started.
2023-08-20 18:36:59.241 +03:00 [DBG] Connection id "0HMT1ID4QTNG0" accepted.
2023-08-20 18:36:59.568 +03:00 [DBG] Connection id "0HMT1ID4QTNG0" started.
2023-08-20 18:36:59.788 +03:00 [DBG] Connection 0HMT1ID4QTNG0 established using the following protocol: "Tls12"
2023-08-20 18:36:59.966 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/index.html - -
2023-08-20 18:37:00.092 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-20 18:37:00.860 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-20 18:37:02.595 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - -
2023-08-20 18:37:02.600 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-20 18:37:02.611 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 14.4265ms
2023-08-20 18:37:02.612 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/index.html - - - 200 - text/html;charset=utf-8 2660.1837ms
2023-08-20 18:37:02.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/_vs/browserLink - -
2023-08-20 18:37:02.922 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 292.1994ms
2023-08-20 18:37:03.158 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - -
2023-08-20 18:37:03.798 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 639.8592ms
2023-08-20 18:37:05.022 +03:00 [DBG] Connection id "0HMT1ID4QTNG0" received FIN.
2023-08-20 18:37:05.053 +03:00 [DBG] Connection id "0HMT1ID4QTNG0" is closed. The last processed stream ID was 7.
2023-08-20 18:37:05.057 +03:00 [DBG] Connection id "0HMT1ID4QTNG0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 18:37:05.076 +03:00 [DBG] Connection id "0HMT1ID4QTNG0" stopped.
2023-08-20 18:37:07.261 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2023-08-20 18:37:07.270 +03:00 [DBG] Connection id "0HMT1ID4QTNFU" stopped.
2023-08-20 18:37:07.315 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2023-08-20 18:37:07.326 +03:00 [DBG] Connection id "0HMT1ID4QTNFU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 18:37:07.328 +03:00 [DBG] Connection id "0HMT1ID4QTNFV" stopped.
2023-08-20 18:37:07.332 +03:00 [DBG] Connection id "0HMT1ID4QTNFV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 18:37:45.113 +03:00 [DBG] Connection id "0HMT1ID4QTNG1" accepted.
2023-08-20 18:37:45.130 +03:00 [DBG] Connection id "0HMT1ID4QTNG2" accepted.
2023-08-20 18:37:45.130 +03:00 [DBG] Connection id "0HMT1ID4QTNG1" started.
2023-08-20 18:37:45.142 +03:00 [DBG] Connection id "0HMT1ID4QTNG1" received FIN.
2023-08-20 18:37:45.147 +03:00 [DBG] Connection id "0HMT1ID4QTNG2" started.
2023-08-20 18:37:45.151 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-20 18:37:45.160 +03:00 [DBG] Connection 0HMT1ID4QTNG2 established using the following protocol: "Tls12"
2023-08-20 18:37:45.306 +03:00 [DBG] Connection id "0HMT1ID4QTNG1" stopped.
2023-08-20 18:37:45.309 +03:00 [DBG] Connection id "0HMT1ID4QTNG1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 18:37:45.319 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55
2023-08-20 18:37:45.324 +03:00 [DBG] POST requests are not supported
2023-08-20 18:37:45.362 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 18:37:45.373 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 18:37:45.377 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 18:37:46.255 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 18:37:46.261 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 18:37:46.315 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 18:37:46.320 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 18:37:46.322 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 18:37:46.324 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 18:37:46.326 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 18:37:46.328 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 18:37:46.331 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 18:37:46.333 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 18:37:46.342 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 18:37:46.346 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 18:37:46.349 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-08-20 18:37:46.352 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-08-20 18:37:46.393 +03:00 [DBG] Connection id "0HMT1ID4QTNG2", Request id "0HMT1ID4QTNG2:00000002": started reading request body.
2023-08-20 18:37:46.396 +03:00 [DBG] Connection id "0HMT1ID4QTNG2", Request id "0HMT1ID4QTNG2:00000002": done reading request body.
2023-08-20 18:37:46.732 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 18:37:46.736 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 18:37:46.737 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 18:37:46.750 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 18:37:47.162 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 18:37:47.170 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 18:37:47.171 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 18:37:47.172 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 18:37:47.175 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 18:37:47.177 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 18:37:47.192 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 851.3056ms
2023-08-20 18:37:47.195 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 18:37:47.196 +03:00 [DBG] Connection id "0HMT1ID4QTNG2" completed keep alive response.
2023-08-20 18:37:47.198 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7109/api/authenticate/authenticate application/json 55 - 200 - text/plain;+charset=utf-8 1878.4393ms
2023-08-20 18:38:13.413 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/cities - -
2023-08-20 18:38:13.414 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 18:38:13.416 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 18:38:13.418 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 18:38:13.421 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 18:38:13.534 +03:00 [DBG] Successfully validated the token.
2023-08-20 18:38:13.539 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-08-20 18:38:13.545 +03:00 [DBG] Authorization was successful.
2023-08-20 18:38:13.547 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 18:38:13.565 +03:00 [INF] Route matched with {action = "Getcities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Entities.City]]] Getcities(System.String, Int32, Int32) on controller CityInfo.Controllers.CitiesController (CityInfo).
2023-08-20 18:38:13.568 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 18:38:13.571 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 18:38:13.573 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 18:38:13.576 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 18:38:13.578 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 18:38:13.580 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 18:38:14.225 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-20 18:38:14.631 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.CitiesController (CityInfo)
2023-08-20 18:38:14.633 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' ...
2023-08-20 18:38:14.636 +03:00 [DBG] Attempting to bind parameter 'queryserach' of type 'System.String' using the name '' in request data ...
2023-08-20 18:38:14.639 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'queryserach' of type 'System.String'.
2023-08-20 18:38:14.641 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 18:38:14.643 +03:00 [DBG] Done attempting to bind parameter 'queryserach' of type 'System.String'.
2023-08-20 18:38:14.644 +03:00 [DBG] Attempting to validate the bound parameter 'queryserach' of type 'System.String' ...
2023-08-20 18:38:14.646 +03:00 [DBG] Done attempting to validate the bound parameter 'queryserach' of type 'System.String'.
2023-08-20 18:38:14.647 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 18:38:14.648 +03:00 [DBG] Attempting to bind parameter 'pagenumber' of type 'System.Int32' using the name '' in request data ...
2023-08-20 18:38:14.650 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 18:38:14.653 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 18:38:14.655 +03:00 [DBG] Done attempting to bind parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 18:38:14.656 +03:00 [DBG] Attempting to validate the bound parameter 'pagenumber' of type 'System.Int32' ...
2023-08-20 18:38:14.657 +03:00 [DBG] Done attempting to validate the bound parameter 'pagenumber' of type 'System.Int32'.
2023-08-20 18:38:14.659 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 18:38:14.660 +03:00 [DBG] Attempting to bind parameter 'pagesize' of type 'System.Int32' using the name '' in request data ...
2023-08-20 18:38:14.662 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pagesize' of type 'System.Int32'.
2023-08-20 18:38:14.664 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 18:38:14.665 +03:00 [DBG] Done attempting to bind parameter 'pagesize' of type 'System.Int32'.
2023-08-20 18:38:14.666 +03:00 [DBG] Attempting to validate the bound parameter 'pagesize' of type 'System.Int32' ...
2023-08-20 18:38:14.669 +03:00 [DBG] Done attempting to validate the bound parameter 'pagesize' of type 'System.Int32'.
2023-08-20 18:38:14.673 +03:00 [INF] the all city reads
2023-08-20 18:38:16.065 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'ApplicationDb' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-08-20 18:38:16.658 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(i => i.pointOfInterests)
    .Count()'
2023-08-20 18:38:17.118 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.DBContexts.ApplicationDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-20 18:38:17.216 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-20 18:38:17.305 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (90ms).
2023-08-20 18:38:17.322 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-20 18:38:18.624 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-20 18:38:18.643 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cities] AS [c]
2023-08-20 18:38:18.736 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cities] AS [c]
2023-08-20 18:38:18.785 +03:00 [DBG] A data reader was disposed.
2023-08-20 18:38:18.903 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-20 18:38:18.928 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-20 18:38:18.946 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(i => i.pointOfInterests)
    .OrderBy(a => a.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-08-20 18:38:18.985 +03:00 [DBG] Including navigation: 'City.pointOfInterests'.
2023-08-20 18:38:19.254 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.Description (string) Required, 4], [Property: PointOfInterest.Name (string) Required, 5], [Property: PointOfInterest.cityid (int) Required FK Index, 6] }
            3 -> 3
        SELECT t.Id, t.Description, t.Name, p.Id, p.Description, p.Name, p.cityid
        FROM 
        (
            SELECT c.Id, c.Description, c.Name
            FROM cities AS c
            ORDER BY c.Name ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        LEFT JOIN pointOfInterests AS p ON t.Id == p.cityid
        ORDER BY t.Name ASC, t.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.DBContexts.ApplicationDb, 
    False, 
    False, 
    True
)'
2023-08-20 18:38:19.278 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-20 18:38:19.280 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-08-20 18:38:19.288 +03:00 [DBG] Opening connection to database 'APICity' on server '.'.
2023-08-20 18:38:19.292 +03:00 [DBG] Opened connection to database 'APICity' on server '.'.
2023-08-20 18:38:19.305 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    ORDER BY [c].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Name], [t].[Id]
2023-08-20 18:38:19.367 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[Description], [p].[Name], [p].[cityid]
FROM (
    SELECT [c].[Id], [c].[Description], [c].[Name]
    FROM [cities] AS [c]
    ORDER BY [c].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [pointOfInterests] AS [p] ON [t].[Id] = [p].[cityid]
ORDER BY [t].[Name], [t].[Id]
2023-08-20 18:38:19.413 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-20 18:38:19.503 +03:00 [DBG] Context 'ApplicationDb' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-20 18:38:19.536 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-20 18:38:19.546 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-20 18:38:19.551 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-20 18:38:19.553 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-20 18:38:19.555 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-20 18:38:19.557 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-20 18:38:19.559 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-20 18:38:19.561 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-20 18:38:19.563 +03:00 [DBG] Context 'ApplicationDb' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-20 18:38:19.569 +03:00 [DBG] A data reader was disposed.
2023-08-20 18:38:19.570 +03:00 [DBG] Closing connection to database 'APICity' on server '.'.
2023-08-20 18:38:19.572 +03:00 [DBG] Closed connection to database 'APICity' on server '.'.
2023-08-20 18:38:19.655 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 18:38:19.658 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 18:38:19.659 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 18:38:19.660 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 18:38:19.661 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 18:38:19.662 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 18:38:19.668 +03:00 [INF] Executed action CityInfo.Controllers.CitiesController.Getcities (CityInfo) in 6088.5647ms
2023-08-20 18:38:19.672 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 18:38:19.677 +03:00 [DBG] Connection id "0HMT1ID4QTNG2" completed keep alive response.
2023-08-20 18:38:19.688 +03:00 [DBG] 'ApplicationDb' disposed.
2023-08-20 18:38:19.695 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/cities - - - 200 - text/plain;+charset=utf-8 6281.5355ms
2023-08-20 18:38:37.344 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/Test - -
2023-08-20 18:38:37.345 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 18:38:37.346 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Test'
2023-08-20 18:38:37.347 +03:00 [DBG] Endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)' with route pattern 'api/Test' is valid for the request path '/api/Test'
2023-08-20 18:38:37.349 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 18:38:37.357 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-20 18:38:37.408 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-08-20 18:38:37.409 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 18:38:37.411 +03:00 [INF] Route matched with {action = "GetSecureData", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetSecureData() on controller CityInfo.Controllers.TestController (CityInfo).
2023-08-20 18:38:37.413 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 18:38:37.415 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 18:38:37.416 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 18:38:37.419 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 18:38:37.421 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 18:38:37.424 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.TestController (CityInfo)
2023-08-20 18:38:37.425 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.TestController (CityInfo)
2023-08-20 18:38:37.427 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 18:38:37.430 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 18:38:37.431 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 18:38:37.432 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 18:38:37.433 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 18:38:37.435 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 18:38:37.437 +03:00 [INF] Executed action CityInfo.Controllers.TestController.GetSecureData (CityInfo) in 12.8709ms
2023-08-20 18:38:37.440 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 18:38:37.442 +03:00 [DBG] Connection id "0HMT1ID4QTNG2" completed keep alive response.
2023-08-20 18:38:37.443 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/Test - - - 200 - text/plain;+charset=utf-8 98.8641ms
2023-08-20 18:38:50.829 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7109/api/Test - -
2023-08-20 18:38:50.835 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 18:38:50.837 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Test'
2023-08-20 18:38:50.838 +03:00 [DBG] Endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)' with route pattern 'api/Test' is valid for the request path '/api/Test'
2023-08-20 18:38:50.840 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 18:38:50.841 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 18:38:50.842 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 18:38:50.844 +03:00 [INF] Route matched with {action = "GetSecureData", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetSecureData() on controller CityInfo.Controllers.TestController (CityInfo).
2023-08-20 18:38:50.846 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 18:38:50.848 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 18:38:50.850 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 18:38:50.853 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 18:38:50.854 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 18:38:50.856 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.TestController (CityInfo)
2023-08-20 18:38:50.858 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.TestController (CityInfo)
2023-08-20 18:38:50.859 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 18:38:50.862 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 18:38:50.864 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 18:38:50.865 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 18:38:50.866 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 18:38:50.869 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 18:38:50.870 +03:00 [INF] Executed action CityInfo.Controllers.TestController.GetSecureData (CityInfo) in 14.0152ms
2023-08-20 18:38:50.872 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.TestController.GetSecureData (CityInfo)'
2023-08-20 18:38:50.873 +03:00 [DBG] Connection id "0HMT1ID4QTNG2" completed keep alive response.
2023-08-20 18:38:50.874 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7109/api/Test - - - 200 - text/plain;+charset=utf-8 45.0568ms
2023-08-20 18:39:05.540 +03:00 [DBG] Connection id "0HMT1ID4QTNG3" accepted.
2023-08-20 18:39:05.542 +03:00 [DBG] Connection id "0HMT1ID4QTNG3" started.
2023-08-20 18:39:05.548 +03:00 [DBG] Connection 0HMT1ID4QTNG3 established using the following protocol: "Tls12"
2023-08-20 18:39:05.552 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/cities?pagenumber=1&pagesize=10 - -
2023-08-20 18:39:05.556 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 18:39:05.557 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 18:39:05.559 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 18:39:05.561 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 18:39:05.563 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 18:39:05.566 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 18:39:05.586 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 18:39:05.588 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/cities?pagenumber=1&pagesize=10 - - - 401 0 - 36.2384ms
2023-08-20 18:39:08.653 +03:00 [DBG] Connection id "0HMT1ID4QTNG3" received FIN.
2023-08-20 18:39:08.662 +03:00 [DBG] Connection id "0HMT1ID4QTNG3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 18:39:08.662 +03:00 [DBG] Connection id "0HMT1ID4QTNG3" is closed. The last processed stream ID was 1.
2023-08-20 18:39:08.677 +03:00 [DBG] Connection id "0HMT1ID4QTNG3" stopped.
2023-08-20 18:39:13.809 +03:00 [DBG] Connection id "0HMT1ID4QTNG4" accepted.
2023-08-20 18:39:13.810 +03:00 [DBG] Connection id "0HMT1ID4QTNG4" started.
2023-08-20 18:39:13.814 +03:00 [DBG] Connection 0HMT1ID4QTNG4 established using the following protocol: "Tls12"
2023-08-20 18:39:13.816 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7109/api/authenticate/authenticate application/json-patch+json 50
2023-08-20 18:39:13.818 +03:00 [DBG] POST requests are not supported
2023-08-20 18:39:13.819 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authenticate/authenticate'
2023-08-20 18:39:13.820 +03:00 [DBG] Endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)' with route pattern 'api/authenticate/authenticate' is valid for the request path '/api/authenticate/authenticate'
2023-08-20 18:39:13.822 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 18:39:13.823 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 18:39:13.824 +03:00 [INF] Executing endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 18:39:13.826 +03:00 [INF] Route matched with {action = "AuthenticateMethod", controller = "Authenticate"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AuthenticateMethod(AuthenticationRequestBody) on controller CityInfo.Controllers.AuthenticateController (CityInfo).
2023-08-20 18:39:13.828 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-20 18:39:13.830 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-20 18:39:13.832 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-20 18:39:13.835 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-20 18:39:13.836 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-20 18:39:13.838 +03:00 [DBG] Executing controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 18:39:13.840 +03:00 [DBG] Executed controller factory for controller CityInfo.Controllers.AuthenticateController (CityInfo)
2023-08-20 18:39:13.842 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 18:39:13.843 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' using the name '' in request data ...
2023-08-20 18:39:13.845 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-08-20 18:39:13.846 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-08-20 18:39:13.849 +03:00 [DBG] Connection id "0HMT1ID4QTNG4", Request id "0HMT1ID4QTNG4:00000001": started reading request body.
2023-08-20 18:39:13.851 +03:00 [DBG] Connection id "0HMT1ID4QTNG4", Request id "0HMT1ID4QTNG4:00000001": done reading request body.
2023-08-20 18:39:13.853 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 18:39:13.855 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 18:39:13.856 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody' ...
2023-08-20 18:39:13.858 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Controllers.AuthenticateController+AuthenticationRequestBody'.
2023-08-20 18:39:13.859 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-08-20 18:39:13.862 +03:00 [DBG] No information found on request to perform content negotiation.
2023-08-20 18:39:13.863 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-20 18:39:13.864 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-20 18:39:13.865 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-08-20 18:39:13.867 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-20 18:39:13.869 +03:00 [INF] Executed action CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo) in 30.6734ms
2023-08-20 18:39:13.870 +03:00 [INF] Executed endpoint 'CityInfo.Controllers.AuthenticateController.AuthenticateMethod (CityInfo)'
2023-08-20 18:39:13.872 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7109/api/authenticate/authenticate application/json-patch+json 50 - 200 - text/plain;+charset=utf-8 55.7135ms
2023-08-20 18:39:18.118 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7109/api/cities?pagenumber=1&pagesize=10 - -
2023-08-20 18:39:18.120 +03:00 [DBG] The request path  does not match the path filter
2023-08-20 18:39:18.121 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-08-20 18:39:18.122 +03:00 [DBG] Endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-08-20 18:39:18.125 +03:00 [DBG] Request matched endpoint 'CityInfo.Controllers.CitiesController.Getcities (CityInfo)'
2023-08-20 18:39:18.127 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-08-20 18:39:18.129 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-20 18:39:18.133 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-20 18:39:18.135 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7109/api/cities?pagenumber=1&pagesize=10 - - - 401 0 - 16.5932ms
2023-08-20 18:39:18.649 +03:00 [DBG] Connection id "0HMT1ID4QTNG4" received FIN.
2023-08-20 18:39:18.652 +03:00 [DBG] Connection id "0HMT1ID4QTNG4" is closed. The last processed stream ID was 3.
2023-08-20 18:39:18.656 +03:00 [DBG] Connection id "0HMT1ID4QTNG4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-20 18:39:18.674 +03:00 [DBG] Connection id "0HMT1ID4QTNG4" stopped.
